const onImageError=t=>{t.alt="null"==t.alt?__("No image available"):t.id,t.setAttribute("ondblclick",null)},showFullSizeImage=(t,e,r)=>{""!=r&&window.open("images/image.html?"+appdata.querystring+"&att_class="+e+"&global_id="+r+"&rotation="+t.getAttribute("rotation"),"_blank").focus()},_rotateImage=t=>{var e=$$($$(t).getActiveId()).getNode().getElementsByTagName("img")[0],t=e.getAttribute("rotation");webix.html.removeCss(e,"rotate-"+t),"270"==t&&(t="-90"),t=String(Number(t)+90),webix.html.addCss(e,"rotate-"+t),e.setAttribute("rotation",t)},rotateImage=(t,e)=>{t.ctrlKey&&(t=e.getAttribute("rotation"),webix.html.removeCss(e,"rotate-"+t),"270"==t&&(t="-90"),t=String(Number(t)+90),webix.html.addCss(e,"rotate-"+t),e.setAttribute("rotation",t))};var _rv="!Q#m7v4`ckoq:3stV&]u^rH>xS\"9yd*a/he~Ri<,2(l}bfwz-%@_C6Kg'JMO8=jNPT|U?X[0YD+p\\{AGE)I1.nLBF5WZ$;";const showErrorMsg=(t,e)=>{var r,a;t&&(r=new DOMParser,a=t.response.replace('<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">',""),a=(a=r.parseFromString(a,"text/xml").getElementsByTagName("body")[0].innerHTML).replace(/h1/g,"p").replace(/\n/g,"")),webix.alert({type:"alert-error",title:t?"Server Error!!!":"Application Error",text:"<em>"+e+"</em>"+(""!=e?"<br />":"")+(t?a:""),ok:"Continue"})},attachmentTemplate=t=>{return'<img id="'+(t.alt||"blank-image")+'" class="'+t.class+'_attachment" src="'+t.src+'" alt="'+t.alt+'" rotation="0" onerror="onImageError(this)" ondblclick="showFullSizeImage(this,\''+t.class+"','"+t.alt+'\')" onclick="rotateImage(event, this)" title="'+appdata.imageTooltip+'"/>'},attachmentTemplateExt=t=>{return'<div class="flex_div"><img id="'+(t.alt||"blank-image")+'" class="'+t.class+'_attachment" src="'+t.src+'" alt="'+t.alt+'" rotation="0" onerror="onImageError(this)" ondblclick="showFullSizeImage(this,\''+t.class+"','"+t.alt+'\')" onclick="rotateImage(event, this)" title="'+appdata.imageTooltip+'"/></div>'},uuidv4=()=>"{xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx}".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)});var dateFormat_dMY=webix.Date.dateToStr("%d-%M-%Y"),dateFormat_Ymd=webix.Date.dateToStr("%Y-%m-%d"),dateFormat_mdY=webix.Date.dateToStr("%m-%d-%Y");const rv=_rv.replace(/^(.{31})/,"$1 ");var idNumberFormat=webix.Number.numToStr({groupDelimiter:",",groupSize:3,decimalSize:0}),FingerprintReader=function(){function t(e){this.sdk=new Fingerprint.WebApi,this.sdk.onSamplesAcquired=function(t){e(t)},this.sdk.onCommunicationFailed=function(t){console.log("Communinication with the fingerprint device failed")}}return t.prototype.getInfo=function(){return this.sdk.enumerateDevices()},t.prototype.getDeviceList=function(){return this.sdk.enumerateDevices()},t.prototype.startScan=function(){this.sdk.startAcquisition(Fingerprint.SampleFormat.PngImage).then(function(){console.log("Scanning started !!!")},function(t){console.log(t.message)})},t.prototype.stopScan=function(){this.sdk.stopAcquisition().then(function(){console.log("Scanning stopped !!!")},function(t){showMessage(t.message)})},t}(),dt=function(t){for(var e,r="",a=0==t.indexOf("B")?t.substring(1):(a=t.substring(10)).substring(0,a.length-1);""!=a;)e=a.substring(0,2),r+=rv[Number(e)],a=a.substring(2);return r};export{onImageError,showFullSizeImage,_rotateImage,rotateImage,showErrorMsg,attachmentTemplate,attachmentTemplateExt,uuidv4,dateFormat_dMY,dateFormat_Ymd,dateFormat_mdY,rv,idNumberFormat,FingerprintReader,dt};