import{basemapURLs}from"./basemaps";webix.protoUI({name:"d3box",resizeFunction:function(){},$init:function(){},$setSize:function(e,i){webix.ui.template.prototype.$setSize.call(this,e,i),this.resizeFunction()}},webix.ui.template),webix.protoUI({name:"navmap",navMap:null,defaults:{center:ol.proj.transform([-15,25],"EPSG:4326","EPSG:3857"),zoom:2,basemapURL:"none",ctrl:null,readyfn:null,on:{onAfterRender:function(){var t=this.config.id;this.navMap=new ol.Map({view:new ol.View({center:this.config.center,zoom:this.config.zoom}),target:t+"_div",layers:[new ol.layer.Tile({source:new ol.source.TileImage({url:basemapURLs[this.config.basemapURL]}),title:"Base Map",switcher:!1,name:"basemap"})]}),this.navMap.setBasemap=function(e){var i=this.getLayers().getArray()[0];"none"==e?i.setSource():i.setSource(new ol.source.TileImage({url:basemapURLs[e]}))},webix.ui({view:"window",id:t+"-mouseposition",css:"mouseposition_window",position:function(e){e.top=50},head:!1,height:20,width:210,container:t+"_div",body:{view:"label",css:"mouseposition_text",label:`<div id="${t}-mouseposition_div"></div>`,align:"center"}}).show();var e=new ol.control.MousePosition({coordinateFormat:function(e){return ol.coordinate.toStringHDMS(e,2)},projection:"EPSG:4326",target:document.getElementById(`${t}-mouseposition_div`),undefinedHTML:"&nbsp;"});this.navMap.addControl(e),$$(t+"-mouseposition").hide(),webix.event(t+"_div","mouseout",function(e){$$(t+"-mouseposition").hide()}),webix.event(t+"_div","mouseover",function(e){let i=$$(t).getNode();var o=i.getBoundingClientRect();30<o.y&&$$(t+"-mouseposition").show(i,{pos:"top",x:o.width/2-105,y:20})}),this.config.readyfn&&(this.config.ctrl?this.config.ctrl[this.config.readyfn](this.navMap):console.log(`No controller available on map view '${this.config.id}'`))}}},$init:function(e){this.$view.innerHTML='<div style="width:100%; height:100%" id="'+e.id+'_div"></div>'},$setSize:function(e,i){webix.ui.template.prototype.$setSize.call(this,e,i),this.navMap&&this.navMap.updateSize()}},webix.ui.template);