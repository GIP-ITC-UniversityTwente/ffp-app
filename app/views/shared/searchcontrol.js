const AddSearchControl=(e,t,a)=>{webix.ui({view:"window",id:t+":search_box",css:"map_search_popup",head:!1,autofocus:!0,width:400,height:45,body:{rows:[{view:"combo",id:t+":search_combo",placeholder:`${__("Enter search term")}...`,css:"map-searchcombo",options:{keyPressTimeout:300,body:{css:"search-popup_body",template:"#spatialunit_id# - #value# - cc: #id_number# - #spatialunit_name# ",dataFeed:"api/spatialunit/search/?"+appdata.querystring,on:{onAfterLoad:function(){0==this.count()&&console.log(this.getValue())}}},on:{onHide:function(){var o=$$(t+":search_combo").getValue();if(0<o.toString().length){o=this.getList().getItem(o);$$(t+":search_box").hide();let e=$$($$("nav:sidebar").getSelectedItem().id+"-cnt").config.getController();e[a](parseInt(o.spatialunit_id))}}}},on:{onFocus:function(){$$(t+":search_combo").getInputNode().select()}}}]}}),webix.html.addCss($$(t+":search_combo").getPopup().getNode(),"search-popup");var o=webix.html.create("button",{id:t+":searchbox_button"},'<i class="mdi mdi-feature-search-outline"></i>'),i=webix.html.create("div",{id:t+":searchbox_div",class:"search_control ol-unselectable ol-control"});return i.appendChild(o),e.addControl(new ol.control.Control({element:i})),e.on("click",function(){$$(t+":search_box").isVisible()&&$$(t+":search_box").hide()}),webix.event(t+":searchbox_div","click",function(){var e=webix.html.offset(document.getElementById(t+":searchbox_div"));$$(t+":search_box").show({x:e.x,y:e.y+30})},!1),webix.TooltipControl.addTooltip(t+":searchbox_button",__("Search for parcels")),!0};export{AddSearchControl};