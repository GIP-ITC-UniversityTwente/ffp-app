function $parcel$export(e,t,r,i){Object.defineProperty(e,t,{get:r,set:i,enumerable:!0,configurable:!0})}function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},$parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequire4c8a;null==parcelRequire&&(parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var t=$parcel$inits[e];delete $parcel$inits[e];var r={id:e,exports:{}};return $parcel$modules[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i},parcelRequire.register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequire4c8a=parcelRequire),parcelRequire.register("2ahYJ",(function(e,t){var r,i;$parcel$export(e.exports,"register",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"resolve",(function(){return i}),(function(e){return i=e}));var n={};r=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)n[t[r]]=e[t[r]]},i=function(e){var t=n[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),parcelRequire.register("4mg7O",(function(e,t){e.exports=import("./"+parcelRequire("2ahYJ").resolve("2j07d")).then((()=>parcelRequire("hG7Jr")))})),parcelRequire.register("8ibmv",(function(e,t){$parcel$export(e.exports,"onImageError",(function(){return r})),$parcel$export(e.exports,"showFullSizeImage",(function(){return i})),$parcel$export(e.exports,"rotateImage",(function(){return n})),$parcel$export(e.exports,"showErrorMsg",(function(){return o})),$parcel$export(e.exports,"loadingImg",(function(){return a})),$parcel$export(e.exports,"dateFormat_dMY",(function(){return s})),$parcel$export(e.exports,"dateFormat_Ymd",(function(){return l})),$parcel$export(e.exports,"dateFormat_mdY",(function(){return u})),$parcel$export(e.exports,"rv",(function(){return c})),$parcel$export(e.exports,"idNumberFormat",(function(){return p})),$parcel$export(e.exports,"formatArea",(function(){return d})),$parcel$export(e.exports,"dt",(function(){return h})),$parcel$export(e.exports,"uuidv4",(function(){return f})),$parcel$export(e.exports,"blankImg",(function(){return g})),$parcel$export(e.exports,"noSignatureImg",(function(){return _})),$parcel$export(e.exports,"noFingerprintImg",(function(){return m})),$parcel$export(e.exports,"attachmentTemplate",(function(){return y})),$parcel$export(e.exports,"attachmentTemplateExt",(function(){return x})),$parcel$export(e.exports,"FingerprintReader",(function(){return b})),$parcel$export(e.exports,"updateSignatureDataStructure",(function(){return w}));const r=e=>{e.alt="null"==e.alt?__("No image available"):e.id,e.setAttribute("ondblclick",null)},i=(e,t,r)=>{""!=r&&window.open("image.html?"+appdata.querystring+"&att_class="+t+"&global_id="+r+"&rotation="+e.getAttribute("rotation"),"_blank").focus()},n=(e,t)=>{if(e.ctrlKey){var r=t.getAttribute("rotation");webix.html.removeCss(t,"rotate-"+r),"270"==r&&(r="-90"),r=String(Number(r)+90),webix.html.addCss(t,"rotate-"+r),t.setAttribute("rotation",r)}},o=(e,t)=>{if(e){var r=new DOMParser,i=e.response.replace('<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">',"");i=(i=r.parseFromString(i,"text/xml").getElementsByTagName("body")[0].innerHTML).replace(/h1/g,"p").replace(/\n/g,"")}webix.alert({type:"alert-error",title:e?"Server Error!!!":"Application Error",text:"<em>"+t+"</em>"+(""!=t?"<br />":"")+(e?i:""),ok:__("Continue")})},a=new URL(parcelRequire("6Lc0v"));webix.ui({view:"popup",id:"app:loading",position:"center",height:120,width:220,css:"loading",modal:!0,body:{template:`<b>Trying to Connect to the Server</b>\n                <img style="padding: 10px 0;width:40px" src="${a}"><br />\n                Please wait...`}});var s=webix.Date.dateToStr("%d-%M-%Y"),l=webix.Date.dateToStr("%Y-%m-%d"),u=webix.Date.dateToStr("%m-%d-%Y");const c="!Q#m7v4`ckoq:3stV&]u^rH>xS\"9yd*a/he~Ri<,2(l}bfwz-%@_C6Kg'JMO8=jNPT|U?X[0YD+p\\{AGE)I1.nLBF5WZ$;".replace(/^(.{31})/,"$1 ");var p=webix.Number.numToStr({groupDelimiter:",",groupSize:3,decimalSize:0}),d=e=>Number(e)<9e3?e+"&nbsp;m<sup>2</sup>":(Number(e)/1e4).toFixed(1)+"&nbsp;has",h=function(e){var t,r,i="";for(t=0==e.indexOf("B")?e.substring(1):(t=e.substring(10)).substring(0,t.length-1);""!=t;)r=t.substring(0,2),i+=c[Number(r)],t=t.substring(2);return i};const f=()=>"{xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx}".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),g=new URL(parcelRequire("alsLj")),_=new URL(parcelRequire("24W2l")),m=new URL(parcelRequire("3HlAc")),v=new URL(parcelRequire("6b5T5"));new URL(parcelRequire("lgtJQ"));const y=e=>("blank.png"==e.src?e.src=g:"coming-soon.png"==e.src&&(e.src=v),'<img id="'+(e.alt?e.alt:"blank-image")+'" class="'+e.class+'_attachment" src="'+e.src+'" alt="'+e.alt+'" rotation="0" onerror="onImageError(this)" ondblclick="showFullSizeImage(this,\''+e.class+"','"+e.alt+'\')" onclick="rotateImage(event, this)" title="'+appdata.imageTooltip+'"/>'),x=e=>'<div class="flex_div"><img id="'+(e.alt?e.alt:"blank-image")+'" class="'+e.class+'_attachment" src="'+e.src+'" alt="'+e.alt+'" rotation="0" onerror="onImageError(this)" ondblclick="showFullSizeImage(this,\''+e.class+"','"+e.alt+'\')" onclick="rotateImage(event, this)" title="'+appdata.imageTooltip+'"/></div>';var b=function(){function e(e){this.sdk=new Fingerprint.WebApi,this.sdk.onSamplesAcquired=function(t){e(t)},this.sdk.onCommunicationFailed=function(e){console.log("Communinication with the fingerprint device failed")}}return e.prototype.getInfo=function(){return this.sdk.enumerateDevices()},e.prototype.getDeviceList=function(){return this.sdk.enumerateDevices()},e.prototype.startScan=function(){this.sdk.startAcquisition(Fingerprint.SampleFormat.PngImage).then((function(){console.log("Scanning started !!!")}),(function(e){console.log(e.message)}))},e.prototype.stopScan=function(){this.sdk.stopAcquisition().then((function(){console.log("Scanning stopped !!!")}),(function(e){showMessage(e.message)}))},e}();const w=e=>{var t=[];let r=e[0][0].color;for(let i of e){let e=[];if(Array.isArray(i))for(let t of i)e.push({time:t.time,x:t.x,y:t.y});else e.push({time:i.time,x:i.x,y:i.y});t.push({color:r,points:e})}return t}})),parcelRequire.register("6Lc0v",(function(e,t){e.exports=new URL("../images/images/"+parcelRequire("2ahYJ").resolve("1MMSY"),import.meta.url).toString()})),parcelRequire.register("alsLj",(function(e,t){e.exports=new URL("../images/"+parcelRequire("2ahYJ").resolve("8jyKi"),import.meta.url).toString()})),parcelRequire.register("24W2l",(function(e,t){e.exports=new URL("../images/"+parcelRequire("2ahYJ").resolve("7YuOs"),import.meta.url).toString()})),parcelRequire.register("3HlAc",(function(e,t){e.exports=new URL("../images/"+parcelRequire("2ahYJ").resolve("bOM9e"),import.meta.url).toString()})),parcelRequire.register("6b5T5",(function(e,t){e.exports=new URL("../images/"+parcelRequire("2ahYJ").resolve("iEyNo"),import.meta.url).toString()})),parcelRequire.register("lgtJQ",(function(e,t){e.exports=new URL("../images/uploads/"+parcelRequire("2ahYJ").resolve("bGgGd"),import.meta.url).toString()})),parcelRequire.register("jbnwp",(function(e,t){$parcel$export(e.exports,"NavView",(function(){return s}));var r=parcelRequire("eDw4Y"),i=parcelRequire("8ibmv");parcelRequire("5VE0i");var n="B355322932141535213117032932143494318932081";n+="943152831836653403168863805352114381528311",n+="046316647358615353117032932143494316886380",n+="5352114382932293174381415213815324331895853";const o={view:"toolbar",css:"webix_dark",elements:[{view:"button",css:"sidebar_button",width:40,type:"icon",icon:"mdi mdi-menu",click:()=>{$$("nav:sidebar").toggle()}},{css:"applogo",width:36},{view:"label",label:appdata.name},{},{view:"label",width:100,label:`Version: ${appdata.version}`,css:"version"}]};appdata.rrr=i.dt(n.slice(0,1)+n.slice(2));const a={template:`<p>${i.dt("B7943433121385634151431213514352105352931170810762894")} ${appdata.year} &rarr; [ ${appdata.rrr} ]</p>`,height:30,css:"footer"};var s={rows:[o,{type:"clean",paddingY:5,css:"panel",cols:[{view:"sidebar",id:"nav:sidebar",disabled:!0,width:170,border:!1,data:r.NavItems,ready:function(){this.collapse(),this.select("settings")},on:{onAfterSelect:e=>{$$("nav:container").setValue(e+"-cnt")}}},{type:"clean",padding:{left:5,right:5},cols:[{view:"multiview",id:"nav:container",animate:!1,cells:r.NavPanels,on:{onViewChange:(e,t)=>{"overview-cnt"==e&&($$("ovw:layer_switcher").isVisible()&&$$("ovw:layer_switcher").hide(),$$("ovw:search_box").isVisible()&&$$("ovw:search_box").hide()),"approval-cnt"==e&&($$("apv:layer_switcher")&&$$("apv:layer_switcher").isVisible()&&$$("apv:layer_switcher").hide(),$$("pf:search_list").hide()),"inquieries-cnt"==e&&$$("inq:search_list").isVisible()&&$$("inq:search_list").hide()}}}]}]},a]}})),parcelRequire.register("eDw4Y",(function(e,t){$parcel$export(e.exports,"NavItems",(function(){return c})),$parcel$export(e.exports,"NavPanels",(function(){return p}));var r=parcelRequire("8ibmv"),i=parcelRequire("bhaBa"),n=parcelRequire("7rf60"),o=parcelRequire("eUi0s"),a=parcelRequire("8FKCO"),s=parcelRequire("2FfFR"),l=parcelRequire("k3jVN"),u=parcelRequire("fS3yo");const c=[{id:"dashboard",value:__("Dashboard"),icon:"mdi mdi-monitor-dashboard",view:n.DashboardView},{id:"overview",value:__("Overview"),icon:"mdi mdi-map-legend",view:o.OverviewView},{id:"approval",value:__("Boundary Approval"),icon:"mdi mdi-signature-freehand",view:a.ApprovalView},{id:"certificates",value:__("Certificates"),icon:"mdi mdi-alpha-c-box-outline",view:s.CertificatesView},{id:"inquieries",value:__("Inquieries"),icon:"mdi mdi-text-box-search-outline",view:u.InquieriesView},{id:"editor",value:__("Spatialunit Editor"),icon:"mdi mdi-vector-polygon",view:l.EditorView},{id:"settings",value:__("Settings"),icon:"mdi mdi-tools",view:i.SettingsView}];var p=(()=>{var e=new Array;e.push({id:"loading-cnt",css:{"text-align":"center"},template:`<img style="padding: 10px 0;width:40px; margin-top: 150px;" src="${r.loadingImg}"><br />${__("Loading")}...`});for(let t of c)t.view?e.push(t.view):e.push({id:t.id+"-cnt",template:`${t.value} Page`});return e})()})),parcelRequire.register("bhaBa",(function(e,t){$parcel$export(e.exports,"SettingsView",(function(){return n}));var r=parcelRequire("ikdCp"),i=parcelRequire("1rSrb");var n={id:"settings-cnt",type:"clean",css:{"background-color":"#fff"},rows:[{rows:[{},{cols:[{},{rows:[{view:"toolbar",css:"webix_dark",cols:[{view:"label",label:__("Connection Parameters"),align:"center"}]},{view:"form",id:"app:dbform",elementsConfig:{readonly:!0,width:350,labelWidth:120},elements:[{view:"text",name:"dbconn:database",readonly:!1,required:!0,label:`${__("Database")}:`,placeholder:"Enter the database name...",on:{onEnter:()=>{$$("app:connect").toggle(),i.SettingsCtrl.checkConnection(!0)}}},{view:"text",name:"dbconn:server",label:`${__("Server")}:`},{view:"text",name:"dbconn:port",label:`${__("Port")}:`},{view:"text",name:"dbconn:user",label:`${__("User")}:`},{view:"text",name:"dbconn:schema",label:`${__("Schema")}:`}]},{view:"toolbar",paddingY:10,cols:[{},{view:"toggle",id:"app:connect",type:"icon",offLabel:`${__("Connect")}...`,offIcon:"mdi mdi-lan-connect",onLabel:`${__("Disconnect")}...`,onIcon:"mdi mdi-lan-disconnect",width:160,click:function(){i.SettingsCtrl.checkConnection(0==this.getValue())},on:{onAfterRender:()=>i.SettingsCtrl.initConnectionForm()}},{}]}]},{width:40},{rows:[{view:"toolbar",css:"webix_dark",cols:[{view:"label",label:__("Interface"),align:"center"}]},{view:"form",elements:[{view:"select",id:"app:lang",width:350,label:`${__("Language")}:`,value:appdata.lang,options:$96b2fe13a128c6e3$export$789c912f57fe164c,on:{onChange:e=>i.SettingsCtrl.toggleLanguage(e)}},{view:"select",id:"app:basemap",width:350,label:`${__("Base Map")}:`,value:appdata.lang,options:r.basemaps,value:appdata.basemap,on:{onChange:e=>i.SettingsCtrl.setBasemap(e)}}]},{},{view:"toolbar",css:"webix_dark",cols:[{view:"label",label:__("Length & Area Calculations"),align:"center"}]},{view:"form",id:"app:srid_form",disabled:!0,elements:[{view:"text",id:"app:srid",css:"dropdown",label:"SRID:",attributes:{maxlength:8},labelWidth:50,tooltip:__("Enter a valid SRID number"),suggest:{id:"app:srid_list",fitMaster:!1,width:400,textValue:"srid",body:{template:"#srid# - #srtext#",dataFeed:"api/tools/sridlist/?function=getsridlist",on:{onBeforeLoad:()=>{if($$("app:srid").getValue().length<1&!i.SettingsCtrl.loadSrid)return!1},onBeforeSelect:e=>!1,onItemClick:e=>{i.SettingsCtrl.validateSrid=!1,i.SettingsCtrl.onSridSelect(e)},onAfterLoad:()=>{0==$$("app:srid_list").getList().count()&&(console.log(222),i.SettingsCtrl.onValidateSrid())}}},on:{onHide:()=>{i.SettingsCtrl.validateSrid&&i.SettingsCtrl.onValidateSrid()}}},on:{onKeyPress:e=>{if(i.SettingsCtrl.validateSrid=!0,(e<48||e>57)&&8!=e&&37!=e&&39!=e)return!1},onItemClick:function(){i.SettingsCtrl.validateSrid=!1,$$(this.config.suggest).config.master=this,$$(this.config.suggest).show(this.$view.getElementsByTagName("input")[0])},onFocus:function(){this.getInputNode().select()},onBlur:function(){}}},{view:"text",id:"app:srtext",readonly:!0,label:"&nbsp;",labelWidth:50}]}]},{}]},{}]}],getController:()=>i.SettingsCtrl}})),parcelRequire.register("ikdCp",(function(e,t){$parcel$export(e.exports,"basemaps",(function(){return a})),$parcel$export(e.exports,"basemapURLs",(function(){return s})),$parcel$export(e.exports,"imageBasemaps",(function(){return l}));const r=[{id:"googleSatellite",name:"Google Satellite",isImage:!0,tileURL:"http://mt1.google.com/vt/lyrs=s&hl=en&&x={x}&y={y}&z={z}"},{id:"googleStreets",name:"Google Streets",isImage:!1,tileURL:"http://mt1.google.com/vt/lyrs=m&hl=en&&x={x}&y={y}&z={z}"},{id:"googleTerrain",name:"Google Terrain",isImage:!1,tileURL:"http://mt1.google.com/vt/lyrs=p&hl=en&&x={x}&y={y}&z={z}"},{id:"arcgisImagery",name:"ArcGIS Imagery",isImage:!0,tileURL:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"},{id:"arcgisStreets",name:"ArcGIS Streets",isImage:!1,tileURL:"https://server.arcgisonline.com/ArcGIS/rest/services/World_streets_Map/MapServer/tile/{z}/{y}/{x}"},{id:"arcgisTerrain",name:"ArcGIS Topographic",isImage:!1,tileURL:"https://server.arcgisonline.com/ArcGIS/rest/services/World_topo_Map/MapServer/tile/{z}/{y}/{x}"},{id:"openStreetMap",name:"OpenStreetMap",isImage:!1,tileURL:"https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"}];var i={},n=new Array,o=new Array;for(let e of r)i[e.id]=e.tileURL,n.push({id:e.id,value:e.name}),e.isImage&&o.push(e.id);if("tileServers"in appdata){if(appdata.tileServers.length>0&&Array.isArray(appdata.tileServers))for(let e of appdata.tileServers)i[e.id]=e.tileURL,n.push({id:e.id,value:e.name}),e.isImage&&o.push(e.id)}else console.log("%c%s %c%s%c%s %c%s %c%s","background:yellow"," WARNING: The","background:orange;font-style:italic",'"tileServers"',"background:yellow;"," property in missing in the","background:yellow;font-style:italic","settings.json","background:yellow;","file... ");n.push({id:"none",value:__("None")});const a=n,s=i,l=o}));var $3dc22aa45e4b008e$export$2e2bcd8739ae039={Spatialunits:"Spatialunits","Search...":"Search...",Cancel:"Cancel",Reset:"Reset"," of ":" of ",Save:"Save",Yes:"Yes",No:"No",Edit:"Edit",Type:"Type",Return:"Return",Date:"Date",Description:"Description",Close:"Close",Warning:"Warning",cc:"id",Name:"Name",Label:"Label",Layers:"Layers",None:"None",OK:"OK",Party:"Party",Parcel:"Parcel",Sign:"Sign",Status:"Status",check:"check",Rotate:"Rotate",Continue:"Continue",Loading:"Loading","Citizen Details":"Citizen Details","First Name":"First Name","Last Name":"Last Name","Full Name":"Full Name","ID Number":"ID Number","Date of Birth":"Date of Birth",Gender:"Gender","Phone Number":"Phone Number",Neighbours:"Neighbours",Neighbour:"Neighbour","Neighbour Name":"Neighbour Name","Civil Status":"Civil Status","Telephone Number":"Telephone Number","Enable editing to change values":"Enable editing to change values","Type the rightholder's name or ID number":"Type the rightholder's name or ID number",Pending:"Pendiente","Data checked on: ":"Data checked on: ","Face Photo":"Face Photo","Add Face Photo":"Add Face Photo","ID Photo":"ID Photo","Add ID Photo":"Add ID Photo","Identity Card":"Identity Card",Fingerprint:"Fingerprint","Parties already identified for spatialunit number: ":"Parties already identified for spatialunit number: ","Upload Photo":"Upload Photo","Take Photo":"Take Photo","Use Photo":"Use Photo","Identity Validated":"Identity Validated","Approve Boundaries":"Approve Boundaries","Add FingerPrint":"Add FingerPrint","Label/Name":"Label/Name","Parties already identified for spatialunit number":"Parties already identified for spatialunit number","General Details":"General Details","Right Information for Spatialunit":"Right Information for Spatialunit",Source:"Source","Valid Since":"Valid Since","Right description":"Right description","Right Details":"Right Details",Notes:"Notes","No. Attachments":"No. Attachments","Attachment Sets":"Attachment Sets","Attachment Set":"Attachment Set","Upload Attachment":"Upload Attachment","Type attachments notes":"Type attachments notes",Image:"Image","Boundary Signature Form of":"Boundary Signature Form of","Boundary Relations Approval":"Boundary Relations Approval",Remarks:"Remarks",Comments:"Comments","Click to add extra comments or observations":"Click to add extra comments or observations","Length: ":"Length: ","Click to add specific remarks for boundary Nr.":"Click to add specific remarks for boundary Nr.","Remarks for Boundary Nr.":"Remarks for Boundary Nr.","Type in remarks for this boundary...":"Type in remarks for this boundary...","Enter any additional comments or observations...":"Enter any additional comments or observations...","Comments or Observations on Parcel":"Comments or Observations on Parcel","Signature Pad for":"Signature Pad for","Edit Signature":"Edit Signature","Use Signature":"Use Signature","Clear Signature":"Clear Signature","Fingerprint Pad for":"Fingerprint Pad for","Edit Fingerprint":"Edit Fingerprint","Use Fingerprint":"Use Fingerprint","Clear Fingerprint":"Clear Fingerprint",Identifiers:"Identifiers","Capture image of":"Capture image of","Double click to see original size":"Double click to see original size","Base Map":"Base Map","Anchor Points":"Anchor Points","Vertex Points":"Vertex Points","Surveyed Points":"Surveyed Points",Concepts:"Concepts",Overlaps:"Overlaps",Roads:"Roads",Rivers:"Rivers",Mosaic:"Mosaic",Timeline:"Timeline",Overview:"Overview","Boundary Approval":"Boundary Approval",Dashboard:"Dashboard","Data Editor":"Data Editor",Settings:"Settings","Connection Parameters":"Connection Parameters",Database:"Database",Server:"Server",Port:"Port",User:"User",Schema:"Schema",Connect:"Connect",Disconnect:"Disconnect",Interface:"Interface",Language:"Language","Length & Area Calculations":"System for Length & Area Calculations","Enter a valid SRID number":"Enter a valid SRID number","Information Panel":"Information Panel","Spatialunit Data":"Spatialunit Data",ID:"ID","Label/Name":"Label/Name","Area aprox.":"Area aprox.",Landuse:"Landuse","Surveyed on":"Surveyed on","Right Type":"Right Type","Physical ID":"Physical ID","Legal ID":"Legal ID",Rightholders:"Rightholders","Boundary Status":"Boundary Status","Value calculated using":"Value calculated using","No Data":"No Data","Approval in Progress":"Approval in Progress",Approved:"Approved","Needs Revision":"Needs Revision",Invalid:"Invalid","Being Signed (with restrictions)":"Being Signed (with restrictions)","Signed (with restrictions)":"Signed (with restrictions)","With Title":"With Title","Hectares<br />Covered":"Hectares<br />Covered","Square Meters<br />Covered":"Square Meters<br />Covered","Spatialunits<br />Surveyed":"Spatialunits<br />Surveyed","Rightholders<br />Registered":"Rightholders<br />Registered","Volume of Data Processed":"Volume of Data Processed","Gender Distribution":"Gender Distribution",Pending:"Pending","In Progress":"In Progress",Approved:"Approved","In Revision":"In Revision",Titled:"Titled","Smallest<br />Spatialunit":"Smallest<br />Spatialunit","Largest<br />Spatialunit":"Largest<br />Spatialunit","Average<br />Spatialunit Size":"Average<br />Spatialunit Size","Tenure Situation &mdash; Based on Citizen's Data":"Tenure Situation &mdash; Based on Citizen's Data","Spatialunit ID":"Spatialunit ID",Elements:"Elements",Basemap:"Basemap",Graticule:"Graticule",Municipality:"Municipality",Village:"Village",Surveyor:"Surveyor",Observations:"Observations",Disclaimer:"Disclaimer",Certificates:"Certificates","Activate Map":"Activate Map","Return to Form":"Return to Form","100k Tiles":"100k Tiles","Address/Label":"Address/Label","Restore Form":"Restore Form","Focus Map":"Focus Map","Cadastral Identifier":"Cadastral Identifier",Filter:"Filter",Parties:"Parties",Report:"Report",Inquieries:"Inquieries","Spatialunit Type":"Spatialunit Type","Party Attachments":"Party Attachments","Right Attachments":"Right Attachments","New Search":"New Search","Housing Subsidy":"Housing Subsidy","Owns Other Properties":"Owns Other Properties","Add Party":"Add Party","Edit Boundaries":"Edit Boundaries","Spatialunit Editor":"Spatialunit Editor","Anchor points cannot be deleted!!!":"Anchor points cannot be deleted!!!","Undo last atcion":"Undo last atcion","Please select at least one spatualunit!!!":"Please select at least one spatualunit!!!","Are you sure?":"Are you sure?","This action cannot be undone...":"This action cannot be undone...","Invalid Geometries!!!":"Invalid Geometries!!!","The changes cannot be saved due to":"The changes cannot be saved due to","Show advanced functions":"Show advanced functions","Party(ies) added succesfully":"Party(ies) added succesfully",Merge:"Merge","Succesfully connected to":"Succesfully connected to",Unknown:"Unknown","Database field cannot be empty":"Database field cannot be empty","This field cannot be empty":"This field cannot be empty","Click to show the legend":"Click to show the legend","Search for parcels":"Search for parcels","Enter search term":"Enter search term","is not a valid SRID number":"is not a valid SRID number","An SRID number is required":"An SRID number is required","Switch layers on & off":"Switch layers visibility","Some values were recalculated to reflect the SRID change":"Some values were recalculated to reflect the SRID change","The application's SRID has been changed!!!":"The application's SRID has been changed!!!","This action will reset the application.<br />Are you sure<br />you want to disconnect?":"This action will reset the application.<br />Are you sure<br />you want to disconnect?","One Face Photo is needed to continue...":"One Face Photo is needed to continue...","One ID Card Photo is needed to continue...":"One ID Photo is needed to continue...","This field must be a number":"This field must be a number","This field cannot be empty & must be a number":"This field cannot be empty & must be a number","There are no changes to save!!!":"There are no changes to save!!!","Return to the party identity form":"Return to the identity form","Click to process the selected spatialunit":"Click to process the selected spatialunit","Please select one spatialunit to continue":"Please select one spatialunit to continue","Please select only one spatialunit":"Please select only one spatialunit","The changes have been saved...":"The changes have been saved...","There are unsaved changes. Are you sure you want to cancel?":"There are unsaved changes. Are you sure you want to cancel?","View Image":"View Image"},$53f9e86bba0f7f9c$export$2e2bcd8739ae039={Spatialunits:"Unidades Espaciales","Search...":"Búsqueda...",Cancel:"Cancelar",Reset:"Reset"," of ":" de ",Save:"Salvar",Yes:"Si",No:"No",Edit:"Editar",Type:"Tipo",Return:"Regresar",Date:"Fecha",Description:"Descripción",Close:"Cerrar",Warning:"Advertencia",cc:"cc",Name:"Nombre",Label:"Etiqueta",Layers:"Capas",None:"Ninguno",OK:"OK",Party:"Interesado",Parcel:"Parcela",Sign:"Firmar",Status:"Estado",check:"check",Rotate:"Rotar",Continue:"Continuar",Loading:"Cargando","Citizen Details":"Datos del Ciudadano","First Name":"Nombres","Last Name":"Apellidos","Full Name":"Nombre Completo","ID Number":"Cédula","Date of Birth":"Fecha de Nacimiento",Gender:"Genero","Phone Number":"Número de Teléfono",Neighbours:"Colindantes",Neighbour:"Colindante","Neighbour Name":"Nombre del Colindante","Civil Status":"Estado Civil","Telephone Number":"Número de Telefono","Enable editing to change values":"Entre a modo edición para hacer cambios","Type the rightholder's name or ID number":"Digite el nombre o el número de cédula del interesado",Pending:"Pending","Data checked on: ":"Datos chequeados el: ","Face Photo":"Foto del Rostro","Add Face Photo":"Agregar Foto del Rostro","ID Photo":"Foto de la Cédula","Add ID Photo":"Agregar Foto de la Cédula","Identity Card":"Cedula de Ciudadanía",Fingerprint:"Huella Digital","Parties already identified for spatialunit number: ":"Personas ya identificadas para el predio número: ","Upload Photo":"Cargar una Foto","Take Photo":"Tomar Foto","Use Photo":"Usar Foto","Identity Validated":"Identidad Verificada","Approve Boundaries":"Aprobar Linderos","Add FingerPrint":"Adicionar Huella","Label/Name":"Etiqueta/Nombre","Parties already identified for spatialunit number":"Personas ya identificadas para el predio número","General Details":"Detalles Generales","Right Information for Spatialunit":"Información del Derecho de la unidad Espacial",Source:"Fuente","Valid Since":"Valido Desde","Right description":"Entre la descripción del derecho","Right Details":"Detalles del derecho",Notes:"Notas","No. Attachments":"Total de Adjuntos","Attachment Sets":"Grupos de Adjuntos","Attachment Set":"Grupo de Adjuntos","Upload Attachment":"Adicionar Adjunto","Type attachments notes":"Notas del los adjuntos",Image:"Imagen","Boundary Signature Form of":"Formato para la Firma de Linderos de","Boundary Relations Approval":"Aprobación de Linderos con Colindantes",Remarks:"Notas",Comments:"Comentarios","Click to add extra comments or observations":"Clic para adicionar comentarios u observaciones adicionales","Length: ":"Longitud: ","Click to add specific remarks for boundary Nr.":"Seleccione para entrar detalles del lindero No.","Remarks for Boundary Nr.":"Observaciones del Lindero No.","Type in remarks for this boundary...":"Digite observaciones adicionales para este lindero...","Enter any additional comments or observations...":"Entre observaciones o comentarios adicionales...","Comments or Observations on Parcel":"Observaciones o Comentarios del Predio","Signature Pad for":"Firma de","Edit Signature":"Editar Firma","Use Signature":"Usar Firma","Clear Signature":"Borrar Firma","Fingerprint Pad for":"Huella Digital de","Edit Fingerprint":"Editar Huella Digital","Use Fingerprint":"Usar Huella","Clear Fingerprint":"Borrar Huella",Identifiers:"Identificadores","Capture image of":"Caturar imagen de","Double click to see original size":"Doble clic para ver en tamaño original","Base Map":"Mapa Base","Anchor Points":"Cambio de Colindancia","Vertex Points":"Vertices","Surveyed Points":"Puntos Levantados",Concepts:"Conceptos",Overlaps:"Traslapos",Roads:"Vias",Rivers:"Rios",Mosaic:"Mosaico",Timeline:"Cronología",Overview:"Vista General","Boundary Approval":"Aprobar Linderos",Dashboard:"Indicadores","Data Editor":"Edición de Datos",Settings:"Configuración","Connection Parameters":"Parámetros de conexión",Database:"Base de Datos",Server:"Servidor",Port:"Puerto",User:"Usuario",Schema:"Esquema",Connect:"Conectar",Disconnect:"Desconectar",Interface:"Interfase",Language:"Idioma","Length & Area Calculations":"Sitema para Cálculos de Longitud y Area","Enter a valid SRID number":"Digite un numero SRID valido","Information Panel":"Panel de Información","Spatialunit Data":"Datos de la Unidad Espacial",ID:"ID","Label/Name":"Etiqueta/Nombre","Area aprox.":"Area aprox.",Landuse:"Uso de la Tierra","Surveyed on":"Levantado el","Right Type":"Tipo de Derecho","Physical ID":"Cedula Catastral","Legal ID":"Matricula",Rightholders:"Interesados","Boundary Status":"Estado de los Linderos","Value calculated using":"Valor calculado usando","No Data":"Sin Procesar","Approval in Progress":"En Proceso",Approved:"Aprobado","Needs Revision":"Necesita Revisión",Invalid:"Invalido","Being Signed (with restrictions)":"En Proceso (con restricciones)","Signed (with restrictions)":"Firmado (con restricciones)","With Title":"Titulado","Hectares<br />Covered":"Hectáreas<br />Cubiertas","Square Meters<br />Covered":"Metros Cuadrados<br />Cubiertos","Spatialunits<br />Surveyed":"Unidades Espaciales<br />Levantadas","Rightholders<br />Registered":"Interesados<br />Registrados","Volume of Data Processed":"Volumen de Datos Procesados","Gender Distribution":"Distribución de Genero",Pending:"Pendiente","In Progress":"En Proceso",Approved:"Aprobado","In Revision":"En Revisión",Titled:"Titulado","Smallest<br />Spatialunit":"Unidad Espacial<br />más Pequeña","Largest<br />Spatialunit":"Unidad Espacial<br />más Grande","Average<br />Spatialunit Size":"Tamaño Medio de las<br />Unidades Espaciales","Tenure Situation &mdash; Based on Citizen's Data":"Estado de la Tenenecia &mdash; Basado en Datos Proveidos por los Ciudadanos","Spatialunit ID":"ID Unidad Espacial",Elements:"Elementos",Basemap:"Mapa Base",Graticule:"Gratícula",Municipality:"Municipio",Village:"Vereda",Surveyor:"Levanto",Observations:"Observaciones",Disclaimer:"Disclaimer",Certificates:"Actas","Activate Map":"Activar Mapa","Return to Form":"Activar Formulario","100k Tiles":"1:100000","Address/Label":"Dirección/Nombre","Cadastral Identifier":"Nómero Catastral",Filter:"Filtrar",Parties:"Interesados",Report:"Reporte",Inquieries:"Consultas","Spatialunit Type":"Tipo Unidad Espacial","Party Attachments":"Anexos de Interesados","Right Attachments":"Anexos del Derecho","New Search":"Nueva Busqueda","Housing Subsidy":"Subsidio de Vivienda","Owns Other Properties":"Tiene Otras Propiedades","Restore Form":"Ver Formulario","Focus Map":"Enfocar Mapa","Add Party":"Agregar Interesado","Edit Boundaries":"Editar Linderos","Spatialunit Editor":"Editar Unidad Espacial","Anchor points cannot be deleted!!!":"No se puede borrar puntos de colindancia!!!","Undo last atcion":"Deshacer la última acción","Please select at least one spatualunit!!!":"Por favor, seleccione al menos una unidad espacial!!!","Are you sure?":"Esta Seguaro?","This action cannot be undone...":"Esta acción no se puede deshacer...","Invalid Geometries!!!":"Las geometrias nos son validas!!!","The changes cannot be saved due to":"Los cambios no se pueden guardar debido a","Changes saved succesfully":"Los cambios han sido guardados","Show advanced functions":"Mostrar funciones avanzadas","Party(ies) added succesfully":"Los interesados han sido agregados exitosamente",Merge:"Unir","Succesfully connected to":"Conectado exitosamente a",Unknown:"Desconocido","Database field cannot be empty":"El campo [Base de Datos] no puede quedar vacío","This field cannot be empty":"Este campo no puede quedar vacío","Click to show the legend":"Haga clic para mostrar la leyenda","Search for parcels":"Busqueda de parcelas","Enter search term":"Digite termino de busqueda","is not a valid SRID number":"no es un número SRID valido","An SRID number is required":"El numero SRID es obligatorio","Switch layers on & off":"Encender o apagar capas","Some values were recalculated to reflect the SRID change":"Algunos valores fueron recalculados para reflejar el cambio de SRID","The application's SRID has been changed!!!":"El SRID de la aplicacion ha sido modificado con extito!!!","This action will reset the application.<br />Are you sure<br />you want to disconnect?":"Esta acción restablecerá la aplicación<br />a su estaod inicial.<br />Esta seguro?","One Face Photo is needed to continue...":"Se necesita una Foto del Rostro para continuar...","One ID Card Photo is needed to continue...":"Se necesita una Foto de la Cédula para continuar...","This field must be a number":"Este campo es numérico","This field cannot be empty & must be a number":"Este campo no puede quedar vacío y es numérico","There are no changes to save!!!":"No hay cambios para guardar!!!","Return to the party identity form":"Regresar a la página de indentificación de interesados","Click to process the selected spatialunit":"Haga clic para procesar la unidad espacial seleccionada","Please select one spatialunit to continue":"Seleccione una unidad espacial para continuar","Please select only one spatialunit":"Seleccione solo una unidad espacial","The changes have been saved...":"Los cambios han sido salvados...","There are unsaved changes. Are you sure you want to cancel?":"Han habido cambios. Esta seguro de querer cancelar?","View Image":"Ver Imagen"};let $fcd3eae880021ef8$var$cssCode="\n    .modified-value-en div::after {\n        content: ' - changed*';\n        color: #00FFFF;\n        font-weight: bold;\n        font-style: oblique;\n    }\n\n    .modified-value-es div::after {\n        content: ' - modificado*';\n        color: #00FFFF;\n        font-weight: bold;\n        font-style: oblique;\n    }\n",$fcd3eae880021ef8$var$styleEl=document.createElement("style");$fcd3eae880021ef8$var$styleEl.innerText=$fcd3eae880021ef8$var$cssCode.replace(/[\r\n]/g," "),document.head.appendChild($fcd3eae880021ef8$var$styleEl);const $96b2fe13a128c6e3$export$789c912f57fe164c=[{id:"en",value:"English",locale:"en-US"},{id:"es",value:"Español",locale:"es-ES"}],$96b2fe13a128c6e3$var$labels={en:$3dc22aa45e4b008e$export$2e2bcd8739ae039,es:$53f9e86bba0f7f9c$export$2e2bcd8739ae039},$96b2fe13a128c6e3$export$451eec6dcdb220d6=e=>null==$96b2fe13a128c6e3$var$labels[appdata.lang][e]?(console.log(`%cWarning, no '${$96b2fe13a128c6e3$export$789c912f57fe164c.find((e=>e.id==appdata.lang)).value}' display text found for label: "${e}"`,"color:green; background-color:yellow"),e):$96b2fe13a128c6e3$var$labels[appdata.lang][e];parcelRequire.register("1rSrb",(function(e,t){$parcel$export(e.exports,"SettingsCtrl",(function(){return s}));var r=parcelRequire("ikdCp"),i=parcelRequire("2yt6N"),n=parcelRequire("8ibmv"),o=parcelRequire("dVClE"),a=parcelRequire("6irKh"),s={loadSrid:!0,validateSrid:!1,initConnectionForm:()=>{let e=$$("app:dbform"),t=appdata.dbparams;e.setValues({"dbconn:server":t.host,"dbconn:port":t.port,"dbconn:user":t.user,"dbconn:schema":t.schema,"dbconn:database":t.database})},toggleLanguage:e=>{e!=appdata.lang&&(localStorage.setItem("appLang",e),appdata.dbparams.database&&localStorage.setItem("appDatabase",appdata.dbparams.database),location.reload())},setBasemap:e=>{appdata.basemap=e,appdata.imageBasemap=!!r.imageBasemaps.includes(e);let t=null;$$("overview-cnt")&&(t=$$("overview-cnt").config.getController(),t.navMap?(t.navMap.setBasemap(e),t.spatialunitsLayer.setStyle(i.mapStyle.spatialunitWithLabel("ogc_id",!1))):t.switchBasemap=!0),$$("editor-cnt")&&(t=$$("editor-cnt").config.getController(),t.navMap?(t.navMap.setBasemap(e),t.spatialunitsLayer.setStyle(i.mapStyle.spatialunitWithLabel("ogc_id",!1))):t.switchBasemap=!0),$$("approval-cnt")&&(t=$$("approval-cnt").config.getController().mapCtrl,t.navMap?(t.navMap.setBasemap(e),t.spatialunitsLayer.setStyle(i.mapStyle.spatialunitWithLabel("label")),t.approvalLayer.setStyle(i.mapStyle.selectedSpatialunitWithLabel("label"))):t.switchBasemap=!0),$$("inquieries-cnt")&&(t=$$("inquieries-cnt").config.getController(),t.navMap?(t.navMap.setBasemap(e),t.spatialunitLayer.setStyle(i.mapStyle.spatialunitWithLabel(null))):t.switchBasemap=!0)},switchBaseMap:e=>{e.navMap?(e.navMap.setBasemap(newBasemap),e.spatialunitLayer.setStyle(i.mapStyle.spatialunitWithLabel(null))):e.switchBasemap=!0},checkConnection:e=>{e?$$("app:dbform").validate()?($$("app:loading").show(),appdata.dbparams.database=$$("app:dbform").getValues()["dbconn:database"],webix.ajax().get("./api/tools/checkconnection/",appdata.dbparams).then((function(e){$$("app:loading").hide(),e.json().success?s.onConnectionSuccess(e.json()):(s.onConnectionError(),n.showErrorMsg(null,e.json().message))}),(e=>{$$("app:loading").hide(),s.onConnectionError(),n.showErrorMsg(e,"")}))):($$("app:connect").toggle(),webix.message({type:"error",expire:2e3,text:__("Database field cannot be empty")})):webix.confirm({title:"Warning",ok:__("Yes"),cancel:__("No"),text:__("This action will reset the application.<br />Are you sure<br />you want to disconnect?")}).then((()=>{$$("app:srid_form").disable(),$$("nav:sidebar").disable(),$$("app:dbform").enable()})).fail((()=>{$$("app:connect").setValue(1)}))},onConnectionError:()=>{$$("app:connect").toggle()},onConnectionSuccess:e=>{webix.message({type:"info",text:__("Succesfully connected to")+" "+appdata.dbparams.database,expire:1e3}),appdata.mosaic=e.mosaic,appdata.timeline=e.timeline.count>0,appdata.querystring=Object.keys(appdata.dbparams).map((e=>e+"="+appdata.dbparams[e])).join("&"),appdata.basedata=e.basedata;let t="map="+appdata.path+"\\ows.map",r=`http://${window.location.hostname}:${window.location.port}/cgi-bin/mapserv.exe?`;if(appdata.wmsUrl=r+t+"&"+appdata.querystring,appdata.wfsUrl=appdata.wmsUrl+"&service=WFS&version=1.1.0&request=GetFeature&outputFormat=geojson&srsname=EPSG:3857",$$("app:srid_form").enable(),$$("nav:sidebar").enable(),$$("app:dbform").disable(),$$("app:srid_list").getList().config.dataFeed="api/tools/sridlist/?"+appdata.querystring,$$("approval-cnt")){$$("pf:search_list").getList().config.dataFeed="api/party/search/?"+appdata.querystring;{let e=$$("approval-cnt").config.getController();a.SignatureWindow.show(),a.SignatureWindow.hide(),e.signatureWindow=a.SignatureWindow;var i=document.getElementById("signature_canvas");e.signaturePad=new o.default(i,{penColor:"rgb(66, 133, 244)"})}$$("approval-cnt").config.getController().resetInspectionForms()}$$("inquieries-cnt")&&($$("inq:search_list").getList().config.dataFeed="api/inquieries/search/?"+appdata.querystring),$$("certificates-cnt")&&($$("crt:search_list").getList().config.dataFeed="api/spatialunit/search/?"+appdata.querystring),s.loadSrid&&s.setCurrentSrid(),$$("dashboard-cnt")&&($$("dashboard-cnt").config.getController().refreshView=!0),$$("overview-cnt")&&($$("overview-cnt").config.getController().refreshView=!0),$$("editor-cnt")&&($$("editor-cnt").config.getController().refreshView=!0),$$("certificates-cnt")&&(appdata.basedata.roads?$$("crt:roads").enable():$$("crt:roads").disable(),appdata.basedata.tiles100k?$$("crt:tiles100k").enable():$$("crt:tiles100k").disable(),$$("certificates-cnt").config.getController().navMap&&$$("certificates-cnt").config.getController().resetFields())},setCurrentSrid:()=>{$$("app:srid_list").getList().load("api/tools/sridlist/?filter[value]="+appdata.srid+"&"+appdata.querystring).then((()=>{$$("app:srid").setValue(appdata.srid),$$("app:srtext").setValue($$("app:srid_list").getList().getItem(appdata.srid).displaytext),s.loadSrid=!1}))},onValidateSrid:()=>{let e=$$("app:srid").getValue();if(e!=appdata.srid){let t=!1;if(""==e)t=!0,webix.message({type:"error",text:__("An SRID number is required")});else if(0==$$("app:srid_list").getList().getVisibleCount())webix.message({type:"error",text:e+" "+__("is not a valid SRID number")}),t=!0;else{let r=new Array;for(let e=0;e<$$("app:srid_list").getList().getVisibleCount();e++)r.push($$("app:srid_list").getList().getItem($$("app:srid_list").getList().getIdByIndex(e)).srid);r.find((t=>t==e))||(webix.message({type:"error",text:e+" "+__("is not a valid SRID number")}),t=!0)}t?(s.loadSrid=!0,s.setCurrentSrid()):(s.validateSrid=!1,s.onSridSelect(e))}},onSridSelect:e=>{if(appdata.srid!=e){if(appdata.srid=e,$$("app:srtext").setValue($$("app:srid_list").getList().getItem(appdata.srid).displaytext),$$("dashboard-cnt")&&($$("dashboard-cnt").config.getController().sridChanged=!0),$$("approval-cnt")&&($$("approval-cnt").config.getController().sridChanged=!0),$$("editor-cnt")&&($$("editor-cnt").config.getController().sridChanged=!0),$$("inq:container")&&$$("inq:container").setValue("inq:list"),$$("overview-cnt")){let e=$$("overview-cnt").config.getController();e.selectInteraction&&1==e.selectInteraction.getFeatures().getArray().length&&(e.onFeatureSelected(e.selectInteraction.getFeatures().getArray()[0]),$$("overview-cnt").config.getController().sridChanged=!0)}appdata.sridTooltip=__("Value calculated using")+' SRID: <span class="srid">'+appdata.srid+"</span>",webix.message({type:"success",text:__("The application's SRID has been changed!!!"),expire:2e3})}}}})),parcelRequire.register("2yt6N",(function(e,t){$parcel$export(e.exports,"mapStyle",(function(){return u}));var r=parcelRequire("iJlFh"),i=parcelRequire("fIQfh"),n=parcelRequire("d38C1"),o=parcelRequire("1gTaY"),a=parcelRequire("e8Opo"),s=parcelRequire("dmHsU");const l=function(e){return[new i.default({stroke:new n.default({color:r.ConceptColor(e),width:3.5,lineCap:"square",lineDash:[15,15],lineDashOffset:16})}),new i.default({stroke:new n.default({color:"#000",width:3.5,lineCap:"square",lineDash:[15,15]})})]},u={spatialunitWithLabel:function(e,t){return function(r){var s,l,u,c;return null==t&&(t=!0),appdata.imageBasemap?(s="#fff",l="rgba(255, 255, 255, 0.20)",u="#fff",c="#000"):(s="#8c8cb2",l="rgba(50, 50, 50, 0.15)",u="#fff",c="#666699"),new i.default({stroke:new n.default({color:s,width:1}),fill:new o.default({color:l}),text:new a.default({text:null!==e?r.get(e):"",textAlign:"center",font:"Normal 16px Calibri,sans-serif",overflow:t,fill:new o.default({color:u}),stroke:new n.default({color:c,width:3})})})}},spatialunitHover:function(e,t){return function(r){var s,l,u,c;return null==t&&(t=!0),appdata.imageBasemap?(s="#fff",l="rgba(255, 255, 255, 0.20)",u="#fff",c="#000"):(s="#8c8cb2",l="rgba(50, 50, 50, 0.15)",u="#fff",c="#666699"),new i.default({stroke:new n.default({color:s,width:3}),fill:new o.default({color:l}),text:new a.default({text:null!==e?r.get(e):"",textAlign:"center",font:"Normal 16px Calibri,sans-serif",overflow:t,fill:new o.default({color:u}),stroke:new n.default({color:c,width:3})})})}},selectedSpatialunitWithLabel:function(e){return function(t){var r,s,l,u;return appdata.imageBasemap?(r="#fff",s="rgba(255, 255, 255, 0.40)",l="#fff",u="#CC0099"):(r="#FFCC99",s="rgba(50, 50, 50, 0.30)",l="#fff",u="#CC0099"),new i.default({stroke:new n.default({color:r,width:3}),fill:new o.default({color:s}),text:new a.default({text:String(t.get(e)),textAlign:"center",font:"Normal 16px Calibri,sans-serif",overflow:!0,fill:new o.default({color:l}),stroke:new n.default({color:u,width:3})})})}},spatialunitConcepts:function(){return function(e){var t=e.get("status");return t>=5&&t<=7?l(t):new i.default({stroke:new n.default({color:r.ConceptColor(t),width:3.5}),zIndex:10})}},boundaryStatus:function(){return function(e){var t=e.get("status");return t>=5&&t<=7?l(t):new i.default({stroke:new n.default({color:r.ConceptColor(t),width:1.8})})}},anchorpoints:function(){return function(e){return new i.default({image:new s.default({stroke:new n.default({color:"rgba(255, 102, 0, 1)",width:2}),fill:new o.default({color:"rgba(255, 224, 179, 0.45)"}),radius:4})})}},vertexpoints:function(){return function(e){return new i.default({image:new s.default({stroke:new n.default({color:"rgba(0, 102, 255, 1)",width:2}),fill:new o.default({color:"rgba(102, 163, 255, 0.45)"}),radius:4})})}},surveypoints:function(){return function(e){return new i.default({image:new s.default({stroke:new n.default({color:"rgba(0, 190, 200, 1)",width:2}),fill:new o.default({color:"rgba(105, 230, 238, 0.45)"}),radius:4})})}},surveypointsWithRms:function(){return function(e){return new i.default({image:new s.default({stroke:new n.default({color:"rgba(0, 230, 245, 1)",width:2}),fill:new o.default({color:"rgba(90, 240, 250, 0.7)"}),radius:4}),text:new a.default({text:Number(e.get("h_rms")).toFixed(1),textAlign:"center",baseline:"bottom",offsetY:-10,font:"Normal 16px Calibri,sans-serif",fill:new o.default({color:"#03eafa"}),stroke:new n.default({color:"#000",width:3})})})}},neighbourWithId:function(){return function(e){return new i.default({stroke:new n.default({color:"#84CDE0",width:1.2}),fill:new o.default({color:"rgba(118, 189, 213, 0.3)"}),text:new a.default({textAlign:"center",textBaseline:"middle",font:"Normal 16px Calibri,sans-serif",overflow:!0,text:e.get("ogc_id"),fill:new o.default({color:"#fff"}),stroke:new n.default({color:"#000",width:3}),rotation:0})})}},inquieriesHover:function(e){return function(t){return new i.default({stroke:new n.default({color:"#A941D8",width:3}),fill:new o.default({color:"rgba(169, 65, 216, 0.3)"}),text:new a.default({textAlign:"center",textBaseline:"middle",font:"Normal 16px Calibri,sans-serif",overflow:!0,offsetY:10,text:e?t.get("ogc_id"):t.get("physical_id")?t.get("ogc_id")+"\n"+t.get("physical_id").join(", "):"",fill:new o.default({color:"#fff"}),stroke:new n.default({color:"#a941d8",width:3.5}),rotation:0})})}},conceptsHover:new function(){return function(e){return new i.default({stroke:new n.default({color:"#fff",width:3}),text:new a.default({font:"Normal 16px Calibri,sans-serif",placement:"line",textBaseline:"top",text:String(e.get("ogc_id")),fill:new o.default({color:"#fff"}),stroke:new n.default({color:"#000",width:2})})})}},crt_spatialunit:function(){return function(e){return new i.default({stroke:new n.default({color:"rgba(250, 70, 100, 0.7)",width:2}),fill:new o.default({color:"rgba(250, 70, 100, 0.2)"}),text:new a.default({textAlign:"center",textBaseline:"hanging",font:"Normal 16px Calibri,sans-serif",overflow:!0,wrap:!0,text:e.get("spatialunit_name"),fill:new o.default({color:"#fff"}),stroke:new n.default({color:"rgb(250, 70, 100)",width:4}),rotation:0})})}},crt_neighbours:function(e,t,r){return function(s){let l=r.find((e=>e.su_id==s.get("ogc_id"))),u=e?l.status_list[0].full_name:"";return u+=e&&t?"\n":"",u+=t?l.spatialunit_name:"",new i.default({stroke:new n.default({color:"rgba(150, 150, 150, 0.8)",width:1.5}),fill:new o.default({color:"rgba(0, 0, 0, 0.1)"}),text:new a.default({textAlign:"center",textBaseline:"middle",font:"Oblique 14px Calibri,sans-serif",overflow:!0,wrap:!0,text:u,fill:new o.default({color:"#000"}),stroke:new n.default({color:"#fff",width:4}),rotation:0})})}},boundaryEdit:function(){return function(e){var t=e.get("status");return t>=5&&t<=7?l(t):new i.default({stroke:new n.default({color:r.ConceptColor(t),width:4})})}},vertexEdit:function(){return function(e){return new i.default({image:new s.default({stroke:new n.default({color:"rgba(255, 255, 255, 0.8)",width:2}),fill:new o.default({color:"rgba(255, 255, 255, 0.4)"}),radius:4})})}},modify:new i.default({image:new s.default({stroke:new n.default({color:"rgb(255, 255, 255)",width:1}),fill:new o.default({color:"rgb(30, 144, 255)"}),radius:6})}),editOk:new i.default({image:new s.default({stroke:new n.default({color:"rgb(255, 255, 255)",width:1}),fill:new o.default({color:"rgb(60, 179, 113)"}),radius:6})}),editNotOk:new i.default({image:new s.default({stroke:new n.default({color:"rgb(255, 255, 255)",width:1}),fill:new o.default({color:"rgb(238, 130, 238)"}),radius:6})}),invalidFeature:function(){return function(e){return"Point"==e.getGeometry().getType()?new i.default({image:new s.default({stroke:new n.default({color:"rgb(255, 0, 0)",width:2}),fill:new o.default({color:"rgb(191, 125, 64)"}),radius:4})}):new i.default({fill:new o.default({color:"rgba(191, 125, 64, 0.6)"})})}}}})),parcelRequire.register("iJlFh",(function(e,t){$parcel$export(e.exports,"ConceptColor",(function(){return r})),$parcel$export(e.exports,"ConceptPieColor",(function(){return i}));const r=e=>{let t=["#ffffff","#000000","#ffff00","#22dd22","#ff1a1a","#ffff00","#22dd22","#ff1a1a","","#4da6ff"];return t[e]||t[1]},i=e=>["","#999999","#FFE435","#22DD22","#FF1A1A","","","","","#66b3ff"][e]})),parcelRequire.register("dmHsU",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}),(function(e){return o=e}));var r,i=parcelRequire("eoye3"),n=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=function(e){function t(t){var r=t||{};return e.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:void 0!==r.scale?r.scale:1,rotation:void 0!==r.rotation?r.rotation:0,rotateWithView:void 0!==r.rotateWithView&&r.rotateWithView,displacement:void 0!==r.displacement?r.displacement:[0,0]})||this}return n(t,e),t.prototype.clone=function(){var e=this.getScale(),r=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(i.default)})),parcelRequire.register("eoye3",(function(e,t){$parcel$export(e.exports,"default",(function(){return c}),(function(e){return c=e}));var r,i=parcelRequire("hTRPy"),n=parcelRequire("38HjJ"),o=parcelRequire("2asDT"),a=parcelRequire("iNt2G"),s=parcelRequire("1Rvcq"),l=parcelRequire("kHyfN"),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e){function t(t){var r=this,i=void 0!==t.rotateWithView&&t.rotateWithView;return(r=e.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0]})||this).canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=void 0!==t.fill?t.fill:null,r.origin_=[0,0],r.points_=t.points,r.radius_=void 0!==t.radius?t.radius:t.radius1,r.radius2_=t.radius2,r.angle_=void 0!==t.angle?t.angle:0,r.stroke_=void 0!==t.stroke?t.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return u(t,e),t.prototype.clone=function(){var e=this.getScale(),r=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},t.prototype.getAnchor=function(){var e=this.size_;if(!e)return null;var t=this.getDisplacement();return[e[0]/2-t[0],e[1]/2+t[1]]},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},t.prototype.getImage=function(e){var t=this.canvas_[e];if(!t){var r=this.renderOptions_,i=s.createCanvasContext2D(r.size*e,r.size*e);this.draw_(r,i,e),t=i.canvas,this.canvas_[e]=t}return t},t.prototype.getPixelRatio=function(e){return e},t.prototype.getImageSize=function(){return this.size_},t.prototype.getImageState=function(){return i.default.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.listenImageChange=function(e){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(e){},t.prototype.calculateLineJoinSize_=function(e,t,r){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;var i=this.radius_,n=void 0===this.radius2_?i:this.radius2_;if(i<n){var o=i;i=n,n=o}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,l=n*Math.sin(s),u=i-Math.sqrt(n*n-l*l),c=Math.sqrt(l*l+u*u),p=c/l;if("miter"===e&&p<=r)return p*t;var d=t/2/p,h=t/2*(u/c),f=Math.sqrt((i+d)*(i+d)+h*h)-i;if(void 0===this.radius2_||"bevel"===e)return 2*f;var g=i*Math.sin(s),_=n-Math.sqrt(i*i-g*g),m=Math.sqrt(g*g+_*_)/g;if(m<=r){var v=m*t/2-n-i;return 2*Math.max(f,v)}return 2*f},t.prototype.createRenderOptions=function(){var e,t=l.defaultLineJoin,r=0,i=null,n=0,o=0;this.stroke_&&(null===(e=this.stroke_.getColor())&&(e=l.defaultStrokeStyle),e=a.asColorLike(e),void 0===(o=this.stroke_.getWidth())&&(o=l.defaultLineWidth),i=this.stroke_.getLineDash(),n=this.stroke_.getLineDashOffset(),void 0===(t=this.stroke_.getLineJoin())&&(t=l.defaultLineJoin),void 0===(r=this.stroke_.getMiterLimit())&&(r=l.defaultMiterLimit));var s=this.calculateLineJoinSize_(t,o,r),u=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:e,strokeWidth:o,size:Math.ceil(2*u+s),lineDash:i,lineDashOffset:n,lineJoin:t,miterLimit:r}},t.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]},t.prototype.draw_=function(e,t,r){if(t.scale(r,r),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){var i=this.fill_.getColor();null===i&&(i=l.defaultFillStyle),t.fillStyle=a.asColorLike(i),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash&&e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())},t.prototype.createHitDetectionCanvas_=function(e){if(this.fill_){var t=this.fill_.getColor(),r=0;if("string"==typeof t&&(t=o.asArray(t)),null===t?r=1:Array.isArray(t)&&(r=4===t.length?t[3]:1),0===r){var i=s.createCanvasContext2D(e.size,e.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(e,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},t.prototype.createPath_=function(e){var t=this.points_,r=this.radius_;if(t===1/0)e.arc(0,0,r,0,2*Math.PI);else{var i=void 0===this.radius2_?r:this.radius2_;void 0!==this.radius2_&&(t*=2);for(var n=this.angle_-Math.PI/2,o=2*Math.PI/t,a=0;a<t;a++){var s=n+a*o,l=a%2==0?r:i;e.lineTo(l*Math.cos(s),l*Math.sin(s))}e.closePath()}},t.prototype.drawHitDetectionCanvas_=function(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=l.defaultFillStyle,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())},t}(n.default)})),parcelRequire.register("hTRPy",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}})),parcelRequire.register("38HjJ",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("b3vZc"),i=parcelRequire("3R7f8"),n=function(){function e(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=i.toSize(e.scale),this.displacement_=e.displacement}return e.prototype.clone=function(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getDisplacement=function(){return this.displacement_},e.prototype.getAnchor=function(){return r.abstract()},e.prototype.getImage=function(e){return r.abstract()},e.prototype.getHitDetectionImage=function(){return r.abstract()},e.prototype.getPixelRatio=function(e){return 1},e.prototype.getImageState=function(){return r.abstract()},e.prototype.getImageSize=function(){return r.abstract()},e.prototype.getOrigin=function(){return r.abstract()},e.prototype.getSize=function(){return r.abstract()},e.prototype.setDisplacement=function(e){this.displacement_=e},e.prototype.setOpacity=function(e){this.opacity_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=i.toSize(e)},e.prototype.listenImageChange=function(e){r.abstract()},e.prototype.load=function(){r.abstract()},e.prototype.unlistenImageChange=function(e){r.abstract()},e}()})),parcelRequire.register("b3vZc",(function(e,t){function r(){return function(){throw new Error("Unimplemented abstract method.")}()}$parcel$export(e.exports,"abstract",(function(){return r})),$parcel$export(e.exports,"getUid",(function(){return n})),$parcel$export(e.exports,"VERSION",(function(){return o}));var i=0;function n(e){return e.ol_uid||(e.ol_uid=String(++i))}var o="6.12.0"})),parcelRequire.register("3R7f8",(function(e,t){function r(e,t,r){return void 0===r&&(r=[0,0]),r[0]=e[0]+2*t,r[1]=e[1]+2*t,r}function i(e){return e[0]>0&&e[1]>0}function n(e,t,r){return void 0===r&&(r=[0,0]),r[0]=e[0]*t+.5|0,r[1]=e[1]*t+.5|0,r}function o(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}$parcel$export(e.exports,"buffer",(function(){return r})),$parcel$export(e.exports,"hasArea",(function(){return i})),$parcel$export(e.exports,"scale",(function(){return n})),$parcel$export(e.exports,"toSize",(function(){return o}))})),parcelRequire.register("2asDT",(function(e,t){$parcel$export(e.exports,"asString",(function(){return a})),$parcel$export(e.exports,"toString",(function(){return h})),$parcel$export(e.exports,"asArray",(function(){return p}));var r=parcelRequire("59Hdm"),i=parcelRequire("8GG6h"),n=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,o=/^([a-z]*)$|^hsla?\(.*\)$/i;function a(e){return"string"==typeof e?e:h(e)}function s(e){var t=document.createElement("div");if(t.style.color=e,""!==t.style.color){document.body.appendChild(t);var r=getComputedStyle(t).color;return document.body.removeChild(t),r}return""}var l,u,c=(l={},u=0,function(e){var t;if(l.hasOwnProperty(e))t=l[e];else{if(u>=1024){var i=0;for(var a in l)0==(3&i++)&&(delete l[a],--u)}t=function(e){var t,i,a,l,u;if(o.exec(e)&&(e=s(e)),n.exec(e)){var c=e.length-1,p=void 0;p=c<=4?1:2;var h=4===c||8===c;t=parseInt(e.substr(1+0*p,p),16),i=parseInt(e.substr(1+1*p,p),16),a=parseInt(e.substr(1+2*p,p),16),l=h?parseInt(e.substr(1+3*p,p),16):255,1==p&&(t=(t<<4)+t,i=(i<<4)+i,a=(a<<4)+a,h&&(l=(l<<4)+l)),u=[t,i,a,l/255]}else 0==e.indexOf("rgba(")?d(u=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((u=e.slice(4,-1).split(",").map(Number)).push(1),d(u)):r.assert(!1,14);return u}(e),l[e]=t,++u}return t});function p(e){return Array.isArray(e)?e:c(e)}function d(e){return e[0]=i.clamp(e[0]+.5|0,0,255),e[1]=i.clamp(e[1]+.5|0,0,255),e[2]=i.clamp(e[2]+.5|0,0,255),e[3]=i.clamp(e[3],0,1),e}function h(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var r=e[1];r!=(0|r)&&(r=r+.5|0);var i=e[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+t+","+r+","+i+","+(void 0===e[3]?1:Math.round(100*e[3])/100)+")"}})),parcelRequire.register("59Hdm",(function(e,t){$parcel$export(e.exports,"assert",(function(){return i}));var r=parcelRequire("aWzCd");function i(e,t){if(!e)throw new r.default(t)}})),parcelRequire.register("aWzCd",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}),(function(e){return o=e}));var r,i=parcelRequire("b3vZc"),n=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=function(e){function t(t){var r=this,n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.VERSION?i.VERSION:"v"+i.VERSION.split("-")[0])+"/doc/errors/#"+t+" for details.";return(r=e.call(this,n)||this).code=t,r.name="AssertionError",r.message=n,r}return n(t,e),t}(Error)})),parcelRequire.register("8GG6h",(function(e,t){function r(e,t,r){return Math.min(Math.max(e,t),r)}$parcel$export(e.exports,"clamp",(function(){return r})),$parcel$export(e.exports,"cosh",(function(){return i})),$parcel$export(e.exports,"log2",(function(){return n})),$parcel$export(e.exports,"squaredSegmentDistance",(function(){return o})),$parcel$export(e.exports,"squaredDistance",(function(){return a})),$parcel$export(e.exports,"solveLinearSystem",(function(){return s})),$parcel$export(e.exports,"toDegrees",(function(){return l})),$parcel$export(e.exports,"toRadians",(function(){return u})),$parcel$export(e.exports,"modulo",(function(){return c})),$parcel$export(e.exports,"lerp",(function(){return p})),$parcel$export(e.exports,"round",(function(){return h})),$parcel$export(e.exports,"floor",(function(){return f})),$parcel$export(e.exports,"ceil",(function(){return g}));var i="cosh"in Math?Math.cosh:function(e){var t=Math.exp(e);return(t+1/t)/2},n="log2"in Math?Math.log2:function(e){return Math.log(e)*Math.LOG2E};function o(e,t,r,i,n,o){var s=n-r,l=o-i;if(0!==s||0!==l){var u=((e-r)*s+(t-i)*l)/(s*s+l*l);u>1?(r=n,i=o):u>0&&(r+=s*u,i+=l*u)}return a(e,t,r,i)}function a(e,t,r,i){var n=r-e,o=i-t;return n*n+o*o}function s(e){for(var t=e.length,r=0;r<t;r++){for(var i=r,n=Math.abs(e[r][r]),o=r+1;o<t;o++){var a=Math.abs(e[o][r]);a>n&&(n=a,i=o)}if(0===n)return null;var s=e[i];e[i]=e[r],e[r]=s;for(var l=r+1;l<t;l++)for(var u=-e[l][r]/e[r][r],c=r;c<t+1;c++)r==c?e[l][c]=0:e[l][c]+=u*e[r][c]}for(var p=new Array(t),d=t-1;d>=0;d--){p[d]=e[d][t]/e[d][d];for(var h=d-1;h>=0;h--)e[h][t]-=e[h][d]*p[d]}return p}function l(e){return 180*e/Math.PI}function u(e){return e*Math.PI/180}function c(e,t){var r=e%t;return r*t<0?r+t:r}function p(e,t,r){return e+r*(t-e)}function d(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r}function h(e,t){return Math.round(d(e,t))}function f(e,t){return Math.floor(d(e,t))}function g(e,t){return Math.ceil(d(e,t))}})),parcelRequire.register("iNt2G",(function(e,t){$parcel$export(e.exports,"asColorLike",(function(){return i}));var r=parcelRequire("2asDT");function i(e){return Array.isArray(e)?r.toString(e):e}})),parcelRequire.register("1Rvcq",(function(e,t){$parcel$export(e.exports,"createCanvasContext2D",(function(){return i})),$parcel$export(e.exports,"replaceNode",(function(){return n})),$parcel$export(e.exports,"removeNode",(function(){return o})),$parcel$export(e.exports,"removeChildren",(function(){return a})),$parcel$export(e.exports,"replaceChildren",(function(){return s}));var r=parcelRequire("anhQL");function i(e,t,i,n){var o;return o=i&&i.length?i.shift():r.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(o.width=e),t&&(o.height=t),o.getContext("2d",n)}function n(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)}function o(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function a(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function s(e,t){for(var r=e.childNodes,i=0;;++i){var n=r[i],o=t[i];if(!n&&!o)break;n!==o&&(n?o?e.insertBefore(o,n):(e.removeChild(n),--i):e.appendChild(o))}}})),parcelRequire.register("anhQL",(function(e,t){$parcel$export(e.exports,"FIREFOX",(function(){return i})),$parcel$export(e.exports,"WEBKIT",(function(){return n})),$parcel$export(e.exports,"MAC",(function(){return o})),$parcel$export(e.exports,"DEVICE_PIXEL_RATIO",(function(){return a})),$parcel$export(e.exports,"WORKER_OFFSCREEN_CANVAS",(function(){return s})),$parcel$export(e.exports,"IMAGE_DECODE",(function(){return l})),$parcel$export(e.exports,"PASSIVE_EVENT_LISTENERS",(function(){return u}));var r="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",i=-1!==r.indexOf("firefox"),n=(-1!==r.indexOf("safari")&&r.indexOf("chrom"),-1!==r.indexOf("webkit")&&-1==r.indexOf("edge")),o=-1!==r.indexOf("macintosh"),a="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,s="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,l="undefined"!=typeof Image&&Image.prototype.decode,u=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(e){}return e}()})),parcelRequire.register("kHyfN",(function(e,t){$parcel$export(e.exports,"defaultFont",(function(){return l})),$parcel$export(e.exports,"defaultFillStyle",(function(){return u})),$parcel$export(e.exports,"defaultLineCap",(function(){return c})),$parcel$export(e.exports,"defaultLineDash",(function(){return p})),$parcel$export(e.exports,"defaultLineDashOffset",(function(){return d})),$parcel$export(e.exports,"defaultLineJoin",(function(){return h})),$parcel$export(e.exports,"defaultMiterLimit",(function(){return f})),$parcel$export(e.exports,"defaultStrokeStyle",(function(){return g})),$parcel$export(e.exports,"defaultTextAlign",(function(){return _})),$parcel$export(e.exports,"defaultTextBaseline",(function(){return m})),$parcel$export(e.exports,"defaultPadding",(function(){return v})),$parcel$export(e.exports,"defaultLineWidth",(function(){return y})),$parcel$export(e.exports,"checkedFonts",(function(){return x})),$parcel$export(e.exports,"registerFont",(function(){return C})),$parcel$export(e.exports,"measureTextHeight",(function(){return S})),$parcel$export(e.exports,"measureAndCacheTextWidth",(function(){return T})),$parcel$export(e.exports,"measureTextWidths",(function(){return I})),$parcel$export(e.exports,"drawImageOrLabel",(function(){return L}));var r=parcelRequire("5qZl6"),i=parcelRequire("hJvy5"),n=parcelRequire("anhQL"),o=parcelRequire("lOEcB"),a=parcelRequire("1Rvcq"),s=parcelRequire("889Bv"),l="10px sans-serif",u="#000",c="round",p=[],d=0,h="round",f=10,g="#000",_="center",m="middle",v=[0,0,0,0],y=1,x=new r.default;(new i.default).setSize=function(){console.warn("labelCache is deprecated.")};var b,w,R=null,$={},C=function(){var e,t,r="32px ",i=["monospace","serif"],n=i.length,a="wmytzilWMYTZIL@#/&?$%10";function l(e,o,s){for(var l=!0,u=0;u<n;++u){var c=i[u];if(t=q(e+" "+o+" "+r+c,a),s!=c){var p=q(e+" "+o+" "+r+s+","+c,a);l=l&&p!=t}}return!!l}function u(){for(var t=!0,r=x.getKeys(),i=0,n=r.length;i<n;++i){var a=r[i];x.get(a)<100&&(l.apply(this,a.split("\n"))?(o.clear($),R=null,b=void 0,x.set(a,100)):(x.set(a,x.get(a)+1,!0),t=!1))}t&&(clearInterval(e),e=void 0)}return function(t){var r=s.getFontParameters(t);if(r)for(var i=r.families,n=0,o=i.length;n<o;++n){var a=i[n],c=r.style+"\n"+r.weight+"\n"+a;void 0===x.get(c)&&(x.set(c,100,!0),l(r.style,r.weight,a)||(x.set(c,0,!0),void 0===e&&(e=setInterval(u,32))))}}}(),S=function(e){var t=$[e];if(null==t){if(n.WORKER_OFFSCREEN_CANVAS){var r=s.getFontParameters(e),i=E(e,"Žg");t=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else w||((w=document.createElement("div")).innerHTML="M",w.style.minHeight="0",w.style.maxHeight="none",w.style.height="auto",w.style.padding="0",w.style.border="none",w.style.position="absolute",w.style.display="block",w.style.left="-99999px"),w.style.font=e,document.body.appendChild(w),t=w.offsetHeight,document.body.removeChild(w);$[e]=t}return t};function E(e,t){return R||(R=a.createCanvasContext2D(1,1)),e!=b&&(R.font=e,b=R.font),R.measureText(t)}function q(e,t){return E(e,t).width}function T(e,t,r){if(t in r)return r[t];var i=q(e,t);return r[t]=i,i}function I(e,t,r){for(var i=t.length,n=0,o=0;o<i;++o){var a=q(e,t[o]);n=Math.max(n,a),r.push(a)}return n}function L(e,t,r,i,n,o,a,s,l,u,c){e.save(),1!==r&&(e.globalAlpha*=r),t&&e.setTransform.apply(e,t),i.contextInstructions?(e.translate(l,u),e.scale(c[0],c[1]),function(e,t){for(var r=e.contextInstructions,i=0,n=r.length;i<n;i+=2)Array.isArray(r[i+1])?t[r[i]].apply(t,r[i+1]):t[r[i]]=r[i+1]}(i,e)):c[0]<0||c[1]<0?(e.translate(l,u),e.scale(c[0],c[1]),e.drawImage(i,n,o,a,s,0,0,a,s)):e.drawImage(i,n,o,a,s,l,u,a*c[0],s*c[1]),e.restore()}})),parcelRequire.register("5qZl6",(function(e,t){$parcel$export(e.exports,"ObjectEvent",(function(){return u}),(function(e){return u=e})),$parcel$export(e.exports,"default",(function(){return c}),(function(e){return c=e}));var r,i=parcelRequire("jkZCX"),n=parcelRequire("jlqXC"),o=parcelRequire("g7x0p"),a=parcelRequire("lOEcB"),s=parcelRequire("b3vZc"),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(t,r,i){var n=e.call(this,t)||this;return n.key=r,n.oldValue=i,n}return l(t,e),t}(i.default),c=function(e){function t(t){var r=e.call(this)||this;return r.on,r.once,r.un,s.getUid(r),r.values_=null,void 0!==t&&r.setProperties(t),r}return l(t,e),t.prototype.get=function(e){var t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&a.assign({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(e,t){var r;r="change:"+e,this.dispatchEvent(new u(r,e,t)),r=n.default.PROPERTYCHANGE,this.dispatchEvent(new u(r,e,t))},t.prototype.addChangeListener=function(e,t){this.addEventListener("change:"+e,t)},t.prototype.removeChangeListener=function(e,t){this.removeEventListener("change:"+e,t)},t.prototype.set=function(e,t,r){var i=this.values_||(this.values_={});if(r)i[e]=t;else{var n=i[e];i[e]=t,n!==t&&this.notify(e,n)}},t.prototype.setProperties=function(e,t){for(var r in e)this.set(r,e[r],t)},t.prototype.applyProperties=function(e){e.values_&&a.assign(this.values_||(this.values_={}),e.values_)},t.prototype.unset=function(e,t){if(this.values_&&e in this.values_){var r=this.values_[e];delete this.values_[e],a.isEmpty(this.values_)&&(this.values_=null),t||this.notify(e,r)}},t}(o.default)})),parcelRequire.register("jkZCX",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r=function(){function e(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}()})),parcelRequire.register("jlqXC",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={PROPERTYCHANGE:"propertychange"}})),parcelRequire.register("g7x0p",(function(e,t){$parcel$export(e.exports,"unByKey",(function(){return l}),(function(e){return l=e})),$parcel$export(e.exports,"default",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("hJvy5"),n=parcelRequire("7Ry8n"),o=parcelRequire("9eKdp"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=function(e){function t(){var t=e.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return a(t,e),t.prototype.changed=function(){++this.revision_,this.dispatchEvent(n.default.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(e,t){if(Array.isArray(e)){for(var r=e.length,i=new Array(r),n=0;n<r;++n)i[n]=o.listen(this,e[n],t);return i}return o.listen(this,e,t)},t.prototype.onceInternal=function(e,t){var r;if(Array.isArray(e)){var i=e.length;r=new Array(i);for(var n=0;n<i;++n)r[n]=o.listenOnce(this,e[n],t)}else r=o.listenOnce(this,e,t);return t.ol_key=r,r},t.prototype.unInternal=function(e,t){var r=t.ol_key;if(r)l(r);else if(Array.isArray(e))for(var i=0,n=e.length;i<n;++i)this.removeEventListener(e[i],t);else this.removeEventListener(e,t)},t}(i.default);function l(e){if(Array.isArray(e))for(var t=0,r=e.length;t<r;++t)o.unlistenByKey(e[t]);else o.unlistenByKey(e)}s.prototype.on,s.prototype.once,s.prototype.un;var u=s})),parcelRequire.register("hJvy5",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}),(function(e){return l=e}));var r,i=parcelRequire("lXwX1"),n=parcelRequire("jkZCX"),o=parcelRequire("c0LdP"),a=parcelRequire("lOEcB"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l=function(e){function t(t){var r=e.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return s(t,e),t.prototype.addEventListener=function(e,t){if(e&&t){var r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);-1===i.indexOf(t)&&i.push(t)}},t.prototype.dispatchEvent=function(e){var t="string"==typeof e?new n.default(e):e,r=t.type;t.target||(t.target=this.eventTarget_||this);var i,a=this.listeners_&&this.listeners_[r];if(a){var s=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});r in s||(s[r]=0,l[r]=0),++s[r];for(var u=0,c=a.length;u<c;++u)if(!1===(i="handleEvent"in a[u]?a[u].handleEvent(t):a[u].call(this,t))||t.propagationStopped){i=!1;break}if(--s[r],0===s[r]){var p=l[r];for(delete l[r];p--;)this.removeEventListener(r,o.VOID);delete s[r]}return i}},t.prototype.disposeInternal=function(){this.listeners_&&a.clear(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},t.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},t.prototype.removeEventListener=function(e,t){var r=this.listeners_&&this.listeners_[e];if(r){var i=r.indexOf(t);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=o.VOID,++this.pendingRemovals_[e]):(r.splice(i,1),0===r.length&&delete this.listeners_[e]))}},t}(i.default)})),parcelRequire.register("lXwX1",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}()})),parcelRequire.register("c0LdP",(function(e,t){$parcel$export(e.exports,"TRUE",(function(){return i})),$parcel$export(e.exports,"FALSE",(function(){return n})),$parcel$export(e.exports,"VOID",(function(){return o})),$parcel$export(e.exports,"memoizeOne",(function(){return a}));var r=parcelRequire("l89p7");function i(){return!0}function n(){return!1}function o(){}function a(e){var t,i,n,o=!1;return function(){var a=Array.prototype.slice.call(arguments);return o&&this===n&&r.equals(a,i)||(o=!0,n=this,i=a,t=e.apply(this,arguments)),t}}})),parcelRequire.register("l89p7",(function(e,t){function r(e,t,r){for(var n,o,a=r||i,s=0,l=e.length,u=!1;s<l;)(o=+a(e[n=s+(l-s>>1)],t))<0?s=n+1:(l=n,u=!o);return u?s:~s}function i(e,t){return e>t?1:e<t?-1:0}function n(e,t){return e.indexOf(t)>=0}function o(e,t,r){var i=e.length;if(e[0]<=t)return 0;if(t<=e[i-1])return i-1;var n=void 0;if(r>0){for(n=1;n<i;++n)if(e[n]<t)return n-1}else if(r<0){for(n=1;n<i;++n)if(e[n]<=t)return n}else for(n=1;n<i;++n){if(e[n]==t)return n;if(e[n]<t)return"function"==typeof r?r(t,e[n-1],e[n])>0?n-1:n:e[n-1]-t<t-e[n]?n-1:n}return i-1}function a(e,t,r){for(;t<r;){var i=e[t];e[t]=e[r],e[r]=i,++t,--r}}function s(e,t){for(var r=Array.isArray(t)?t:[t],i=r.length,n=0;n<i;n++)e[e.length]=r[n]}function l(e,t){for(var r,i=e.length>>>0,n=0;n<i;n++)if(t(r=e[n],n,e))return r;return null}function u(e,t){var r=e.length;if(r!==t.length)return!1;for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function c(e,t){var r;return!e.every((function(i,n){return r=n,!t(i,n,e)}))?r:-1}function p(e,t,r){var n=t||i;return e.every((function(t,i){if(0===i)return!0;var o=n(e[i-1],t);return!(o>0||r&&0===o)}))}$parcel$export(e.exports,"binarySearch",(function(){return r})),$parcel$export(e.exports,"numberSafeCompareFunction",(function(){return i})),$parcel$export(e.exports,"includes",(function(){return n})),$parcel$export(e.exports,"linearFindNearest",(function(){return o})),$parcel$export(e.exports,"reverseSubArray",(function(){return a})),$parcel$export(e.exports,"extend",(function(){return s})),$parcel$export(e.exports,"find",(function(){return l})),$parcel$export(e.exports,"equals",(function(){return u})),$parcel$export(e.exports,"findIndex",(function(){return c})),$parcel$export(e.exports,"isSorted",(function(){return p}))})),parcelRequire.register("lOEcB",(function(e,t){$parcel$export(e.exports,"assign",(function(){return r})),$parcel$export(e.exports,"clear",(function(){return i})),$parcel$export(e.exports,"getValues",(function(){return n})),$parcel$export(e.exports,"isEmpty",(function(){return o}));var r="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1,n=arguments.length;i<n;++i){var o=arguments[i];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])}return r};function i(e){for(var t in e)delete e[t]}var n="function"==typeof Object.values?Object.values:function(e){var t=[];for(var r in e)t.push(e[r]);return t};function o(e){var t;for(t in e)return!1;return!t}})),parcelRequire.register("7Ry8n",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}})),parcelRequire.register("9eKdp",(function(e,t){$parcel$export(e.exports,"listen",(function(){return i})),$parcel$export(e.exports,"listenOnce",(function(){return n})),$parcel$export(e.exports,"unlistenByKey",(function(){return o}));var r=parcelRequire("lOEcB");function i(e,t,r,i,n){if(i&&i!==e&&(r=r.bind(i)),n){var o=r;r=function(){e.removeEventListener(t,r),o.apply(this,arguments)}}var a={target:e,type:t,listener:r};return e.addEventListener(t,r),a}function n(e,t,r,n){return i(e,t,r,n,!0)}function o(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),r.clear(e))}})),parcelRequire.register("889Bv",(function(e,t){$parcel$export(e.exports,"CLASS_HIDDEN",(function(){return r})),$parcel$export(e.exports,"CLASS_UNSELECTABLE",(function(){return i})),$parcel$export(e.exports,"CLASS_CONTROL",(function(){return n})),$parcel$export(e.exports,"CLASS_COLLAPSED",(function(){return o})),$parcel$export(e.exports,"getFontParameters",(function(){return l})),$parcel$export(e.exports,"cssOpacity",(function(){return u}));var r="ol-hidden",i="ol-unselectable",n="ol-control",o="ol-collapsed",a=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),s=["style","variant","weight","size","lineHeight","family"],l=function(e){var t=e.match(a);if(!t)return null;for(var r={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,n=s.length;i<n;++i){var o=t[i+1];void 0!==o&&(r[s[i]]=o)}return r.families=r.family.split(/,\s?/),r};function u(e){return 1===e?"":String(Math.round(100*e)/100)}})),parcelRequire.register("1gTaY",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r=function(){function e(e){var t=e||{};this.color_=void 0!==t.color?t.color:null}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(e){this.color_=e},e}()})),parcelRequire.register("gCYbe",(function(e,t){$parcel$export(e.exports,"default",(function(){return h}),(function(e){return h=e}));var r,i=parcelRequire("7Ry8n"),n=parcelRequire("hhekU"),o=parcelRequire("8WJjI"),a=parcelRequire("hTRPy"),s=parcelRequire("38HjJ"),l=parcelRequire("2asDT"),u=parcelRequire("59Hdm"),c=parcelRequire("e2aHe"),p=parcelRequire("b3vZc"),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=function(e){function t(t){var r=this,i=t||{},s=void 0!==i.opacity?i.opacity:1,d=void 0!==i.rotation?i.rotation:0,h=void 0!==i.scale?i.scale:1,f=void 0!==i.rotateWithView&&i.rotateWithView;(r=e.call(this,{opacity:s,rotation:d,scale:h,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:f})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:o.default.TOP_LEFT,r.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:n.default.FRACTION,r.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:n.default.FRACTION,r.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var g=void 0!==i.img?i.img:null,_=void 0!==i.imgSize?i.imgSize:null,m=i.src;u.assert(!(void 0!==m&&g),4),u.assert(!g||g&&_,5),void 0!==m&&0!==m.length||!g||(m=g.src||p.getUid(g)),u.assert(void 0!==m&&m.length>0,6);var v=void 0!==i.src?a.default.IDLE:a.default.LOADED;return r.color_=void 0!==i.color?l.asArray(i.color):null,r.iconImage_=c.get(g,m,_,r.crossOrigin_,v,r.color_),r.offset_=void 0!==i.offset?i.offset:[0,0],r.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:o.default.TOP_LEFT,r.origin_=null,r.size_=void 0!==i.size?i.size:null,r}return d(t,e),t.prototype.clone=function(){var e=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getAnchor=function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var t=this.getSize();if(this.anchorXUnits_==n.default.FRACTION||this.anchorYUnits_==n.default.FRACTION){if(!t)return null;e=this.anchor_.slice(),this.anchorXUnits_==n.default.FRACTION&&(e[0]*=t[0]),this.anchorYUnits_==n.default.FRACTION&&(e[1]*=t[1])}if(this.anchorOrigin_!=o.default.TOP_LEFT){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),this.anchorOrigin_!=o.default.TOP_RIGHT&&this.anchorOrigin_!=o.default.BOTTOM_RIGHT||(e[0]=-e[0]+t[0]),this.anchorOrigin_!=o.default.BOTTOM_LEFT&&this.anchorOrigin_!=o.default.BOTTOM_RIGHT||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}var r=this.getDisplacement();return[e[0]-r[0],e[1]+r[1]]},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=o.default.TOP_LEFT){var t=this.getSize(),r=this.iconImage_.getSize();if(!t||!r)return null;e=e.slice(),this.offsetOrigin_!=o.default.TOP_RIGHT&&this.offsetOrigin_!=o.default.BOTTOM_RIGHT||(e[0]=r[0]-t[0]-e[0]),this.offsetOrigin_!=o.default.BOTTOM_LEFT&&this.offsetOrigin_!=o.default.BOTTOM_RIGHT||(e[1]=r[1]-t[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener(i.default.CHANGE,e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener(i.default.CHANGE,e)},t}(s.default)})),parcelRequire.register("hhekU",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={FRACTION:"fraction",PIXELS:"pixels"}})),parcelRequire.register("8WJjI",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}})),parcelRequire.register("e2aHe",(function(e,t){$parcel$export(e.exports,"get",(function(){return h}),(function(e){return h=e}));var r,i=parcelRequire("hJvy5"),n=parcelRequire("7Ry8n"),o=parcelRequire("hTRPy"),a=parcelRequire("2asDT"),s=parcelRequire("1Rvcq"),l=parcelRequire("jtRWe"),u=parcelRequire("2nKin"),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),p=null,d=function(e){function t(t,r,i,n,o,a){var s=e.call(this)||this;return s.hitDetectionImage_=null,s.image_=t||new Image,null!==n&&(s.image_.crossOrigin=n),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=i,s.src_=r,s.tainted_,s}return c(t,e),t.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===o.default.LOADED){p||(p=s.createCanvasContext2D(1,1)),p.drawImage(this.image_,0,0);try{p.getImageData(0,0,1,1),this.tainted_=!1}catch(e){p=null,this.tainted_=!0}}return!0===this.tainted_},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(n.default.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=o.default.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=o.default.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},t.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],t=this.size_[1],r=s.createCanvasContext2D(e,t);r.fillRect(0,0,e,t),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==o.default.IDLE){this.imageState_=o.default.LOADING;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=u.listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(e){if(this.color_&&!this.canvas_[e]&&this.imageState_===o.default.LOADED){var t=document.createElement("canvas");this.canvas_[e]=t,t.width=Math.ceil(this.image_.width*e),t.height=Math.ceil(this.image_.height*e);var r=t.getContext("2d");if(r.scale(e,e),r.drawImage(this.image_,0,0),r.globalCompositeOperation="multiply","multiply"===r.globalCompositeOperation||this.isTainted_())r.fillStyle=a.asString(this.color_),r.fillRect(0,0,t.width/e,t.height/e),r.globalCompositeOperation="destination-in",r.drawImage(this.image_,0,0);else{for(var i=r.getImageData(0,0,t.width,t.height),n=i.data,s=this.color_[0]/255,l=this.color_[1]/255,u=this.color_[2]/255,c=this.color_[3],p=0,d=n.length;p<d;p+=4)n[p]*=s,n[p+1]*=l,n[p+2]*=u,n[p+3]*=c;r.putImageData(i,0,0)}}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(i.default);function h(e,t,r,i,n,o){var a=l.shared.get(t,i,o);return a||(a=new d(e,t,r,i,n,o),l.shared.set(t,i,o,a)),a}})),parcelRequire.register("jtRWe",(function(e,t){$parcel$export(e.exports,"shared",(function(){return o}));var r=parcelRequire("2asDT"),i=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var r=this.cache_[t];0!=(3&e++)||r.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},e.prototype.get=function(e,t,r){var i=n(e,t,r);return i in this.cache_?this.cache_[i]:null},e.prototype.set=function(e,t,r,i){var o=n(e,t,r);this.cache_[o]=i,++this.cacheSize_},e.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},e}();function n(e,t,i){return t+":"+e+":"+(i?r.asString(i):"null")}var o=new i})),parcelRequire.register("2nKin",(function(e,t){$parcel$export(e.exports,"listenImage",(function(){return c}),(function(e){return c=e})),$parcel$export(e.exports,"default",(function(){return p}),(function(e){return p=e}));var r,i=parcelRequire("7Ry8n"),n=parcelRequire("iEW9U"),o=parcelRequire("hTRPy"),a=parcelRequire("anhQL"),s=parcelRequire("geRS1"),l=parcelRequire("9eKdp"),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function c(e,t,r){var n=e,o=!0,s=!1,u=!1,c=[l.listenOnce(n,i.default.LOAD,(function(){u=!0,s||t()}))];return n.src&&a.IMAGE_DECODE?(s=!0,n.decode().then((function(){o&&t()})).catch((function(e){o&&(u?t():r())}))):c.push(l.listenOnce(n,i.default.ERROR,r)),function(){o=!1,c.forEach(l.unlistenByKey)}}var p=function(e){function t(t,r,i,n,a,s){var l=e.call(this,t,r,i,o.default.IDLE)||this;return l.src_=n,l.image_=new Image,null!==a&&(l.image_.crossOrigin=a),l.unlisten_=null,l.state=o.default.IDLE,l.imageLoadFunction_=s,l}return u(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=o.default.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=s.getHeight(this.extent)/this.image_.height),this.state=o.default.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state!=o.default.IDLE&&this.state!=o.default.ERROR||(this.state=o.default.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=c(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e,this.resolution=s.getHeight(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(n.default)})),parcelRequire.register("iEW9U",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}),(function(e){return s=e}));var r,i=parcelRequire("hJvy5"),n=parcelRequire("7Ry8n"),o=parcelRequire("b3vZc"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=function(e){function t(t,r,i,n){var o=e.call(this)||this;return o.extent=t,o.pixelRatio_=i,o.resolution=r,o.state=n,o}return a(t,e),t.prototype.changed=function(){this.dispatchEvent(n.default.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return o.abstract()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){o.abstract()},t}(i.default)})),parcelRequire.register("geRS1",(function(e,t){$parcel$export(e.exports,"boundingExtent",(function(){return o})),$parcel$export(e.exports,"createEmpty",(function(){return h})),$parcel$export(e.exports,"extendCoordinate",(function(){return b})),$parcel$export(e.exports,"createOrUpdate",(function(){return f})),$parcel$export(e.exports,"buffer",(function(){return a})),$parcel$export(e.exports,"clone",(function(){return s})),$parcel$export(e.exports,"closestSquaredDistanceXY",(function(){return l})),$parcel$export(e.exports,"containsCoordinate",(function(){return u})),$parcel$export(e.exports,"containsXY",(function(){return p})),$parcel$export(e.exports,"containsExtent",(function(){return c})),$parcel$export(e.exports,"coordinateRelationship",(function(){return d})),$parcel$export(e.exports,"createOrUpdateEmpty",(function(){return g})),$parcel$export(e.exports,"createOrUpdateFromCoordinate",(function(){return _})),$parcel$export(e.exports,"createOrUpdateFromFlatCoordinates",(function(){return m})),$parcel$export(e.exports,"extendFlatCoordinates",(function(){return w})),$parcel$export(e.exports,"equals",(function(){return v})),$parcel$export(e.exports,"approximatelyEquals",(function(){return y})),$parcel$export(e.exports,"extend",(function(){return x})),$parcel$export(e.exports,"forEachCorner",(function(){return $})),$parcel$export(e.exports,"getBottomLeft",(function(){return S})),$parcel$export(e.exports,"getBottomRight",(function(){return E})),$parcel$export(e.exports,"getTopRight",(function(){return P})),$parcel$export(e.exports,"getTopLeft",(function(){return O})),$parcel$export(e.exports,"getArea",(function(){return C})),$parcel$export(e.exports,"isEmpty",(function(){return k})),$parcel$export(e.exports,"getWidth",(function(){return M})),$parcel$export(e.exports,"getHeight",(function(){return L})),$parcel$export(e.exports,"getCenter",(function(){return q})),$parcel$export(e.exports,"getCorner",(function(){return T})),$parcel$export(e.exports,"getForViewAndSize",(function(){return I})),$parcel$export(e.exports,"getIntersection",(function(){return A})),$parcel$export(e.exports,"intersects",(function(){return F})),$parcel$export(e.exports,"returnOrUpdate",(function(){return D})),$parcel$export(e.exports,"intersectsSegment",(function(){return N})),$parcel$export(e.exports,"applyTransform",(function(){return j})),$parcel$export(e.exports,"wrapX",(function(){return G}));var r=parcelRequire("64Que"),i=parcelRequire("WMgto"),n=parcelRequire("59Hdm");function o(e){for(var t=h(),r=0,i=e.length;r<i;++r)b(t,e[r]);return t}function a(e,t,r){return r?(r[0]=e[0]-t,r[1]=e[1]-t,r[2]=e[2]+t,r[3]=e[3]+t,r):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function s(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function l(e,t,r){var i,n;return(i=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*i+(n=r<e[1]?e[1]-r:e[3]<r?r-e[3]:0)*n}function u(e,t){return p(e,t[0],t[1])}function c(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function p(e,t,r){return e[0]<=t&&t<=e[2]&&e[1]<=r&&r<=e[3]}function d(e,t){var r=e[0],n=e[1],o=e[2],a=e[3],s=t[0],l=t[1],u=i.default.UNKNOWN;return s<r?u|=i.default.LEFT:s>o&&(u|=i.default.RIGHT),l<n?u|=i.default.BELOW:l>a&&(u|=i.default.ABOVE),u===i.default.UNKNOWN&&(u=i.default.INTERSECTING),u}function h(){return[1/0,1/0,-1/0,-1/0]}function f(e,t,r,i,n){return n?(n[0]=e,n[1]=t,n[2]=r,n[3]=i,n):[e,t,r,i]}function g(e){return f(1/0,1/0,-1/0,-1/0,e)}function _(e,t){var r=e[0],i=e[1];return f(r,i,r,i,t)}function m(e,t,r,i,n){return w(g(n),e,t,r,i)}function v(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function y(e,t,r){return Math.abs(e[0]-t[0])<r&&Math.abs(e[2]-t[2])<r&&Math.abs(e[1]-t[1])<r&&Math.abs(e[3]-t[3])<r}function x(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function b(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function w(e,t,r,i,n){for(;r<i;r+=n)R(e,t[r],t[r+1]);return e}function R(e,t,r){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],r),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],r)}function $(e,t){var r;return(r=t(S(e)))||(r=t(E(e)))||(r=t(P(e)))?r:(r=t(O(e)))||!1}function C(e){var t=0;return k(e)||(t=M(e)*L(e)),t}function S(e){return[e[0],e[1]]}function E(e){return[e[2],e[1]]}function q(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function T(e,t){var i;return t===r.default.BOTTOM_LEFT?i=S(e):t===r.default.BOTTOM_RIGHT?i=E(e):t===r.default.TOP_LEFT?i=O(e):t===r.default.TOP_RIGHT?i=P(e):n.assert(!1,13),i}function I(e,t,r,i,n){var o=t*i[0]/2,a=t*i[1]/2,s=Math.cos(r),l=Math.sin(r),u=o*s,c=o*l,p=a*s,d=a*l,h=e[0],g=e[1],_=h-u+d,m=h-u-d,v=h+u-d,y=h+u+d,x=g-c-p,b=g-c+p,w=g+c+p,R=g+c-p;return f(Math.min(_,m,v,y),Math.min(x,b,w,R),Math.max(_,m,v,y),Math.max(x,b,w,R),n)}function L(e){return e[3]-e[1]}function A(e,t,r){var i=r||[1/0,1/0,-1/0,-1/0];return F(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):g(i),i}function O(e){return[e[0],e[3]]}function P(e){return[e[2],e[3]]}function M(e){return e[2]-e[0]}function F(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function k(e){return e[2]<e[0]||e[3]<e[1]}function D(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function N(e,t,r){var n=!1,o=d(e,t),a=d(e,r);if(o===i.default.INTERSECTING||a===i.default.INTERSECTING)n=!0;else{var s=e[0],l=e[1],u=e[2],c=e[3],p=t[0],h=t[1],f=r[0],g=r[1],_=(g-h)/(f-p),m=void 0,v=void 0;a&i.default.ABOVE&&!(o&i.default.ABOVE)&&(n=(m=f-(g-c)/_)>=s&&m<=u),n||!(a&i.default.RIGHT)||o&i.default.RIGHT||(n=(v=g-(f-u)*_)>=l&&v<=c),n||!(a&i.default.BELOW)||o&i.default.BELOW||(n=(m=f-(g-l)/_)>=s&&m<=u),n||!(a&i.default.LEFT)||o&i.default.LEFT||(n=(v=g-(f-s)*_)>=l&&v<=c)}return n}function j(e,t,r,i){var n=[];if(i>1)for(var o=e[2]-e[0],a=e[3]-e[1],s=0;s<i;++s)n.push(e[0]+o*s/i,e[1],e[2],e[1]+a*s/i,e[2]-o*s/i,e[3],e[0],e[3]-a*s/i);else n=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(n,n,2);for(var l=[],u=[],c=(s=0,n.length);s<c;s+=2)l.push(n[s]),u.push(n[s+1]);return function(e,t,r){return f(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),r)}(l,u,r)}function G(e,t){var r=t.getExtent(),i=q(e);if(t.canWrapX()&&(i[0]<r[0]||i[0]>=r[2])){var n=M(r),o=Math.floor((i[0]-r[0])/n)*n;e[0]-=o,e[2]-=o}return e}})),parcelRequire.register("64Que",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}})),parcelRequire.register("WMgto",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}})),parcelRequire.register("d38C1",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r=function(){function e(e){var t=e||{};this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(e){this.color_=e},e.prototype.setLineCap=function(e){this.lineCap_=e},e.prototype.setLineDash=function(e){this.lineDash_=e},e.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},e.prototype.setLineJoin=function(e){this.lineJoin_=e},e.prototype.setMiterLimit=function(e){this.miterLimit_=e},e.prototype.setWidth=function(e){this.width_=e},e}()})),parcelRequire.register("fIQfh",(function(e,t){$parcel$export(e.exports,"toFunction",(function(){return l})),$parcel$export(e.exports,"createDefaultStyle",(function(){return c})),$parcel$export(e.exports,"createEditingStyle",(function(){return p})),$parcel$export(e.exports,"default",(function(){return h}));var r=parcelRequire("dmHsU"),i=parcelRequire("1gTaY"),n=parcelRequire("hZjyb"),o=parcelRequire("d38C1"),a=parcelRequire("59Hdm"),s=function(){function e(e){var t=e||{};this.geometry_=null,this.geometryFunction_=d,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}return e.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(e){this.renderer_=e},e.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},e.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(e){this.fill_=e},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(e){this.image_=e},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(e){this.text_=e},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=d,this.geometry_=e},e.prototype.setZIndex=function(e){this.zIndex_=e},e}();function l(e){var t;if("function"==typeof e)t=e;else{var r;if(Array.isArray(e))r=e;else a.assert("function"==typeof e.getZIndex,41),r=[e];t=function(){return r}}return t}var u=null;function c(e,t){if(!u){var n=new i.default({color:"rgba(255,255,255,0.4)"}),a=new o.default({color:"#3399CC",width:1.25});u=[new s({image:new r.default({fill:n,stroke:a,radius:5}),fill:n,stroke:a})]}return u}function p(){var e={},t=[255,255,255,1],a=[0,153,255,1];return e[n.default.POLYGON]=[new s({fill:new i.default({color:[255,255,255,.5]})})],e[n.default.MULTI_POLYGON]=e[n.default.POLYGON],e[n.default.LINE_STRING]=[new s({stroke:new o.default({color:t,width:5})}),new s({stroke:new o.default({color:a,width:3})})],e[n.default.MULTI_LINE_STRING]=e[n.default.LINE_STRING],e[n.default.CIRCLE]=e[n.default.POLYGON].concat(e[n.default.LINE_STRING]),e[n.default.POINT]=[new s({image:new r.default({radius:6,fill:new i.default({color:a}),stroke:new o.default({color:t,width:1.5})}),zIndex:1/0})],e[n.default.MULTI_POINT]=e[n.default.POINT],e[n.default.GEOMETRY_COLLECTION]=e[n.default.POLYGON].concat(e[n.default.LINE_STRING],e[n.default.POINT]),e}function d(e){return e.getGeometry()}var h=s})),parcelRequire.register("hZjyb",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}})),parcelRequire.register("e8Opo",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("1gTaY"),i=parcelRequire("lgFTB"),n=parcelRequire("3R7f8"),o=function(){function e(e){var t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=n.toSize(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new r.default({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:i.default.POINT,this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}return e.prototype.clone=function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(e){this.overflow_=e},e.prototype.setFont=function(e){this.font_=e},e.prototype.setMaxAngle=function(e){this.maxAngle_=e},e.prototype.setOffsetX=function(e){this.offsetX_=e},e.prototype.setOffsetY=function(e){this.offsetY_=e},e.prototype.setPlacement=function(e){this.placement_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setFill=function(e){this.fill_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=n.toSize(void 0!==e?e:1)},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.setText=function(e){this.text_=e},e.prototype.setTextAlign=function(e){this.textAlign_=e},e.prototype.setTextBaseline=function(e){this.textBaseline_=e},e.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},e.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},e.prototype.setPadding=function(e){this.padding_=e},e}()})),parcelRequire.register("lgFTB",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={POINT:"point",LINE:"line"}})),parcelRequire.register("dVClE",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));
/*!
 * Signature Pad v4.0.0 | https://github.com/szimek/signature_pad
 * (c) 2021 Szymon Nowak | Released under the MIT license
 */
class r{distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.pressure===e.pressure&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}constructor(e,t,r,i){if(isNaN(e)||isNaN(t))throw new Error(`Point is invalid: (${e}, ${t})`);this.x=+e,this.y=+t,this.pressure=r||0,this.time=i||Date.now()}}class i{static fromPoints(e,t){const r=this.calculateControlPoints(e[0],e[1],e[2]).c2,n=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new i(e[1],r,n,e[2],t.start,t.end)}static calculateControlPoints(e,t,i){const n=e.x-t.x,o=e.y-t.y,a=t.x-i.x,s=t.y-i.y,l=(e.x+t.x)/2,u=(e.y+t.y)/2,c=(t.x+i.x)/2,p=(t.y+i.y)/2,d=Math.sqrt(n*n+o*o),h=Math.sqrt(a*a+s*s),f=h/(d+h),g=c+(l-c)*f,_=p+(u-p)*f,m=t.x-g,v=t.y-_;return{c1:new r(l+m,u+v),c2:new r(c+m,p+v)}}length(){let e,t,r=0;for(let i=0;i<=10;i+=1){const n=i/10,o=this.point(n,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this.point(n,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){const i=o-e,n=a-t;r+=Math.sqrt(i*i+n*n)}e=o,t=a}return r}point(e,t,r,i,n){return t*(1-e)*(1-e)*(1-e)+3*r*(1-e)*(1-e)*e+3*i*(1-e)*e*e+n*e*e*e}constructor(e,t,r,i,n,o){this.startPoint=e,this.control2=t,this.control1=r,this.endPoint=i,this.startWidth=n,this.endWidth=o}}class n extends EventTarget{clear(){const{_ctx:e,canvas:t}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(e,t={}){return new Promise(((r,i)=>{const n=new Image,o=t.ratio||window.devicePixelRatio||1,a=t.width||this.canvas.width/o,s=t.height||this.canvas.height/o,l=t.xOffset||0,u=t.yOffset||0;this._reset(),n.onload=()=>{this._ctx.drawImage(n,l,u,a,s),r()},n.onerror=e=>{i(e)},n.crossOrigin="anonymous",n.src=e,this._isEmpty=!1}))}toDataURL(e="image/png",t){return"image/svg+xml"===e?this._toSVG():this.canvas.toDataURL(e,t)}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e,{clear:t=!0}={}){t&&this.clear(),this._fromData(e,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=t?e:this._data.concat(e)}toData(){return this._data}_strokeBegin(e){this.dispatchEvent(new CustomEvent("beginStroke",{detail:e}));const t={dotSize:this.dotSize,minWidth:this.minWidth,maxWidth:this.maxWidth,penColor:this.penColor,points:[]};this._data.push(t),this._reset(),this._strokeUpdate(e)}_strokeUpdate(e){if(0===this._data.length)return void this._strokeBegin(e);this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:e}));const t=e.clientX,r=e.clientY,i=void 0!==e.pressure?e.pressure:void 0!==e.force?e.force:0,n=this._createPoint(t,r,i),o=this._data[this._data.length-1],a=o.points,s=a.length>0&&a[a.length-1],l=!!s&&n.distanceTo(s)<=this.minDistance,{penColor:u,dotSize:c,minWidth:p,maxWidth:d}=o;if(!s||!s||!l){const e=this._addPoint(n);s?e&&this._drawCurve(e,{penColor:u,dotSize:c,minWidth:p,maxWidth:d}):this._drawDot(n,{penColor:u,dotSize:c,minWidth:p,maxWidth:d}),a.push({time:n.time,x:n.x,y:n.y,pressure:n.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:e}))}_strokeEnd(e){this._strokeUpdate(e),this.dispatchEvent(new CustomEvent("endStroke",{detail:e}))}_handlePointerEvents(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),document.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,t,i){const n=this.canvas.getBoundingClientRect();return new r(e-n.left,t-n.top,i,(new Date).getTime())}_addPoint(e){const{_lastPoints:t}=this;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);const e=this._calculateCurveWidths(t[1],t[2]),r=i.fromPoints(t,e);return t.shift(),r}return null}_calculateCurveWidths(e,t){const r=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(r),n={end:i,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=i,n}_strokeWidth(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}_drawCurveSegment(e,t,r){const i=this._ctx;i.moveTo(e,t),i.arc(e,t,r,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(e,t){const r=this._ctx,i=e.endWidth-e.startWidth,n=2*Math.ceil(e.length());r.beginPath(),r.fillStyle=t.penColor;for(let r=0;r<n;r+=1){const o=r/n,a=o*o,s=a*o,l=1-o,u=l*l,c=u*l;let p=c*e.startPoint.x;p+=3*u*o*e.control1.x,p+=3*l*a*e.control2.x,p+=s*e.endPoint.x;let d=c*e.startPoint.y;d+=3*u*o*e.control1.y,d+=3*l*a*e.control2.y,d+=s*e.endPoint.y;const h=Math.min(e.startWidth+s*i,t.maxWidth);this._drawCurveSegment(p,d,h)}r.closePath(),r.fill()}_drawDot(e,t){const r=this._ctx,i=t.dotSize>0?t.dotSize:(t.minWidth+t.maxWidth)/2;r.beginPath(),this._drawCurveSegment(e.x,e.y,i),r.closePath(),r.fillStyle=t.penColor,r.fill()}_fromData(e,t,i){for(const n of e){const{penColor:e,dotSize:o,minWidth:a,maxWidth:s,points:l}=n;if(l.length>1)for(let i=0;i<l.length;i+=1){const n=l[i],u=new r(n.x,n.y,n.pressure,n.time);this.penColor=e,0===i&&this._reset();const c=this._addPoint(u);c&&t(c,{penColor:e,dotSize:o,minWidth:a,maxWidth:s})}else this._reset(),i(l[0],{penColor:e,dotSize:o,minWidth:a,maxWidth:s})}}_toSVG(){const e=this._data,t=Math.max(window.devicePixelRatio||1,1),r=this.canvas.width/t,i=this.canvas.height/t,n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width",this.canvas.width.toString()),n.setAttribute("height",this.canvas.height.toString()),this._fromData(e,((e,{penColor:t})=>{const r=document.createElement("path");if(!(isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y))){const i=`M ${e.startPoint.x.toFixed(3)},${e.startPoint.y.toFixed(3)} C ${e.control1.x.toFixed(3)},${e.control1.y.toFixed(3)} ${e.control2.x.toFixed(3)},${e.control2.y.toFixed(3)} ${e.endPoint.x.toFixed(3)},${e.endPoint.y.toFixed(3)}`;r.setAttribute("d",i),r.setAttribute("stroke-width",(2.25*e.endWidth).toFixed(3)),r.setAttribute("stroke",t),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),n.appendChild(r)}}),((e,{penColor:t,dotSize:r,minWidth:i,maxWidth:o})=>{const a=document.createElement("circle"),s=r>0?r:(i+o)/2;a.setAttribute("r",s.toString()),a.setAttribute("cx",e.x.toString()),a.setAttribute("cy",e.y.toString()),a.setAttribute("fill",t),n.appendChild(a)}));const o=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${this.canvas.width} ${this.canvas.height}" width="${r}" height="${i}">`;let a=n.innerHTML;if(void 0===a){const e=document.createElement("dummy"),t=n.childNodes;e.innerHTML="";for(let r=0;r<t.length;r+=1)e.appendChild(t[r].cloneNode(!0));a=e.innerHTML}return"data:image/svg+xml;base64,"+btoa(o+a+"</svg>")}constructor(e,t={}){super(),this.canvas=e,this.options=t,this._handleMouseDown=e=>{1===e.buttons&&(this._drawningStroke=!0,this._strokeBegin(e))},this._handleMouseMove=e=>{this._drawningStroke&&this._strokeMoveUpdate(e)},this._handleMouseUp=e=>{1===e.buttons&&this._drawningStroke&&(this._drawningStroke=!1,this._strokeEnd(e))},this._handleTouchStart=e=>{if(e.preventDefault(),1===e.targetTouches.length){const t=e.changedTouches[0];this._strokeBegin(t)}},this._handleTouchMove=e=>{e.preventDefault();const t=e.targetTouches[0];this._strokeMoveUpdate(t)},this._handleTouchEnd=e=>{if(e.target===this.canvas){e.preventDefault();const t=e.changedTouches[0];this._strokeEnd(t)}},this._handlePointerStart=e=>{this._drawningStroke=!0,e.preventDefault(),this._strokeBegin(e)},this._handlePointerMove=e=>{this._drawningStroke&&(e.preventDefault(),this._strokeMoveUpdate(e))},this._handlePointerEnd=e=>{this._drawningStroke=!1;e.target===this.canvas&&(e.preventDefault(),this._strokeEnd(e))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.dotSize=t.dotSize||0,this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this._strokeMoveUpdate=this.throttle?function(e,t=250){let r,i,n,o=0,a=null;const s=()=>{o=Date.now(),a=null,r=e.apply(i,n),a||(i=null,n=[])};return function(...l){const u=Date.now(),c=t-(u-o);return i=this,n=l,c<=0||c>t?(a&&(clearTimeout(a),a=null),o=u,r=e.apply(i,n),a||(i=null,n=[])):a||(a=window.setTimeout(s,c)),r}}(n.prototype._strokeUpdate,this.throttle):n.prototype._strokeUpdate,this._ctx=e.getContext("2d"),this.clear(),this.on()}}})),parcelRequire.register("6irKh",(function(e,t){$parcel$export(e.exports,"SignatureWindow",(function(){return o})),$parcel$export(e.exports,"SignatureForm",(function(){return a}));var r=parcelRequire("gDMFZ"),i=parcelRequire("8ibmv");const n=webix.ui({view:"window",id:"isf:comments_window",position:"center",close:!0,modal:!0,move:!0,head:{view:"toolbar",css:"webix_dark",cols:[{view:"label",label:"&nbsp;"+__("Comments or Observations on Parcel")+":"}]},width:600,height:400,body:{type:"clean",rows:[{view:"form",type:"clean",padding:5,id:"isf:comments_form",elements:[{view:"textarea",id:"isf:general_remarks",name:"isf:general_remarks",placeholder:__("Enter any additional comments or observations...")}]},{cols:[{},{view:"button",label:__("Close"),height:30,width:100,click:()=>{$$("isf:comments_window").hide()}},{}]},{height:8}]},on:{onHide:function(){$$("isf:comments_form").isDirty()&&(""==$$("isf:general_remarks").getValue()?(webix.html.removeCss($$("isf:comments_btn").getNode(),"with_remarks"),webix.html.addCss($$("isf:comments_btn").getNode(),"remarks")):(webix.html.removeCss($$("isf:comments_btn").getNode(),"remarks"),webix.html.addCss($$("isf:comments_btn").getNode(),"with_remarks")))}}}),o=(webix.ui({view:"window",id:"fingerprint_window",position:"center",head:{view:"toolbar",css:"webix_dark",cols:[{view:"label",label:"&nbsp;"+__("Fingerprint Pad for")+" &rarr; "}]},width:425,height:500,modal:!0,body:{type:"space",css:{"background-color":"#fff"},cols:[{type:"line",rows:[{template:'<div id="fingerprint_div"></div>'},{height:40,type:"wide",css:{"background-color":"#fff"},padding:4,cols:[{view:"button",id:"fpw:clear_btn",label:__("Clear Fingerprint"),autowidth:!0,click:r.ApprovalCtrl.onFingerprintWindowButtonClick},{},{view:"button",id:"fpw:save_btn",label:__("Use Fingerprint"),autowidth:!0,disabled:!0,click:r.ApprovalCtrl.onFingerprintWindowButtonClick},{view:"button",id:"fpw:cancel_btn",label:__("Cancel"),width:100,click:r.ApprovalCtrl.onFingerprintWindowButtonClick}]}]}]}}),webix.ui({view:"window",id:"signature_window",position:"center",width:900,height:500,modal:!0,move:!0,head:{view:"toolbar",css:"webix_dark",cols:[{view:"label",label:"&nbsp;"+__("Signature Pad for")+" &rarr; "}]},body:{type:"space",css:{"background-color":"#fff"},cols:[{type:"line",rows:[{height:40,type:"wide",css:{"background-color":"#fff"},padding:4,cols:[{view:"button",id:"sgw:clear_btn",label:__("Clear Signature"),autowidth:!0,css:"button_border",click:r.ApprovalCtrl.onSignatureWindowButtonClick},{},{view:"button",id:"sgw:save_btn",label:__("Use Signature"),autowidth:!0,css:"button_border",click:r.ApprovalCtrl.onSignatureWindowButtonClick},{view:"button",id:"sgw:cancel_btn",label:__("Cancel"),width:100,css:"button_border",click:r.ApprovalCtrl.onSignatureWindowButtonClick}]},{template:'<div id="reference_canvas"></div><canvas id="signature_canvas" width=900 height=390></canvas>'}]}]}})),a={id:"apv:signatures_cnt",borderless:!0,record:null,rows:[{type:"header",css:"webix_dark",id:"isf:signature-form-header",template:__("Boundary Signature Form of")+" &rarr; "},{type:"space",css:{"background-color":"#fff"},cols:[{view:"fieldset",id:"isf::signature-form",label:__("Boundary Relations Approval")+":",body:{id:"isf:concepts_layout",rows:[{height:25,cols:[{view:"label",label:__("Identifiers"),align:"center",width:130,css:{"font-weight":"bold"}},{view:"label",label:"",width:10},{view:"label",label:__("Neighbour"),width:260,css:{"font-weight":"bold"}},{view:"label",label:"",width:130},{view:"label",label:__("Date"),align:"center",width:100,css:{"font-weight":"bold"}}]},{view:"form",id:"isf:concepts_form",scroll:!0,borderless:"true",elements:[]}]}},{type:"space",css:{"background-color":"#fff"},borderless:!0,rows:[{view:"carousel",id:"isf:carousel",css:"webix_dark",height:180,navigation:{buttons:!1,type:"side"},cols:[{template:`<div class="validation-image"><img id="signature_image" src="${i.noSignatureImg}" /></div>`},{template:`<div class="validation-image"><img id="fingerprint_image" src="${i.noFingerprintImg}" /></div>`}]},{height:40,cols:[{view:"button",type:"icon",width:40,css:"blue_button",icon:"mdi mdi-draw",tooltip:__("Edit Signature"),click:r.ApprovalCtrl.showSignWindow},{view:"button",type:"icon",width:40,css:"blue_button",icon:"mdi mdi-fingerprint",tooltip:__("Edit Fingerprint"),click:r.ApprovalCtrl.showFingerprintWindow},{},{view:"text",id:"isf:comments_btn",inputAlign:"center",readonly:!0,autowidth:!0,value:__("Comments"),tooltip:__("Click to add extra comments or observations"),click:()=>n.show()},{},{view:"button",id:"isf:save_btn",disabled:!0,width:70,css:"button_border",label:__("Save"),click:r.ApprovalCtrl.onSignFormSave},{view:"button",width:75,css:"button_border",label:__("Cancel"),click:r.ApprovalCtrl.onSignFormCancel}]}]}]}]}})),parcelRequire.register("gDMFZ",(function(module,exports){$parcel$export(module.exports,"ApprovalCtrl",(function(){return ApprovalCtrl}));var $2jgRH=parcelRequire("2jgRH"),$2yt6N=parcelRequire("2yt6N"),$dVyh1=parcelRequire("dVyh1"),$8ibmv=parcelRequire("8ibmv"),$bUKqd=parcelRequire("bUKqd"),$f2OU0=parcelRequire("f2OU0"),$dCXQG=parcelRequire("dCXQG"),$geRS1=parcelRequire("geRS1"),mouseEventStatus=!1,ApprovalCtrl={mapCtrl:$bUKqd.MapCtrl,refreshView:!1,sridChanged:!1,switchBasemap:!0,currentParty:null,partyDataFromDB:!0,checkPartyChecked:!1,approvalParties:new Array,idList:new Array,spatialunitData:null,rightData:null,newAttachments:{facephoto:!1,iddoc:!1,fingerprint:!1},signaturePad:null,signatureWindow:null,signaturePartyId:null,fingerprintSample:null,currSignatureData:null,fingerprintObject:null,showPartyData:function(){let e,t=this.currentParty;$$("pf-first_name").focus(),$$("apv:party_form").setValues({"pf-first_name":t.first_name,"pf-last_name":t.last_name,"pf-date_of_birth":t.date_of_birth?new Date(t.date_of_birth):"","pf-id_number":t.id_number?t.id_number:"","pf-gender":t.gender,"pf-phone_number":t.phone_number?t.phone_number:"","pf-date_checked":t.checked_on?1:0}),this.currentParty.alreadyChecked=!!t.checked_on,$$("apv:party_form").clearValidation(),t.checked_on?(e="<b>"+t.checked_on+"</b>",$$("pf:identity_checked").enable()):(e='<span class="pending">&nbsp; <i>'+__("Pending")+"...</i></span>",$$("pf:identity_checked").disable()),$$("pf-date_checked").define("labelRight",__("Data checked on: ")+e),$$("pf-date_checked").refresh();var r=new Array;if(t.face_photo){for(let e of t.face_photo)r.push({data:{type:"",src:"api/attachment/?"+appdata.querystring+"&att_class=party&global_id="+e,alt:e,class:"party",new:!1},template:$8ibmv.attachmentTemplate,css:"party_attachment_cnt"});webix.ui(r,$$("pf:facephoto_carousel")),ApprovalCtrl.updateCarouselTabBar("pf:facephoto",r.length)}if(r=new Array,t.id_doc){for(let e of t.id_doc)r.push({data:{type:"",src:"api/attachment/?"+appdata.querystring+"&att_class=party&global_id="+e,alt:e,class:"party",new:!1},tooltip:__("Double click to see original size"),template:$8ibmv.attachmentTemplate,css:"party_attachment_cnt"});webix.ui(r,$$("pf:iddoc_carousel")),ApprovalCtrl.updateCarouselTabBar("pf:iddoc",r.length)}$$("pf:edit_btn").enable()},updateCarouselTabBar:(e,t)=>{let r,i,n,o,a;a=10102,o="pf:facephoto"==e?"mdi mdi-account-box-multiple":"mdi mdi-card-account-details-outline",i=$$("pf:attachment_tab"),r="&#"+(10102+t-1).toString(),n=i.getOption(e),n.value='<span class="'+o+'">&nbsp;&nbsp;</span><span class="badge">'+r+"</span>",i.refresh()},onEditButtonToggle:function(e,t){if(t.config.formIsValid){var r=!e,i=$$("apv:party_form").elements,n=Object.keys(i);if(this.currentParty.alreadyChecked?($$("pf-phone_number").define({readonly:r}),$$("pf-phone_number").refresh(),e?webix.html.addCss($$("pf-phone_number").getNode(),"editable_input"):webix.html.removeCss($$("pf-phone_number").getNode(),"editable_input")):(t.config.formIsValid=!1,n.forEach((function(t){i[t].define({readonly:r}),i[t].refresh(),e?webix.html.addCss(i[t].getNode(),"editable_input"):webix.html.removeCss(i[t].getNode(),"editable_input")})),r?$$("pf-date_checked").disable():$$("pf-date_checked").enable()),e)$$("apv:search_cnt").disable(),$$("pf:cancel_btn").enable(),$$("pf:identity_checked").disable(),1==$$("pf-date_checked").getValue()&&($$("pf:facephoto_btn").enable(),$$("pf:iddoc_btn").enable());else{t.config.formIsValid=$$("apv:party_form").validate();var o=0!=$$("apv:party_form").getValues()["pf-date_checked"];o||Object.keys($$("apv:party_form").getDirtyValues()).length>0?(this.updateParty(o),$$("apv:search_cnt").enable(),$$("pf:cancel_btn").disable(),$$("pf:facephoto_btn").disable(),$$("pf:iddoc_btn").disable()):this.newAttachments.facephoto||this.newAttachments.iddoc?(webix.message({type:"error",expire:2e3,text:__("Cannot save attachments on unchecked party data!!!")}),n.forEach((function(e){i[e].define({readonly:!1}),i[e].refresh(),webix.html.addCss(i[e].getNode(),"editable_input")})),$$("pf-date_checked").enable(),t.toggle()):(webix.message({expire:2e3,text:__("There are no changes to save!!!")}),$$("apv:search_cnt").enable(),$$("pf:cancel_btn").disable(),$$("pf:facephoto_btn").disable(),$$("pf:iddoc_btn").disable(),o&&$$("pf:identity_checked").enable())}}else t.toggle(),webix.message({type:"error",expire:2e3,text:__("You need to provide correct values!!!")})},onCancelButtonClick:()=>{var form=$$("apv:party_form"),partyData=form.getCleanValues();form.setValues({"pf-first_name":partyData["pf-first_name"],"pf-last_name":partyData["pf-last_name"],"pf-date_of_birth":partyData["pf-date_of_birth"],"pf-id_number":partyData["pf-id_number"],"pf-gender":partyData["pf-gender"],"pf-phone_number":partyData["pf-phone_number"],"pf-date_checked":partyData["pf-date_checked"]}),form.clearValidation();var elements=$$("apv:party_form").elements,fields=Object.keys(elements),carouselViews,removeCode,count;function setCleanCarouselValues(att_type,icon){if(count=0,carouselViews=$$("pf:"+att_type+"_carousel").getChildViews()[0].getChildViews(),carouselViews.length>1){removeCode="";for(let e of carouselViews)e.config.data.new?removeCode+="$$('pf:"+att_type+"_carousel').removeView('"+e.config.id+"');":count++;eval(removeCode)}else{let e=[{data:{src:$8ibmv.blankImg,alt:""},template:$8ibmv.attachmentTemplate}];webix.ui(e,$$("pf:"+att_type+"_carousel"))}0==count?($$("pf:attachment_tab").getOption("pf:"+att_type).value='<span class="'+icon+'"></span>',$$("pf:attachment_tab").refresh()):ApprovalCtrl.updateCarouselTabBar("pf:"+att_type,count)}fields.forEach((function(e){elements[e].define({readonly:!0}),elements[e].refresh(),webix.html.removeCss(elements[e].getNode(),"editable_input")})),$$("pf-date_checked").disable(),$$("pf:cancel_btn").disable(),$$("pf:facephoto_btn").disable(),$$("pf:iddoc_btn").disable(),$$("apv:search_cnt").enable(),$$("pf:edit_btn").toggle(),$$("pf:edit_btn").config.formIsValid=!0,ApprovalCtrl.partyDataFromDB=!0,ApprovalCtrl.newAttachments.facephoto&&setCleanCarouselValues("facephoto","mdi mdi-account-box-multiple"),ApprovalCtrl.newAttachments.iddoc&&setCleanCarouselValues("iddoc","mdi mdi-card-account-details-outline"),ApprovalCtrl.newAttachments={facephoto:!1,iddoc:!1,fingerprint:!1},ApprovalCtrl.currentParty.alreadyChecked&&$$("pf:identity_checked").enable(),$$("partyform_cnt").config.getController().appEvent=!0,ApprovalCtrl.checkPartyChecked=!1},updateParty:function(e){var t;if(e){(t=$$("apv:party_form").getValues()).face_photos=new Array,t.id_docs=new Array;for(let e of $$("pf:facephoto_carousel").getChildViews()[0].getChildViews())e.config.data.src!=$8ibmv.blankImg&&t.face_photos.push({globalid:e.config.data.alt,new:e.config.data.new});for(let e of $$("pf:iddoc_carousel").getChildViews()[0].getChildViews())e.config.data.src!=$8ibmv.blankImg&&t.id_docs.push({globalid:e.config.data.alt,new:e.config.data.new});t.face_photo=$$($$("pf:facephoto_carousel").getActiveId()).data.alt,t.id_doc=$$($$("pf:iddoc_carousel").getActiveId()).data.alt,t.newPhoneNumber=!(!$$("apv:party_form").isDirty()||!this.currentParty.alreadyChecked)}else(t=$$("apv:party_form").getDirtyValues()).newPhoneNumber=!1;t["pf-id_number"]=$$("apv:party_form").getValues()["pf-id_number"],t.known_id=t["pf-id_number"]==this.currentParty.id_number,t.partyChecked=e,t.alreadyChecked=this.currentParty.alreadyChecked,t.oid_list=this.currentParty.oid_list,t.la_partyid=t.alreadyChecked?this.currentParty.globalid:null;var r=$$("apv:party_form").elements;Object.keys(r).forEach((function(e){r[e].define({readonly:!0}),r[e].refresh(),webix.html.removeCss(r[e].getNode(),"editable_input")})),$$("pf-date_checked").disable(),!t.alreadyChecked||this.newAttachments.facephoto||this.newAttachments.iddoc||t.newPhoneNumber?webix.ajax().post("api/party/update/",{...appdata.dbparams,...t}).then((t=>{t.json().success?(e&&$$("pf:identity_checked").enable(),webix.alert({title:"Success",text:__("The changes have been saved..."),ok:"Continue"}).then((()=>{let e=$$("pf:party_search").getList().getSelectedItem();e&&!e.id_number&&(e.id_number=$$("apv:party_form").getValues()["pf-id_number"],$$("pf:party_search").setValue(e.id)),$$("partyform_cnt").config.getController().onPartySelected($$("apv:party_form").getValues()["pf-id_number"],null),ApprovalCtrl.newAttachments={facephoto:!1,iddoc:!1,fingerprint:!1},$$("pf:search_list").getBody().clearAll(),$$("apv:party_form").clearValidation()}))):($8ibmv.showErrorMsg(null,t.json().message),$$("partyform_cnt").config.getController().onSuggestHide())}),(e=>{$8ibmv.showErrorMsg(e,"")})):webix.alert({title:"Message",text:__("There are no changes to save!!!"),ok:"Continue"}).then((()=>{$$("pf:identity_checked").enable()}))},requestPartyAttachment:e=>{$$("pf:attachment_cnt").setValue("pf:"+e),$$("pf:attachment_tab").setValue("pf:"+e);var t=__("One "+("iddoc"==e?"ID Card":"Face")+" Photo is needed to continue...");t=(t=(t=(t=t.replace("ID card Photo",'<span style="color:lightseagreen;">ID card Photo</span>')).replace("Face Photo",'<span style="color:red;">Face Photo</span>')).replace("Foto de la Cédula",'<span style="color:lightseagreen;">Foto de la Cédula</span>')).replace("Foto del Rostro",'<span style="color:red;">Foto del Rostro</span>');let r="iddoc"==e?"mdi-card-account-details-outline":"mdi-account";webix.ui({view:"popup",id:"pf:partyphoto_menu",width:50+("en"==appdata.lang)?350:420,modal:!0,position:" center",css:{background:"#e5f3ff"},body:{type:"line",cols:[{view:"icon",icon:"mdi "+r,width:50,css:"missing_attachment"},{rows:[{view:"label",label:"<b>"+t+"</b>",align:"center",height:40},{view:"list",data:[{id:"upload_"+e,value:'<i class="mdi mdi-upload" aria-hidden="true"></i>&emsp;'+__("Upload Photo")},{id:"take_"+e,value:'<i class="mdi mdi-camera" aria-hidden="true"></i>&emsp;'+__("Take Photo")},{id:"__cancel__",value:'<i class="mdi mdi-cancel" aria-hidden="true"></i>&emsp;'+__("Cancel")}],template:"#value#",autoheight:!0,select:!0,on:{onAfterSelect:e=>{$$("pf:partyphoto_menu").close(),"__cancel__"!=e?e.includes("upload_")?ApprovalCtrl.uploadAttachment(e):ApprovalCtrl.captureAttachment(e):($$("pf-date_checked").setValue(0),$$("partyform_cnt").config.getController().appEvent=!0)}}}]}]}}).show()},uploadAttachment:e=>{"att_fingerprint"!=(e=e.replace("upload","att"))&&$dVyh1.FileUploader.fileDialog({att_type:e,callback:ApprovalCtrl.addPartyAttachment})},addPartyAttachment:function(e,t){var r;"att_facephoto"==t?(r=$$("pf:facephoto_carousel"),"new_facephoto"):"att_iddoc"==t&&(r=$$("pf:iddoc_carousel"),"new_iddoc"),r.addView({data:{type:"",src:"images/uploads/"+e+".jpg",alt:e,class:"party",new:!0},tooltip:__("Double click to see original size"),template:$8ibmv.attachmentTemplate,css:"party_attachment_cnt"});var i=r.getChildViews()[0].getChildViews()[0].config;i.data.src==$8ibmv.blankImg&&r.removeView(i.id),r.setActiveIndex(r.getChildViews()[0].$view.children.length-1),ApprovalCtrl.updateCarouselTabBar(t.replace("att_","pf:"),r.getChildViews()[0].$view.children.length),ApprovalCtrl.newAttachments[t.replace("att_","")]=!0,ApprovalCtrl.checkPartyChecked&&($$("partyform_cnt").config.getController().appEvent=!0,1==$$("pf:facephoto_carousel").getChildViews()[0].getChildViews().length&&1==$$("pf:iddoc_carousel").getChildViews()[0].getChildViews().length?$$("pf-date_checked").setValue(1):$$("pf-date_checked").setValue(0),ApprovalCtrl.checkPartyChecked=!1)},captureAttachment:e=>{var t;switch(e=e.replace("take","att")){case"att_facephoto":t=__("Face Photo");break;case"att_iddoc":t=__("ID Photo")}var r=ApprovalCtrl.currentParty;$dVyh1.ImageCapture.config.params={att_type:e,title:t+__(" of ")+"&rarr; "+r.first_name+" "+r.last_name,callback:ApprovalCtrl.onCameraWindowButtonClick},$dVyh1.ImageCapture.show()},onCameraWindowButtonClick:function(e){var t=document.getElementById("icw-video"),r=document.getElementById("icw-photo"),i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n=document.getElementById("icw:canvas");if("icw:takephoto_btn"==e){var o=t.srcObject.getVideoTracks()[0].getSettings();n.setAttribute("width",o.width),n.setAttribute("height",o.height),n.getContext("2d").drawImage(t,0,0,o.width,o.height);var a=n.toDataURL("image/jpg");r.setAttribute("src",a),$$("icw:reset_btn").enable(),$$("icw:save_btn").enable(),$$("icw:takephoto_btn").disable()}else if("icw:reset_btn"==e)r.setAttribute("src",i),$$("icw:reset_btn").disable(),$$("icw:save_btn").disable(),$$("icw:takephoto_btn").enable();else if("icw:cancel_btn"==e)r.setAttribute("src",i),t.srcObject=null,$dVyh1.ImageCapture.config.params={att_type:null,title:null,callback:null},$dVyh1.ImageCapture.hide(),ApprovalCtrl.checkPartyChecked&&(1==$$("pf:facephoto_carousel").getChildViews()[0].getChildViews().length&&1==$$("pf:iddoc_carousel").getChildViews()[0].getChildViews().length?$$("pf-date_checked").setValue(1):$$("pf-date_checked").setValue(0),ApprovalCtrl.checkPartyChecked=!1);else if("icw:save_btn"==e){var s=$dVyh1.ImageCapture.config.params.att_type,l={globalid:$8ibmv.uuidv4(),mode:"capture",attachment_data:n.toDataURL("image/jpg")};webix.ajax().post("api/attachment/capture/",{...appdata.dbparams,...l}).then((function(e){ApprovalCtrl.addPartyAttachment(e.json().globalid,s)})),r.setAttribute("src",i),t.srcObject=null,$dVyh1.ImageCapture.config.params={att_type:null,title:null,callback:null},$dVyh1.ImageCapture.hide()}},onApprovalButtonClick:function(){this.currentParty.validated&&this.approvalParties.push(ApprovalCtrl.currentParty),$$("approval-cnt").setValue("apv:approval"),this.mapCtrl.navMap&&1==this.approvalParties.length&&this.mapCtrl.retrieveSpatialUnits(this.approvalParties[0]),$$("apv:party_grid").clearSelection()},onSpatialunitSelected:function(){$$("apv:partylist_grid").add({id_number:this.currentParty.id_number,full_name:this.currentParty.first_name+" "+this.currentParty.last_name}),$$("apv:approval_forms").show(),$$("apv:map_toolbar").hide();let e=ApprovalCtrl.mapCtrl;e.spatialunitsLayer.setVisible(!1),e.approvalLayer.getSource().addFeature(e.selectionInteraction.getFeatures().getArray()[0].clone()),e.selectionInteraction.setActive(!1),e.rmsInteraction.setActive(!0);var t={su_id:$bUKqd.MapCtrl.selectionInteraction.getFeatures().getArray()[0].get("id"),srid:appdata.srid};e.anchorpointsLayer.setSource(new $f2OU0.default({format:new $dCXQG.default,url:appdata.wfsUrl+"&typename=ffp:anchorpoints&SU_ID="+t.su_id})),e.vertexpointsLayer.setSource(new $f2OU0.default({format:new $dCXQG.default,url:appdata.wfsUrl+"&typename=ffp:vertexpoints&SU_ID="+t.su_id})),e.surveypointsLayer.setSource(new $f2OU0.default({format:new $dCXQG.default,url:appdata.wfsUrl+"&typename=ffp:surveypoints&"+new URLSearchParams(t).toString()})),e.conceptsLayer.setSource(new $f2OU0.default({format:new $dCXQG.default,url:appdata.wfsUrl+"&typename=ffp:boundaries&SU_ID="+t.su_id})),$$("apv:layer_switcher").enable(),webix.ajax().get("api/spatialunit/data/",{...appdata.dbparams,...t}).then((function(t){if(t.json().success){ApprovalCtrl.spatialunitData=t.json();var r=ApprovalCtrl.spatialunitData.details,i=Number(r.area_m2)<9e3?r.area_m2+"&nbsp;m<sup>2</sup>":(Number(r.area_m2)/1e4).toFixed(1)+"&nbsp;has";if($$("ipg:su_details").setValues({"ipg:details_suid":r.id,"ipg:details_label":null!=r.su_label?r.su_label:"","ipg:details_area":i,"ipg:details_physicalid":null!=r.physical_id?r.physical_id.join(", "):__("---"),"ipg:details_type":null!=r.su_type?$2jgRH.Codelist("spatialunittype",r.su_type):__("---")}),$$("apv:party_grid").parse(ApprovalCtrl.spatialunitData.parties),ApprovalCtrl.spatialunitData.neighbours.length>0){$$("apv:neighbours_grid").parse(ApprovalCtrl.spatialunitData.neighbours);var n=appdata.wfsUrl+"&typename=ffp:neighbours&SUIDS="+ApprovalCtrl.spatialunitData.neighbours.map((e=>e.neigh_suid));webix.ajax().get(n).then((function(t){var r=(new $dCXQG.default).readFeatures(t.json());e.neighboursLayer.getSource().addFeatures(r);var i=e.neighboursLayer.getSource().getExtent();e.navMap.getView().setCenter($geRS1.getCenter(i)),e.navMap.getView().fit(i,e.navMap.getSize()),e.navMap.getView().setZoom(e.navMap.getView().getZoom()-.2)}))}else{var o=e.approvalLayer.getSource().getExtent();e.navMap.getView().setCenter($geRS1.getCenter(o)),e.navMap.getView().fit(o,e.navMap.getSize()),e.navMap.getView().setZoom(e.navMap.getView().getZoom()-.2)}}else $8ibmv.showErrorMsg(null,t.json().message)}),(e=>{$8ibmv.showErrorMsg(e,"")}))},resetInspectionForms:()=>{ApprovalCtrl.fingerprintSample=null,ApprovalCtrl.signaturePad.clear(),ApprovalCtrl.currSignatureData=null,ApprovalCtrl.signaturePartyId=null,ApprovalCtrl.idList=new Array,ApprovalCtrl.approvalParties=new Array,ApprovalCtrl.spatialunitData=null,ApprovalCtrl.rightData=null,$$("partyform_cnt").config.getController().resetPartyForm(!1),$bUKqd.MapCtrl.spatialunitsLayer&&($bUKqd.MapCtrl.spatialunitsLayer.getSource().clear(),$bUKqd.MapCtrl.spatialunitsLayer.setVisible(!0),$bUKqd.MapCtrl.approvalLayer.getSource().clear(),$bUKqd.MapCtrl.neighboursLayer.getSource().clear(),$bUKqd.MapCtrl.surveypointsLayer.setSource(new $f2OU0.default),$bUKqd.MapCtrl.surveypointsLayer.setVisible(!1),$bUKqd.MapCtrl.vertexpointsLayer.setSource(new $f2OU0.default),$bUKqd.MapCtrl.vertexpointsLayer.setVisible(!1),$bUKqd.MapCtrl.anchorpointsLayer.setSource(new $f2OU0.default),$bUKqd.MapCtrl.anchorpointsLayer.setVisible(!0),$bUKqd.MapCtrl.conceptsLayer.setSource(new $f2OU0.default),$bUKqd.MapCtrl.conceptsLayer.setVisible(!0),$bUKqd.MapCtrl.selectionInteraction.getFeatures().clear(),$bUKqd.MapCtrl.selectionInteraction.setActive(!0),$bUKqd.MapCtrl.rmsInteraction.getFeatures().clear(),$bUKqd.MapCtrl.rmsInteraction.setActive(!1),$bUKqd.MapCtrl.selectionCount=0,$$("apv:layer_switcher").disable(),$$("apv:anchorpoints_checkbox").setValue(1),$$("apv:vertexpoints_checkbox").setValue(0),$$("apv:surveypoints_checkbox").setValue(0),$$("apv:boundary_concepts_checkbox").setValue(1),$$("apv:layer_switcher").hide()),$$("apv:approval_forms").hide(),$$("apv:map_toolbar").show(),$$("apv:search_cnt").enable(),$$("apv:search_cnt").show(),$$("apv:partylist_grid").clearAll(),$$("apv:party_grid").clearAll(),$$("apv:partylist_cnt").hide(),$$("apv:neighbours_grid").clearAll(),$$("pf:approval_btn").disable(),$$("pf:identity_checked").setValue(!1),$$("pf:identity_checked").disable(),$$("approval-cnt").setValue("apv:identification"),$$("app:srid_form").enable(),$$("editor-cnt")&&$$("editor-cnt").enable()},onIdCheckButtonClick:e=>{$$("approval-cnt").setValue("apv:identification"),$$("pf:party_search").setValue(" "),$$("pf:identity_checked").setValue(0),$$("pf:approval_btn").disable(),$$("apv:search_cnt").hide(),$$("apv:partylist_cnt").show(),$$("apv:partylist_cnt_label").setHTML(`<br/><b> ${__("Parties already identified for spatialunit number")}: </b>\n            ${ApprovalCtrl.spatialunitData.details.id} [\n            ${ApprovalCtrl.spatialunitData.details.su_label} ]`),$$("partyform_cnt").config.getController().onPartySelected(e.id_number)},onShowSignForm:function(e){$$("nav:sidebar").disable(),$$("apv:signatures_cnt").config.record=e,$$("apv:approval_forms").setValue("apv:signatures_cnt"),$$("isf:signature-form-header").define({template:__("Boundary Signature Form of")+" &rarr; "+e.full_name}),$$("isf:signature-form-header").refresh();var t=new Object;if(t={view:"form",id:"isf:concepts_form",scroll:!0,borderless:"true",elements:[]},this.signaturePartyId=e.objectid,this.spatialunitData.concepts.forEach((function(r){r.objectid==e.objectid&&t.elements.push({cols:[{view:"label",label:r.neigh_suid,align:"center",width:40},{view:"label",label:"&ndash;",align:"center",width:10},{view:"label",id:"lbl-"+r.limit_id,label:r.limit_id,tooltip:function(e){var t,r=e.id.replace("lbl-","");return ApprovalCtrl.spatialunitData.boundaries.features.forEach((function(e){e.id==r&&(t=e.properties.length)})),__("Length: ")+t+" m. aprox. ( <em>"+appdata.sridTooltip+"</em> )"},align:"center",width:60,on:{onAfterRender:function(){webix.event(this.$view,"mousemove",(function(e){if(!mouseEventStatus){var t=$$(e).config.id.replace("lbl-","");$bUKqd.MapCtrl.setConceptStyle(t,$2yt6N.mapStyle.conceptsHover),mouseEventStatus=!0}})),webix.event(this.$view,"mouseout",(function(e){mouseEventStatus=!1;var t=$$(e).config.id.replace("lbl-","");$bUKqd.MapCtrl.setConceptStyle(t,null)}))}}},{view:"label",label:"&ndash;",width:20},{view:"label",label:r.neigh_name,width:260},{view:"radio",id:"status-"+r.limit_id,name:"status-"+r.limit_id,width:130,value:null!=r.status?r.status.toString():null,options:[{id:"true",value:__("Yes")},{id:"false",value:__("No")}],on:{onAfterRender:function(){webix.event(this.$view,"mousemove",(function(e){if(!mouseEventStatus){var t=$$(e).config.id.replace("status-","");$bUKqd.MapCtrl.setConceptStyle(t,$2yt6N.mapStyle.conceptsHover),mouseEventStatus=!0}})),webix.event(this.$view,"mouseout",(function(e){mouseEventStatus=!1;var t=$$(e).config.id.replace("status-","");$bUKqd.MapCtrl.setConceptStyle(t,null)}))},onChange:function(){var e=this.config.id.replace("status-","");$$("sign_date-"+e).setValue($8ibmv.dateFormat_dMY(new Date)),$$("apv:signatures_cnt").modified||(webix.html.addCss($$("isf:signature-form-header").getNode(),"modified-value-"+appdata.lang),$$("apv:signatures_cnt").modified=!0,document.getElementById("signature_image").src=$8ibmv.noSignatureImg,ApprovalCtrl.signaturePad.clear(),document.getElementById("fingerprint_image").src=$8ibmv.noFingerprintImg,$$("isf:save_btn").enable())}}},{view:"text",id:"sign_date-"+r.limit_id,name:"sign_date-"+r.limit_id,css:"sign_date",width:110,inputWidth:100,value:null==r.sign_date?"":$8ibmv.dateFormat_dMY(new Date(r.sign_date)),readonly:!0},{view:"text",id:"remarks-"+r.limit_id,name:"remarks-"+r.limit_id,hidden:!0,value:r.remarks},{view:"text",id:"remarksBtn-"+r.limit_id,width:95,inputAlign:"center",readonly:!0,css:r.remarks?"with_remarks":"remarks",value:__("Remarks")+" ▶",tooltip:__("Click to add specific remarks for boundary Nr.")+": "+r.limit_id,limitId:r.limit_id,click:function(){ApprovalCtrl.showRemarksArea(this)}}]})})),webix.ui(t,$$("isf:concepts_layout"),$$("isf:concepts_form")),e.signature){let t;t="points"in JSON.parse(e.signature)[0]?JSON.parse(e.signature):$8ibmv.updateSignatureDataStructure(JSON.parse(e.signature)),this.signaturePad.fromData(t),document.getElementById("signature_image").src=this.signaturePad.toDataURL()}else document.getElementById("signature_image").src=$8ibmv.noSignatureImg;e.fingerprint?document.getElementById("fingerprint_image").src="data:image/png;base64,"+e.fingerprint:document.getElementById("fingerprint_image").src=$8ibmv.noFingerprintImg,e.details?(webix.html.addCss($$("isf:comments_btn").getNode(),"with_remarks"),$$("isf:general_remarks").setValue(e.details)):(webix.html.addCss($$("isf:comments_btn").getNode(),"remarks"),$$("isf:general_remarks").setValue()),$$("isf:comments_window").getHead().getChildViews()[0].setHTML("&nbsp;"+__("Comments or Observations on Parcel")+":&nbsp;"+ApprovalCtrl.spatialunitData.details.id)},showRemarksArea:function(e){webix.ui({view:"window",id:"apv:remarks_window",modal:!0,animate:{direction:"bottom"},height:150,width:300,head:{cols:[{view:"label",css:{"font-weight":"bold"},label:"&nbsp;"+__("Remarks for Boundary Nr.")+":&nbsp;"+e.config.limitId},{view:"button",width:40,label:"◀",icon:"fas fa-caret-left",click:function(){var t,r;$$("remarks-"+e.config.limitId).setValue($$("apv:remarks_area").getValue()),""==$$("apv:remarks_area").getValue()?(t="remarks",r="with_remarks"):(t="with_remarks",r="remarks"),webix.html.removeCss($$("remarksBtn-"+e.config.limitId).getNode(),r),webix.html.addCss($$("remarksBtn-"+e.config.limitId).getNode(),t),$$("apv:remarks_window").close()}}]},body:{view:"textarea",id:"apv:remarks_area",placeholder:__("Type in remarks for this boundary..."),value:$$("remarks-"+e.config.limitId).getValue(),on:{onChange:function(){$$("apv:signatures_cnt").modified||(webix.html.addCss($$("isf:signature-form-header").getNode(),"modified-value-"+appdata.lang),$$("apv:signatures_cnt").modified=!0,$$("isf:save_btn").enable())}}}}).show(e.getNode(),{pos:"top",x:2,y:-2})},showSignWindow:function(){ApprovalCtrl.currSignatureData=new Array,ApprovalCtrl.signaturePad.toData().forEach((function(e){ApprovalCtrl.currSignatureData.push(e)})),$$("signature_window").getHead().getChildViews()[0].setHTML("&nbsp;"+__("Signature Pad for")+" &rarr; "+$$("apv:signatures_cnt").config.record.full_name),ApprovalCtrl.signatureWindow.show()},onSignatureWindowButtonClick:function(e){"sgw:clear_btn"==e?ApprovalCtrl.signaturePad.clear():"sgw:save_btn"==e?ApprovalCtrl.signaturePad.isEmpty()?webix.message({expire:2e3,text:__("No signature detected!!!")}):($$("isf:carousel").setActiveIndex(0),document.getElementById("signature_image").src=ApprovalCtrl.signaturePad.toDataURL(),ApprovalCtrl.signatureWindow.hide(),$$("apv:signatures_cnt").modified||(webix.html.addCss($$("isf:signature-form-header").getNode(),"modified-value-"+appdata.lang),$$("apv:signatures_cnt").modified=!0,$$("isf:save_btn").enable())):(ApprovalCtrl.signaturePad.fromData(ApprovalCtrl.currSignatureData),ApprovalCtrl.signatureWindow.hide())},showFingerprintWindow:()=>{ApprovalCtrl.fingerprintObject.getInfo().then((function(e){if(0==e.length)webix.message({expire:2e3,text:__("There is no fingerprint reader connected!!!")});else{$$("fingerprint_window").getHead().getChildViews()[0].setHTML("&nbsp;"+__("Fingerprint Pad for")+" &rarr; "+$$("apv:signatures_cnt").config.record.full_name),$$("fingerprint_window").show();var t=document.createElement("img");t.id="fgp_image",t.src=document.getElementById("fingerprint_image").src,document.getElementById("fingerprint_div").appendChild(t),ApprovalCtrl.fingerprintObject.startScan()}}))},fgpSampleAcquired:e=>{ApprovalCtrl.fingerprintSample=JSON.parse(e.samples)[0];var t=document.getElementById("fingerprint_div");t.innerHTML="";var r=document.createElement("img");r.id="fgp_image",r.src="data:image/png;base64,"+Fingerprint.b64UrlTo64(ApprovalCtrl.fingerprintSample),t.appendChild(r),$$("fpw:save_btn").enable()},onFingerprintWindowButtonClick:e=>{"fpw:clear_btn"==e?(document.getElementById("fingerprint_div").innerHTML="",$$("fpw:save_btn").disable()):"fpw:save_btn"==e?($$("isf:carousel").setActiveIndex(1),document.getElementById("fingerprint_image").src=document.getElementById("fingerprint_div").firstChild.src,ApprovalCtrl.fingerprintObject.stopScan(),$$("fingerprint_window").hide(),document.getElementById("fingerprint_div").innerHTML="",$$("apv:signatures_cnt").modified||(webix.html.addCss($$("isf:signature-form-header").getNode(),"modified-value-"+appdata.lang),$$("apv:signatures_cnt").modified=!0,$$("isf:save_btn").enable())):(ApprovalCtrl.fingerprintObject.stopScan(),$$("fpw:save_btn").disable(),document.getElementById("fingerprint_div").innerHTML="",$$("fingerprint_window").hide())},onSignFormCancel:()=>{$$("apv:signatures_cnt").modified?webix.confirm({title:"Warning",ok:__("Yes"),cancel:__("No"),text:__("There are unsaved changes. Are you sure you want to cancel?")}).then((function(){$$("apv:signatures_cnt").modified=!1,$$("isf:save_btn").disable(),webix.html.removeCss($$("isf:signature-form-header").getNode(),"modified-value-"+appdata.lang),$$("apv:approval_forms").setValue("apv:partgrid_cnt"),$$("apv:party_grid").clearSelection(),$$("apv:signatures_cnt").config.record=null,ApprovalCtrl.signaturePartyId=null,$$("nav:sidebar").enable(),webix.html.removeCss($$("isf:comments_btn").getNode(),"remarks"),webix.html.removeCss($$("isf:comments_btn").getNode(),"with_remarks")})):($$("apv:approval_forms").setValue("apv:partgrid_cnt"),$$("apv:party_grid").clearSelection(),$$("apv:signatures_cnt").config.record=null,ApprovalCtrl.signaturePartyId=null,ApprovalCtrl.signaturePad.clear(),webix.html.removeCss($$("isf:comments_btn").getNode(),"remarks"),webix.html.removeCss($$("isf:comments_btn").getNode(),"with_remarks"),$$("nav:sidebar").enable())},onSignFormSave:()=>{var e=new Object;if(e.signature=ApprovalCtrl.signaturePad.isEmpty()?null:JSON.stringify(ApprovalCtrl.signaturePad.toData()),e.fingerprint=ApprovalCtrl.fingerprintSample?Fingerprint.b64UrlTo64(ApprovalCtrl.fingerprintSample):null,e.signature||e.fingerprint){webix.html.removeCss($$("isf:signature-form-header").getNode(),"modified-value-"+appdata.lang),e.su_id=ApprovalCtrl.spatialunitData.details.id,e.party_id=ApprovalCtrl.signaturePartyId,e.details=$$("isf:general_remarks").getValue();var t=ApprovalCtrl.spatialunitData.parties.find((function(e){return e.objectid==ApprovalCtrl.signaturePartyId}));e.right_id=t.right_id,e.concepts=$$("isf:concepts_form").getValues(),webix.ajax().post("api/concepts/update/",{...appdata.dbparams,...e}).then((function(r){if(r.json().success){webix.ajax().get("api/tools/refreshviews/",appdata.dbparams).then((function(e){if(e.json().success){$bUKqd.MapCtrl.conceptsLayer.getSource().refresh();var t=$$("overview-cnt").config.getController();t.conceptsLayer?(t.conceptsLayer.getSource().refresh(),t.spatialunitConceptsLayer.getSource().refresh(),appdata.timeline||(appdata.timeline=!0,$$("ovw:timeline_checkbox").show())):appdata.timeline||(appdata.timeline=!0,$$("ovw:timeline_checkbox").show()),$$("dashboard-cnt").config.getController().refreshView=!0,$$("overview-cnt").config.getController().refreshView=!0}else $8ibmv.showErrorMsg(null,"Failed to refresh materialized views<br />---<br />"+e.json().message)}),(e=>{$8ibmv.showErrorMsg(e,"")})),t.details=e.details,t.signature=e.signature,t.fingerprint=e.fingerprint,t.signed_on=$8ibmv.dateFormat_dMY(new Date);var i,n,o,a,s=Object.entries($$("isf:concepts_form").getDirtyValues()),l=ApprovalCtrl.spatialunitData.concepts;for(const[e,t]of s){n=null,o=null,a=null,-1!=e.indexOf("status")&&(n="true"==t.toLowerCase(),i=e.replace("status-","")),-1!=e.indexOf("sign_date")&&(o=t,i=e.replace("sign_date-","")),-1!=e.indexOf("remarks")&&(a=t,i=e.replace("remarks-",""));for(const e of l)e.limit_id==i&&(null!=n&&(e.status=n),o&&(e.sign_date=$8ibmv.dateFormat_dMY(new Date)),a&&(e.remarks=a))}$$("apv:signatures_cnt").modified=!1,$$("isf:save_btn").disable(),webix.alert({title:"Success",text:__("The changes have been saved..."),ok:"Continue"}).then((()=>{$$("apv:signatures_cnt").modified=!1,$$("isf:save_btn").disable(),$$("isf:concepts_form").setDirty(!1),webix.html.removeCss($$("isf:signature-form-header").getNode(),"modified-value-"+appdata.lang),$$("apv:approval_forms").setValue("apv:partgrid_cnt"),$$("apv:party_grid").clearSelection()}))}else $8ibmv.showErrorMsg(null,r.json().message),$$("partyform_cnt").config.getController().onSuggestHide()}),(e=>{$8ibmv.showErrorMsg(e,"")})),$$("nav:sidebar").enable()}else webix.alert({title:__("Warning"),text:__("Please provide a signature and/or a fingerprint")})}};ApprovalCtrl.fingerprintObject=new $8ibmv.FingerprintReader(ApprovalCtrl.fgpSampleAcquired)})),parcelRequire.register("2jgRH",(function(e,t){$parcel$export(e.exports,"codes",(function(){return r})),$parcel$export(e.exports,"Codelist",(function(){return i}));const r={en:{yesno:{0:"No",1:"Yes"},spatialunittype:{1:"House",2:"House Lot",3:"Business",4:"Farm",0:"Other"},gender:{1:"Male",2:"Female"},civilstatus:{1:"Single",2:"Married",3:"Living Common"},righttype:{1:"Ownership",2:"Common Ownership",3:"Tenancy",4:"Usufruct",5:"Customary",6:"Occupation",7:"Ownership Assumed",8:"Superficies",9:"Mining",0:"Unknown",99:"Conflict"},rightsource:{1:"Title",2:"Deed",3:"Verbal Agreement",4:"Purchase Agreement",5:"Adjudication",6:"Prescription",7:"Inheritance",0:"Other"},landuse:{1:"Agriculture",2:"Cattle Raising",3:"Residential",4:"Commercial",5:"Industrial",6:"Conservation",7:"Government",9:"Mixed",0:"None"},rightattachment:{1:"Title",2:"Deed",3:"Utility Receipt",4:"Purchase Agreement",5:"Tax Receipt",6:"Certificate of Honest Posseion",7:"Certificate of Tradition and Freedom",0:"Other"},partyattachment:{1:"ID Card Minor",2:"ID Card Foreigner",3:"ID Card",4:"Passport",5:"Face Photo",6:"Fingerprint",7:"Signature",0:"Other"}},es:{yesno:{0:"No",1:"Si"},spatialunittype:{1:"Casa",2:"Casa Lote",3:"Negocio",4:"Finca",0:"Otro"},gender:{1:"Masculino",2:"Femenino"},civilstatus:{1:"Soltero(a)",2:"Casado(a)",3:"Unión Libre"},righttype:{1:"Dominio o Propiedad",2:"Propiedad Comunitaria",3:"Arriendo",4:"Usufructo",5:"Consuetudinario",6:"Ocupación",7:"Posesión",8:"Superficies",9:"Minero",0:"Desconocido",99:"Conflicto"},rightsource:{1:"Titulo",2:"Escritura",3:"Acuerdo Verbal",4:"Carta de Compraventa",5:"Adjudicación",6:"Prescripción",7:"Herencia",0:"Otro"},landuse:{1:"Agricultura",2:"Ganadería",3:"Residencial",4:"Comercial",5:"Industrial",6:"Conservación",7:"Gubernamental",9:"Mixto",0:"Ninguno"},rightattachment:{1:"Titulo",2:"Escritura",3:"Recibo Servicios Públicos",4:"Carta de Compraventa",5:"Recibo de Impuestos",6:"Certificado de Sana Posesión",7:"Certiificado de Tradicion y Libertad",0:"Otro"},partyattachment:{1:"Tarjeta de Identidad",2:"Cedula de Extranjería",3:"Cedula de Ciudadanía",4:"Pasaporte",5:"Foto del Rostro",6:"Huella Digital",7:"Firma",0:"Otro"}}},i=(e,t)=>r[appdata.lang][e][t]?r[appdata.lang][e][t]:__("Unknown")})),parcelRequire.register("dVyh1",(function(e,t){$parcel$export(e.exports,"ImageCapture",(function(){return o})),$parcel$export(e.exports,"FileUploader",(function(){return n}));const r={view:"uploader",id:"app:uploader",apiOnly:!0,accept:"image/png, image/gif, image/jpeg",upload:"api/attachment/upload/",formData:{mode:"upload"},on:{onBeforeFileAdd:e=>{var t=e.type.toLowerCase();if("jpg"!=t&&"png"!=t)return webix.message({type:"error",text:__("Only PNG or JPG images are supported")}),!1},onFileUpload:(e,t)=>{e.context.callback(t.globalid,e.context.att_type)},onFileUploadError:(e,t)=>{webix.alert({title:"Error",ok:"close",text:'"'+t.file_name+'" - is not an image'})}}},i={view:"window",id:"app:camera_window",position:"center",move:!0,params:{callback:null,title:null,att_type:null},title:null,width:445,height:340,modal:!0,head:!1,body:{rows:[{view:"label",id:"icw:label",label:`&nbsp;${__("Capture image of")} &rarr; `,align:"center"},{type:"space",css:{"background-color":"#fff"},rows:[{template:'<div id="camera_container">\n                        <div class="camera">\n                            <video id="icw-video"></video>\n                        </div>\n                        <div class="camera">\n                            <img id="icw-photo" alt="Video stream not yet available!!!">\n                        </div>\n                    </div>\n                    <canvas id="icw:canvas" style="display:none;"></canvas>'},{height:40,type:"wide",css:{"background-color":"#fff"},padding:4,cols:[{view:"button",id:"icw:takephoto_btn",label:__("Take Photo"),autowidth:!0,click:e=>o.config.params.callback(e)},{view:"button",id:"icw:reset_btn",label:__("Reset"),autowidth:!0,disabled:!0,click:e=>o.config.params.callback(e)},{},{view:"button",id:"icw:save_btn",label:__("Use Photo"),autowidth:!0,disabled:!0,click:e=>o.config.params.callback(e)},{view:"button",id:"icw:cancel_btn",label:__("Cancel"),autowidth:!0,click:e=>o.config.params.callback(e)}]}]}]},on:{onShow:()=>{return e=document.getElementById("icw-video"),$$("icw:reset_btn").disable(),$$("icw:save_btn").disable(),$$("icw:takephoto_btn").enable(),void navigator.mediaDevices.getUserMedia({video:{width:1280,height:720},audio:!1}).then((function(t){e.srcObject=t,e.play(),document.getElementById("icw-photo").alt=""}));var e},onBeforeShow:()=>{$$("icw:label").define("label",o.config.params.title),$$("icw:label").refresh()}}},n=webix.ui(r),o=webix.ui(i)})),parcelRequire.register("bUKqd",(function(e,t){$parcel$export(e.exports,"MapCtrl",(function(){return h}));var r=parcelRequire("2yt6N"),i=parcelRequire("jKXwO"),n=parcelRequire("gDMFZ"),o=parcelRequire("1Pls2"),a=parcelRequire("bRCsC"),s=parcelRequire("6YHhF"),l=parcelRequire("f2OU0"),u=parcelRequire("dCXQG"),c=parcelRequire("l95NQ"),p=parcelRequire("ae17k"),d=parcelRequire("geRS1"),h={navMap:null,mosaicLayer:null,spatialunitsLayer:null,neighboursLayer:null,approvalLayer:null,conceptsLayer:null,vertexpointsLayer:null,anchorpointsLayer:null,surveypointsLayer:null,selectionInteraction:null,rmsInteraction:null,selectionCount:0,initMap:function(e){this.navMap=e,this.mosaicLayer=new o.default({source:new a.default,title:"Mosaic",name:"mosaic",switcher:!0,visible:!0}),this.navMap.addLayer(this.mosaicLayer),this.spatialunitsLayer=new s.default({source:new l.default({format:new u.default}),title:"Spatialunits",name:"spatialunits",switcher:!1,style:r.mapStyle.spatialunitWithLabel("label")}),this.navMap.addLayer(this.spatialunitsLayer),this.neighboursLayer=new s.default({source:new l.default,title:"Neighbours",name:"neighbours",switcher:!1,style:r.mapStyle.neighbourWithId()}),this.navMap.addLayer(this.neighboursLayer),this.approvalLayer=new s.default({source:new l.default,title:"Approval Status",name:"approval",switcher:!1,style:r.mapStyle.selectedSpatialunitWithLabel("label")}),this.navMap.addLayer(this.approvalLayer),this.conceptsLayer=new s.default({source:new l.default,title:"Concepts",name:"boundary_concepts",switcher:!0,style:r.mapStyle.spatialunitConcepts()}),this.navMap.addLayer(this.conceptsLayer),this.vertexpointsLayer=new s.default({source:new l.default,title:"Vertex Points",name:"vertexpoints",switcher:!0,style:r.mapStyle.vertexpoints()}),this.vertexpointsLayer.setVisible(!1),this.navMap.addLayer(this.vertexpointsLayer),this.anchorpointsLayer=new s.default({source:new l.default,title:"Anchor Points",name:"anchorpoints",switcher:!0,style:r.mapStyle.anchorpoints()}),this.navMap.addLayer(this.anchorpointsLayer),this.surveypointsLayer=new s.default({source:new l.default,title:"Surveyed Points",name:"surveypoints",switcher:!0,style:r.mapStyle.surveypoints()}),this.surveypointsLayer.setVisible(!1),this.navMap.addLayer(this.surveypointsLayer),this.selectionInteraction=new c.default({layers:[this.spatialunitsLayer],condition:p.click,style:r.mapStyle.selectedSpatialunitWithLabel("label")}),this.navMap.addInteraction(this.selectionInteraction),this.rmsInteraction=new c.default({layers:[this.surveypointsLayer],condition:p.click,style:r.mapStyle.surveypointsWithRms()}),this.navMap.addInteraction(this.rmsInteraction),this.rmsInteraction.setActive(!1),this.selectionInteraction.getFeatures().on("add",(function(e){h.selectionCount++})),this.selectionInteraction.getFeatures().on("remove",(function(e){h.selectionCount--})),i.AddSwitcherControl(this.navMap,"apv"),$$("apv:layer_switcher").disable(),appdata.mosaic&&(this.mosaicLayer.setSource(new a.default({url:appdata.wmsUrl,params:{LAYERS:"mosaic",TILED:!0,MOSAIC:"mosaic_"+appdata.dbparams.database.toLowerCase()}})),this.mosaicLayer.setVisible(!0))},retrieveSpatialUnits:e=>{n.ApprovalCtrl.switchBasemap&&(h.navMap.setBasemap(appdata.basemap),n.ApprovalCtrl.switchBasemap=!1);var t={id_number:e.id_number};webix.ajax().get("api/spatialunit/party/",{...appdata.dbparams,...t}).then((t=>{if(t.json().success){var r=(new u.default).readFeatures(t.json().collection);r.forEach((function(e){n.ApprovalCtrl.idList.push(e.get("id"))})),h.spatialunitsLayer.getSource().clear(),h.spatialunitsLayer.getSource().addFeatures(r);var i=h.spatialunitsLayer.getSource().getExtent();h.navMap.getView().setCenter(d.getCenter(i)),h.navMap.getView().fit(i,h.navMap.getSize()),h.navMap.getView().setZoom(h.navMap.getView().getZoom()-.5),$$("apv:map_party_name").setValue(e.first_name+" "+e.last_name)}else showErrorMsg(null,t.json().message)}),(e=>{showErrorMsg(e,"")}))},setConceptStyle:function(e,t){this.conceptsLayer.getSource().getFeatures().forEach((function(r){r.getProperties().ogc_id==e&&r.setStyle(t)}))}}})),parcelRequire.register("jKXwO",(function(e,t){$parcel$export(e.exports,"AddSwitcherControl",(function(){return i}));var r=parcelRequire("4nGvt");const i=(e,t)=>{let i=[];for(let r of e.getLayers().getArray())r.getProperties().switcher&&i.push({view:"checkbox",id:t+":"+r.getProperties().name+"_checkbox",css:"switcher_item",height:30,labelRight:__(r.getProperties().title),labelWidth:10,value:r.getVisible()?1:0,hidden:r.getProperties().name in appdata&&!appdata[r.getProperties().name],layer:r,click:function(){this.config.layer.setVisible(1==this.getValue())}});webix.ui({view:"popup",id:t+":layer_switcher",css:"switcher_popup",width:190,height:300,body:{rows:i}});var n=webix.html.create("button",{id:t+":layerswitcher_button"},'<i class="mdi mdi-layers-triple-outline"></i>');n.addEventListener("mouseover",(function(){var e=webix.html.offset(document.getElementById(t+":layerswitcher_div"));$$(t+":layer_switcher").show({x:e.x-170,y:e.y+30})}));var o=webix.html.create("div",{id:t+":layerswitcher_div",class:"layer-switcher ol-unselectable ol-control"});return o.appendChild(n),e.addControl(new r.default({element:o})),webix.TooltipControl.addTooltip(t+":layerswitcher_button",__("Switch layers on & off")),!0}})),parcelRequire.register("4nGvt",(function(e,t){$parcel$export(e.exports,"default",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("5qZl6"),n=parcelRequire("k0Xgc"),o=parcelRequire("c0LdP"),a=parcelRequire("9eKdp"),s=parcelRequire("1Rvcq"),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(t){var r=e.call(this)||this,i=t.element;return!i||t.target||i.style.pointerEvents||(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],t.render&&(r.render=t.render),t.target&&r.setTarget(t.target),r}return l(t,e),t.prototype.disposeInternal=function(){s.removeNode(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&s.removeNode(this.element);for(var t=0,r=this.listenerKeys.length;t<r;++t)a.unlistenByKey(this.listenerKeys[t]);(this.listenerKeys.length=0,this.map_=e,this.map_)&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==o.VOID&&this.listenerKeys.push(a.listen(e,n.default.POSTRENDER,this.render,this)),e.render())},t.prototype.render=function(e){},t.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},t}(i.default)})),parcelRequire.register("k0Xgc",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}})),parcelRequire.register("1Pls2",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}),(function(e){return a=e}));var r,i=parcelRequire("hTvn0"),n=parcelRequire("4QKqt"),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.createRenderer=function(){return new n.default(this)},t}(i.default)})),parcelRequire.register("hTvn0",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}),(function(e){return o=e}));var r,i=parcelRequire("khniA"),n=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=function(e){function t(t){var r=t||{};return e.call(this,r)||this}return n(t,e),t}(i.default)})),parcelRequire.register("khniA",(function(e,t){$parcel$export(e.exports,"inView",(function(){return d}),(function(e){return d=e})),$parcel$export(e.exports,"default",(function(){return h}),(function(e){return h=e}));var r,i=parcelRequire("fvy1U"),n=parcelRequire("7Ry8n"),o=parcelRequire("4QWeo"),a=parcelRequire("5ipJe"),s=parcelRequire("kJINA"),l=parcelRequire("59Hdm"),u=parcelRequire("lOEcB"),c=parcelRequire("9eKdp"),p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function d(e,t){if(!e.visible)return!1;var r=t.resolution;if(r<e.minResolution||r>=e.maxResolution)return!1;var i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}var h=function(e){function t(t){var r=this,i=u.assign({},t);delete i.source,(r=e.call(this,i)||this).on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addChangeListener(o.default.SOURCE,r.handleSourcePropertyChange_);var n=t.source?t.source:null;return r.setSource(n),r}return p(t,e),t.prototype.getLayersArray=function(e){var t=e||[];return t.push(this),t},t.prototype.getLayerStatesArray=function(e){var t=e||[];return t.push(this.getLayerState()),t},t.prototype.getSource=function(){return this.get(o.default.SOURCE)||null},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():s.default.UNDEFINED},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(c.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=c.listen(e,n.default.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise((function(e){return e([])}))},t.prototype.render=function(e,t){var r=this.getRenderer();if(r.prepareFrame(e))return r.renderFrame(e,t)},t.prototype.setMapInternal=function(e){this.set(o.default.MAP,e)},t.prototype.getMapInternal=function(){return this.get(o.default.MAP)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(c.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(c.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=c.listen(e,a.default.PRECOMPOSE,(function(e){var t=e.frameState.layerStatesArray,r=this.getLayerState(!1);l.assert(!t.some((function(e){return e.layer===r.layer})),67),t.push(r)}),this),this.mapRenderKey_=c.listen(this,n.default.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(o.default.SOURCE,e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e.prototype.disposeInternal.call(this)},t}(i.default)})),parcelRequire.register("fvy1U",(function(e,t){$parcel$export(e.exports,"default",(function(){return c}),(function(e){return c=e}));var r,i=parcelRequire("5qZl6"),n=parcelRequire("4QWeo"),o=parcelRequire("b3vZc"),a=parcelRequire("59Hdm"),s=parcelRequire("lOEcB"),l=parcelRequire("8GG6h"),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e){function t(t){var r=e.call(this)||this;r.on,r.once,r.un,r.background_=t.background;var i=s.assign({},t);return"object"==typeof t.properties&&(delete i.properties,s.assign(i,t.properties)),i[n.default.OPACITY]=void 0!==t.opacity?t.opacity:1,a.assert("number"==typeof i[n.default.OPACITY],64),i[n.default.VISIBLE]=void 0===t.visible||t.visible,i[n.default.Z_INDEX]=t.zIndex,i[n.default.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,i[n.default.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,i[n.default.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,i[n.default.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,r.className_=void 0!==i.className?t.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return u(t,e),t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var t=this.state_||{layer:this,managed:void 0===e||e},r=this.getZIndex();return t.opacity=l.clamp(Math.round(100*this.getOpacity())/100,0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==r||t.managed?r:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t},t.prototype.getLayersArray=function(e){return o.abstract()},t.prototype.getLayerStatesArray=function(e){return o.abstract()},t.prototype.getExtent=function(){return this.get(n.default.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(n.default.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(n.default.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(n.default.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(n.default.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(n.default.OPACITY)},t.prototype.getSourceState=function(){return o.abstract()},t.prototype.getVisible=function(){return this.get(n.default.VISIBLE)},t.prototype.getZIndex=function(){return this.get(n.default.Z_INDEX)},t.prototype.setBackground=function(e){this.background_=e,this.changed()},t.prototype.setExtent=function(e){this.set(n.default.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(n.default.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(n.default.MIN_RESOLUTION,e)},t.prototype.setMaxZoom=function(e){this.set(n.default.MAX_ZOOM,e)},t.prototype.setMinZoom=function(e){this.set(n.default.MIN_ZOOM,e)},t.prototype.setOpacity=function(e){a.assert("number"==typeof e,64),this.set(n.default.OPACITY,e)},t.prototype.setVisible=function(e){this.set(n.default.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(n.default.Z_INDEX,e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(i.default)})),parcelRequire.register("4QWeo",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}})),parcelRequire.register("5ipJe",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}})),parcelRequire.register("kJINA",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}})),parcelRequire.register("4QKqt",(function(e,t){$parcel$export(e.exports,"default",(function(){return d}),(function(e){return d=e}));var r,i=parcelRequire("77WDR"),n=parcelRequire("lXvet"),o=parcelRequire("eL70X"),a=parcelRequire("fwKtB"),s=parcelRequire("lOEcB"),l=parcelRequire("lXQa3"),u=parcelRequire("geRS1"),c=parcelRequire("cR5xV"),p=(u=parcelRequire("geRS1"),l=parcelRequire("lXQa3"),r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),d=function(e){function t(t){var r=e.call(this,t)||this;return r.image_=null,r}return p(t,e),t.prototype.getImage=function(){return this.image_?this.image_.getImage():null},t.prototype.prepareFrame=function(e){var t=e.layerStatesArray[e.layerIndex],r=e.pixelRatio,i=e.viewState,a=i.resolution,s=this.getLayer().getSource(),l=e.viewHints,p=e.extent;if(void 0!==t.extent&&(p=u.getIntersection(p,c.fromUserExtent(t.extent,i.projection))),!l[n.default.ANIMATING]&&!l[n.default.INTERACTING]&&!u.isEmpty(p))if(s){var d=i.projection;if(!o.ENABLE_RASTER_REPROJECTION){var h=s.getProjection();h&&(d=h)}var f=s.getImage(p,a,r,d);f&&this.loadImage(f)&&(this.image_=f)}else this.image_=null;return!!this.image_},t.prototype.renderFrame=function(e,t){var r=this.image_,i=r.getExtent(),n=r.getResolution(),o=r.getPixelRatio(),p=e.layerStatesArray[e.layerIndex],d=e.pixelRatio,h=e.viewState,f=h.center,g=h.resolution,_=e.size,m=d*n/(g*o),v=Math.round(_[0]*d),y=Math.round(_[1]*d),x=h.rotation;if(x){var b=Math.round(Math.sqrt(v*v+y*y));v=b,y=b}l.compose(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/d,1/d,x,-v/2,-y/2),l.makeInverse(this.inversePixelTransform,this.pixelTransform);var w=l.toString(this.pixelTransform);this.useContainer(t,w,p.opacity,this.getBackground(e));var R=this.context,$=R.canvas;$.width!=v||$.height!=y?($.width=v,$.height=y):this.containerReused||R.clearRect(0,0,v,y);var C=!1,S=!0;if(p.extent){var E=c.fromUserExtent(p.extent,h.projection);(C=(S=u.intersects(E,e.extent))&&!u.containsExtent(E,e.extent))&&this.clipUnrotated(R,e,E)}var q=r.getImage(),T=l.compose(this.tempTransform,v/2,y/2,m,m,0,o*(i[0]-f[0])/n,o*(f[1]-i[3])/n);this.renderedResolution=n*d/o;var I=q.width*T[0],L=q.height*T[3];if(this.getLayer().getSource().getInterpolate()||s.assign(R,a.IMAGE_SMOOTHING_DISABLED),this.preRender(R,e),S&&I>=.5&&L>=.5){var A=T[4],O=T[5],P=p.opacity,M=void 0;1!==P&&(M=R.globalAlpha,R.globalAlpha=P),R.drawImage(q,0,0,+q.width,+q.height,Math.round(A),Math.round(O),Math.round(I),Math.round(L)),1!==P&&(R.globalAlpha=M)}return this.postRender(R,e),C&&R.restore(),s.assign(R,a.IMAGE_SMOOTHING_ENABLED),w!==$.style.transform&&($.style.transform=w),this.container},t}(i.default)})),parcelRequire.register("77WDR",(function(e,t){$parcel$export(e.exports,"default",(function(){return d}),(function(e){return d=e}));var r,i=parcelRequire("vK4gL"),n=parcelRequire("3TxrO"),o=parcelRequire("5ipJe"),a=parcelRequire("lXQa3"),s=parcelRequire("2asDT"),l=parcelRequire("geRS1"),u=parcelRequire("1Rvcq"),c=parcelRequire("l89p7"),p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),d=function(e){function t(t){var r=e.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform=a.create(),r.pixelTransform=a.create(),r.inversePixelTransform=a.create(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r}return p(t,e),t.prototype.getBackground=function(e){var t=this.getLayer().getBackground();return"function"==typeof t&&(t=t(e.viewState.resolution)),t||void 0},t.prototype.useContainer=function(e,t,r,i){var n,o,a=this.getLayer().getClassName();e&&e.className===a&&""===e.style.opacity&&1===r&&(!i||e.style.backgroundColor&&c.equals(s.asArray(e.style.backgroundColor),s.asArray(i)))&&((p=e.firstElementChild)instanceof HTMLCanvasElement&&(o=p.getContext("2d")));if(o&&o.canvas.style.transform===t?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(n=document.createElement("div")).className=a;var l=n.style;l.position="absolute",l.width="100%",l.height="100%",i&&(l.backgroundColor=i);var p=(o=u.createCanvasContext2D()).canvas;n.appendChild(p),(l=p.style).position="absolute",l.left="0",l.transformOrigin="top left",this.container=n,this.context=o}},t.prototype.clipUnrotated=function(e,t,r){var i=l.getTopLeft(r),n=l.getTopRight(r),o=l.getBottomRight(r),s=l.getBottomLeft(r);a.apply(t.coordinateToPixelTransform,i),a.apply(t.coordinateToPixelTransform,n),a.apply(t.coordinateToPixelTransform,o),a.apply(t.coordinateToPixelTransform,s);var u=this.inversePixelTransform;a.apply(u,i),a.apply(u,n),a.apply(u,o),a.apply(u,s),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(n[0]),Math.round(n[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,t,r){var i=this.getLayer();if(i.hasListener(e)){var o=new n.default(e,this.inversePixelTransform,r,t);i.dispatchEvent(o)}},t.prototype.preRender=function(e,t){this.dispatchRenderEvent_(o.default.PRERENDER,e,t)},t.prototype.postRender=function(e,t){this.dispatchRenderEvent_(o.default.POSTRENDER,e,t)},t.prototype.getRenderTransform=function(e,t,r,i,n,o,s){var l=n/2,u=o/2,c=i/t,p=-c,d=-e[0]+s,h=-e[1];return a.compose(this.tempTransform,l,u,c,p,-r,d,h)},t.prototype.getDataAtPixel=function(e,t,r){var i=a.apply(this.inversePixelTransform,e.slice()),n=this.context,o=this.getLayer().getExtent();if(o){var s=a.apply(t.pixelToCoordinateTransform,e.slice());if(!l.containsCoordinate(o,s))return null}var u,c=Math.round(i[0]),p=Math.round(i[1]),d=this.pixelContext_;if(!d){var h=document.createElement("canvas");h.width=1,h.height=1,d=h.getContext("2d"),this.pixelContext_=d}d.clearRect(0,0,1,1);try{d.drawImage(n.canvas,c,p,1,1,0,0,1,1),u=d.getImageData(0,0,1,1).data}catch(e){return"SecurityError"===e.name?(this.pixelContext_=null,new Uint8Array):u}return 0===u[3]?null:u},t}(i.default)})),parcelRequire.register("vK4gL",(function(e,t){$parcel$export(e.exports,"default",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("7Ry8n"),n=parcelRequire("hTRPy"),o=parcelRequire("g7x0p"),a=parcelRequire("kJINA"),s=parcelRequire("b3vZc"),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(t){var r=e.call(this)||this;return r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=t,r.declutterExecutorGroup=null,r}return l(t,e),t.prototype.getFeatures=function(e){return s.abstract()},t.prototype.prepareFrame=function(e){return s.abstract()},t.prototype.renderFrame=function(e,t){return s.abstract()},t.prototype.loadedTileCallback=function(e,t,r){e[t]||(e[t]={}),e[t][r.tileCoord.toString()]=r},t.prototype.createLoadedTileFinder=function(e,t,r){return function(i,n){var o=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(t,i,n,o)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,i,n){},t.prototype.getDataAtPixel=function(e,t,r){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){e.target.getState()===n.default.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var t=e.getState();return t!=n.default.LOADED&&t!=n.default.ERROR&&e.addEventListener(i.default.CHANGE,this.boundHandleImageChange_),t==n.default.IDLE&&(e.load(),t=e.getState()),t==n.default.LOADED},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==a.default.READY&&e.changed()},t}(o.default)})),parcelRequire.register("3TxrO",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}),(function(e){return o=e}));var r,i=parcelRequire("jkZCX"),n=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=function(e){function t(t,r,i,n){var o=e.call(this,t)||this;return o.inversePixelTransform=r,o.frameState=i,o.context=n,o}return n(t,e),t}(i.default)})),parcelRequire.register("lXQa3",(function(e,t){$parcel$export(e.exports,"create",(function(){return a})),$parcel$export(e.exports,"multiply",(function(){return s})),$parcel$export(e.exports,"setFromArray",(function(){return u})),$parcel$export(e.exports,"apply",(function(){return c})),$parcel$export(e.exports,"scale",(function(){return p})),$parcel$export(e.exports,"makeScale",(function(){return d})),$parcel$export(e.exports,"compose",(function(){return h})),$parcel$export(e.exports,"toString",(function(){return g})),$parcel$export(e.exports,"makeInverse",(function(){return f}));var r,i=parcelRequire("anhQL"),n=parcelRequire("59Hdm"),o=new Array(6);function a(){return[1,0,0,1,0,0]}function s(e,t){var r=e[0],i=e[1],n=e[2],o=e[3],a=e[4],s=e[5],l=t[0],u=t[1],c=t[2],p=t[3],d=t[4],h=t[5];return e[0]=r*l+n*u,e[1]=i*l+o*u,e[2]=r*c+n*p,e[3]=i*c+o*p,e[4]=r*d+n*h+a,e[5]=i*d+o*h+s,e}function l(e,t,r,i,n,o,a){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=o,e[5]=a,e}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function c(e,t){var r=t[0],i=t[1];return t[0]=e[0]*r+e[2]*i+e[4],t[1]=e[1]*r+e[3]*i+e[5],t}function p(e,t,r){return s(e,l(o,t,0,0,r,0,0))}function d(e,t,r){return l(e,t,0,0,r,0,0)}function h(e,t,r,i,n,o,a,s){var l=Math.sin(o),u=Math.cos(o);return e[0]=i*u,e[1]=n*l,e[2]=-i*l,e[3]=n*u,e[4]=a*i*u-s*i*l+t,e[5]=a*n*l+s*n*u+r,e}function f(e,t){var r,i=(r=t)[0]*r[3]-r[1]*r[2];n.assert(0!==i,32);var o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5];return e[0]=l/i,e[1]=-a/i,e[2]=-s/i,e[3]=o/i,e[4]=(s*c-l*u)/i,e[5]=-(o*c-a*u)/i,e}function g(e){var t="matrix("+e.join(", ")+")";if(i.WORKER_OFFSCREEN_CANVAS)return t;var n=r||(r=document.createElement("div"));return n.style.transform=t,n.style.transform}})),parcelRequire.register("lXvet",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={ANIMATING:0,INTERACTING:1}})),parcelRequire.register("eL70X",(function(e,t){$parcel$export(e.exports,"ERROR_THRESHOLD",(function(){return r})),$parcel$export(e.exports,"ENABLE_RASTER_REPROJECTION",(function(){return i}));var r=.5,i=!0})),parcelRequire.register("fwKtB",(function(e,t){$parcel$export(e.exports,"IMAGE_SMOOTHING_DISABLED",(function(){return r})),$parcel$export(e.exports,"IMAGE_SMOOTHING_ENABLED",(function(){return i}));var r={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},i={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0}})),parcelRequire.register("cR5xV",(function(e,t){$parcel$export(e.exports,"identityTransform",(function(){return c})),$parcel$export(e.exports,"get",(function(){return d})),$parcel$export(e.exports,"getPointResolution",(function(){return h})),$parcel$export(e.exports,"getTransformFromProjections",(function(){return m})),$parcel$export(e.exports,"createProjection",(function(){return g})),$parcel$export(e.exports,"transform",(function(){return y})),$parcel$export(e.exports,"equivalent",(function(){return _})),$parcel$export(e.exports,"getTransform",(function(){return v})),$parcel$export(e.exports,"transformExtent",(function(){return x})),$parcel$export(e.exports,"getUserProjection",(function(){return S})),$parcel$export(e.exports,"toUserCoordinate",(function(){return E})),$parcel$export(e.exports,"fromUserCoordinate",(function(){return q})),$parcel$export(e.exports,"toUserExtent",(function(){return T})),$parcel$export(e.exports,"fromUserExtent",(function(){return I})),$parcel$export(e.exports,"toUserResolution",(function(){return L})),$parcel$export(e.exports,"fromUserResolution",(function(){return A})),$parcel$export(e.exports,"METERS_PER_UNIT",(function(){return parcelRequire("56Kgw").METERS_PER_UNIT}));var r=parcelRequire("56Kgw"),i=parcelRequire("3Nijg"),n=parcelRequire("kpkHV"),o=parcelRequire("3c5z4"),a=parcelRequire("cEX7s"),s=parcelRequire("geRS1"),l=(parcelRequire("8GG6h"),parcelRequire("fVV3L"));parcelRequire("akCpq");function u(e,t,r){var i;if(void 0!==t){for(var n=0,o=e.length;n<o;++n)t[n]=e[n];i=t}else i=e.slice();return i}function c(e,t,r){if(void 0!==t&&e!==t){for(var i=0,n=e.length;i<n;++i)t[i]=e[i];e=t}return e}function p(e){o.add(e.getCode(),e),a.add(e,e,u)}function d(e){return"string"==typeof e?o.get(e):e||null}function h(e,t,i,n){var o,a=(e=d(e)).getPointResolutionFunc();if(a){if(o=a(t,i),n&&n!==e.getUnits())(u=e.getMetersPerUnit())&&(o=o*u/r.METERS_PER_UNIT[n])}else{var s=e.getUnits();if(s==r.default.DEGREES&&!n||n==r.default.DEGREES)o=t;else{var u,p=m(e,d("EPSG:4326"));if(p===c&&s!==r.default.DEGREES)o=t*e.getMetersPerUnit();else{var h=[i[0]-t/2,i[1],i[0]+t/2,i[1],i[0],i[1]-t/2,i[0],i[1]+t/2];h=p(h,h,2),o=(l.getDistance(h.slice(0,2),h.slice(2,4))+l.getDistance(h.slice(4,6),h.slice(6,8)))/2}void 0!==(u=n?r.METERS_PER_UNIT[n]:e.getMetersPerUnit())&&(o/=u)}}return o}function f(e){!function(e){e.forEach(p)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&a.add(t,e,u)}))}))}function g(e,t){return e?"string"==typeof e?d(e):e:d(t)}function _(e,t){if(e===t)return!0;var r=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||m(e,t)===u)&&r}function m(e,t){var r=e.getCode(),i=t.getCode(),n=a.get(r,i);return n||(n=c),n}function v(e,t){return m(d(e),d(t))}function y(e,t,r){return v(t,r)(e,void 0,e.length)}function x(e,t,r,i){var n=v(t,r);return s.applyTransform(e,n,void 0,i)}var b,w,R,$,C=null;function S(){return C}function E(e,t){return C?y(e,t,C):e}function q(e,t){return C?y(e,C,t):e}function T(e,t){return C?x(e,t,C):e}function I(e,t){return C?x(e,C,t):e}function L(e,t){if(!C)return e;var i=d(t).getUnits(),n=C.getUnits();return i&&n?e*r.METERS_PER_UNIT[i]/r.METERS_PER_UNIT[n]:e}function A(e,t){if(!C)return e;var i=d(t).getUnits(),n=C.getUnits();return i&&n?e*r.METERS_PER_UNIT[n]/r.METERS_PER_UNIT[i]:e}f(i.PROJECTIONS),f(n.PROJECTIONS),b=n.PROJECTIONS,w=i.PROJECTIONS,R=i.fromEPSG4326,$=i.toEPSG4326,b.forEach((function(e){w.forEach((function(t){a.add(e,t,R),a.add(t,e,$)}))}))})),parcelRequire.register("56Kgw",(function(e,t){$parcel$export(e.exports,"METERS_PER_UNIT",(function(){return i})),$parcel$export(e.exports,"default",(function(){return n}));var r={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};var i={};i[r.RADIANS]=6370997/(2*Math.PI),i[r.DEGREES]=2*Math.PI*6370997/360,i[r.FEET]=.3048,i[r.METERS]=1,i[r.USFEET]=1200/3937;var n=r})),parcelRequire.register("3Nijg",(function(e,t){$parcel$export(e.exports,"PROJECTIONS",(function(){return h}),(function(e){return h=e})),$parcel$export(e.exports,"fromEPSG4326",(function(){return f}),(function(e){return f=e})),$parcel$export(e.exports,"toEPSG4326",(function(){return g}),(function(e){return g=e}));var r,i=parcelRequire("6C1Vi"),n=parcelRequire("56Kgw"),o=parcelRequire("8GG6h"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=6378137,l=Math.PI*s,u=[-l,-l,l,l],c=[-180,-85,180,85],p=s*Math.log(Math.tan(Math.PI/2)),d=function(e){function t(t){return e.call(this,{code:t,units:n.default.METERS,extent:u,global:!0,worldExtent:c,getPointResolution:function(e,t){return e/o.cosh(t[1]/s)}})||this}return a(t,e),t}(i.default),h=[new d("EPSG:3857"),new d("EPSG:102100"),new d("EPSG:102113"),new d("EPSG:900913"),new d("http://www.opengis.net/def/crs/EPSG/0/3857"),new d("http://www.opengis.net/gml/srs/epsg.xml#3857")];function f(e,t,r){var i=e.length,n=r>1?r:2,o=t;void 0===o&&(o=n>2?e.slice():new Array(i));for(var a=0;a<i;a+=n){o[a]=l*e[a]/180;var u=s*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));u>p?u=p:u<-p&&(u=-p),o[a+1]=u}return o}function g(e,t,r){var i=e.length,n=r>1?r:2,o=t;void 0===o&&(o=n>2?e.slice():new Array(i));for(var a=0;a<i;a+=n)o[a]=180*e[a]/l,o[a+1]=360*Math.atan(Math.exp(e[a+1]/s))/Math.PI-90;return o}})),parcelRequire.register("6C1Vi",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("56Kgw"),i=function(){function e(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||r.METERS_PER_UNIT[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},e.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)},e.prototype.setWorldExtent=function(e){this.worldExtent_=e},e.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}()})),parcelRequire.register("kpkHV",(function(e,t){$parcel$export(e.exports,"PROJECTIONS",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("6C1Vi"),n=parcelRequire("56Kgw"),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=[-180,-90,180,90],s=6378137*Math.PI/180,l=function(e){function t(t,r){return e.call(this,{code:t,units:n.default.DEGREES,extent:a,axisOrientation:r,global:!0,metersPerUnit:s,worldExtent:a})||this}return o(t,e),t}(i.default),u=[new l("CRS:84"),new l("EPSG:4326","neu"),new l("urn:ogc:def:crs:OGC:1.3:CRS84"),new l("urn:ogc:def:crs:OGC:2:84"),new l("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new l("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new l("http://www.opengis.net/def/crs/EPSG/0/4326","neu")]})),parcelRequire.register("3c5z4",(function(e,t){$parcel$export(e.exports,"clear",(function(){return i})),$parcel$export(e.exports,"get",(function(){return n})),$parcel$export(e.exports,"add",(function(){return o}));var r={};function i(){r={}}function n(e){return r[e]||r[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function o(e,t){r[e]=t}})),parcelRequire.register("cEX7s",(function(e,t){$parcel$export(e.exports,"clear",(function(){return i})),$parcel$export(e.exports,"add",(function(){return n})),$parcel$export(e.exports,"get",(function(){return o}));parcelRequire("lOEcB");var r={};function i(){r={}}function n(e,t,i){var n=e.getCode(),o=t.getCode();n in r||(r[n]={}),r[n][o]=i}function o(e,t){var i;return e in r&&t in r[e]&&(i=r[e][t]),i}})),parcelRequire.register("fVV3L",(function(e,t){$parcel$export(e.exports,"getDistance",(function(){return n})),$parcel$export(e.exports,"offset",(function(){return o}));parcelRequire("hZjyb");var r=parcelRequire("8GG6h"),i=6371008.8;function n(e,t,n){var o=n||i,a=r.toRadians(e[1]),s=r.toRadians(t[1]),l=(s-a)/2,u=r.toRadians(t[0]-e[0])/2,c=Math.sin(l)*Math.sin(l)+Math.sin(u)*Math.sin(u)*Math.cos(a)*Math.cos(s);return 2*o*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function o(e,t,n,o){var a=o||i,s=r.toRadians(e[1]),l=r.toRadians(e[0]),u=t/a,c=Math.asin(Math.sin(s)*Math.cos(u)+Math.cos(s)*Math.sin(u)*Math.cos(n)),p=l+Math.atan2(Math.sin(n)*Math.sin(u)*Math.cos(s),Math.cos(u)-Math.sin(s)*Math.sin(c));return[r.toDegrees(p),r.toDegrees(c)]}})),parcelRequire.register("akCpq",(function(e,t){$parcel$export(e.exports,"add",(function(){return o})),$parcel$export(e.exports,"closestOnCircle",(function(){return a})),$parcel$export(e.exports,"closestOnSegment",(function(){return s})),$parcel$export(e.exports,"degreesToStringHDMS",(function(){return l})),$parcel$export(e.exports,"equals",(function(){return u})),$parcel$export(e.exports,"rotate",(function(){return c})),$parcel$export(e.exports,"scale",(function(){return p})),$parcel$export(e.exports,"squaredDistance",(function(){return d})),$parcel$export(e.exports,"distance",(function(){return h})),$parcel$export(e.exports,"squaredDistanceToSegment",(function(){return f})),$parcel$export(e.exports,"toStringHDMS",(function(){return g})),$parcel$export(e.exports,"wrapX",(function(){return _})),$parcel$export(e.exports,"getWorldsAway",(function(){return m}));var r=parcelRequire("geRS1"),i=parcelRequire("8GG6h"),n=parcelRequire("6UKTV");function o(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function a(e,t){var r=t.getRadius(),i=t.getCenter(),n=i[0],o=i[1],a=e[0]-n,s=e[1]-o;0===a&&0===s&&(a=1);var l=Math.sqrt(a*a+s*s);return[n+r*a/l,o+r*s/l]}function s(e,t){var r,i,n=e[0],o=e[1],a=t[0],s=t[1],l=a[0],u=a[1],c=s[0],p=s[1],d=c-l,h=p-u,f=0===d&&0===h?0:(d*(n-l)+h*(o-u))/(d*d+h*h||0);return f<=0?(r=l,i=u):f>=1?(r=c,i=p):(r=l+f*d,i=u+f*h),[r,i]}function l(e,t,r){var o=i.modulo(t+180,360)-180,a=Math.abs(3600*o),s=r||0,l=Math.pow(10,s),u=Math.floor(a/3600),c=Math.floor((a-3600*u)/60),p=a-3600*u-60*c;return(p=Math.ceil(p*l)/l)>=60&&(p=0,c+=1),c>=60&&(c=0,u+=1),u+"° "+n.padNumber(c,2)+"′ "+n.padNumber(p,2,s)+"″"+(0==o?"":" "+e.charAt(o<0?1:0))}function u(e,t){for(var r=!0,i=e.length-1;i>=0;--i)if(e[i]!=t[i]){r=!1;break}return r}function c(e,t){var r=Math.cos(t),i=Math.sin(t),n=e[0]*r-e[1]*i,o=e[1]*r+e[0]*i;return e[0]=n,e[1]=o,e}function p(e,t){return e[0]*=t,e[1]*=t,e}function d(e,t){var r=e[0]-t[0],i=e[1]-t[1];return r*r+i*i}function h(e,t){return Math.sqrt(d(e,t))}function f(e,t){return d(e,s(e,t))}function g(e,t){return e?l("NS",e[1],t)+" "+l("EW",e[0],t):""}function _(e,t){if(t.canWrapX()){var i=r.getWidth(t.getExtent()),n=m(e,t,i);n&&(e[0]-=n*i)}return e}function m(e,t,i){var n=t.getExtent(),o=0;if(t.canWrapX()&&(e[0]<n[0]||e[0]>n[2])){var a=i||r.getWidth(n);o=Math.floor((e[0]-n[0])/a)}return o}})),parcelRequire.register("6UKTV",(function(e,t){function r(e,t,r){var i=void 0!==r?e.toFixed(r):""+e,n=i.indexOf(".");return(n=-1===n?i.length:n)>t?i:new Array(1+t-n).join("0")+i}function i(e,t){for(var r=(""+e).split("."),i=(""+t).split("."),n=0;n<Math.max(r.length,i.length);n++){var o=parseInt(r[n]||"0",10),a=parseInt(i[n]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}$parcel$export(e.exports,"padNumber",(function(){return r})),$parcel$export(e.exports,"compareVersions",(function(){return i}))})),parcelRequire.register("bRCsC",(function(e,t){$parcel$export(e.exports,"default",(function(){return v}),(function(e){return v=e}));var r,i=parcelRequire("3iMq3"),n=parcelRequire("7Ry8n"),o=parcelRequire("2wzbg"),a=parcelRequire("2nKin"),s=parcelRequire("yzwKM"),l=parcelRequire("j119T"),u=parcelRequire("59Hdm"),c=parcelRequire("lOEcB"),p=parcelRequire("2v4mn"),d=parcelRequire("8GG6h"),h=parcelRequire("6UKTV"),f=parcelRequire("geRS1"),g=parcelRequire("cR5xV"),_=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=[101,101],v=function(e){function t(t){var r=this,i=t||{},n=void 0===i.imageSmoothing||i.imageSmoothing;return void 0!==i.interpolate&&(n=i.interpolate),(r=e.call(this,{attributions:i.attributions,interpolate:n,projection:i.projection,resolutions:i.resolutions})||this).crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,r.url_=i.url,r.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:o.defaultImageLoadFunction,r.params_=i.params||{},r.v13_=!0,r.updateV13_(),r.serverType_=i.serverType,r.hidpi_=void 0===i.hidpi||i.hidpi,r.image_=null,r.imageSize_=[0,0],r.renderedRevision_=0,r.ratio_=void 0!==i.ratio?i.ratio:1.5,r}return _(t,e),t.prototype.getFeatureInfoUrl=function(e,t,r,n){if(void 0!==this.url_){var o=g.get(r),a=this.getProjection();a&&a!==o&&(t=p.calculateSourceResolution(a,o,e,t),e=g.transform(e,o,a));var s=f.getForViewAndSize(e,t,0,m),l={SERVICE:"WMS",VERSION:i.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};c.assign(l,this.params_,n);var u=d.floor((e[0]-s[0])/t,4),h=d.floor((s[3]-e[1])/t,4);return l[this.v13_?"I":"X"]=u,l[this.v13_?"J":"Y"]=h,this.getRequestUrl_(s,m,1,a||o,l)}},t.prototype.getLegendUrl=function(e,t){if(void 0!==this.url_){var r={SERVICE:"WMS",VERSION:i.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;r.LAYER=n}if(void 0!==e){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=e*o/28e-5}return c.assign(r,t),l.appendParams(this.url_,r)}},t.prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(e,t,r,o){if(void 0===this.url_)return null;t=this.findNearestResolution(t),1==r||this.hidpi_&&void 0!==this.serverType_||(r=1);var s=t/r,l=f.getCenter(e),u=d.ceil(f.getWidth(e)/s,4),p=d.ceil(f.getHeight(e)/s,4),h=f.getForViewAndSize(l,s,0,[u,p]),g=d.ceil(this.ratio_*f.getWidth(e)/s,4),_=d.ceil(this.ratio_*f.getHeight(e)/s,4),m=f.getForViewAndSize(l,s,0,[g,_]),v=this.image_;if(v&&this.renderedRevision_==this.getRevision()&&v.getResolution()==t&&v.getPixelRatio()==r&&f.containsExtent(v.getExtent(),h))return v;var y={SERVICE:"WMS",VERSION:i.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};c.assign(y,this.params_),this.imageSize_[0]=d.round(f.getWidth(m)/s,4),this.imageSize_[1]=d.round(f.getHeight(m)/s,4);var x=this.getRequestUrl_(m,this.imageSize_,r,o,y);return this.image_=new a.default(m,t,r,x,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(n.default.CHANGE,this.handleImageChange.bind(this)),this.image_},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.getRequestUrl_=function(e,t,r,i,n){if(u.assert(void 0!==this.url_,9),n[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(n.STYLES=""),1!=r)switch(this.serverType_){case s.default.GEOSERVER:var o=90*r+.5|0;"FORMAT_OPTIONS"in n?n.FORMAT_OPTIONS+=";dpi:"+o:n.FORMAT_OPTIONS="dpi:"+o;break;case s.default.MAPSERVER:n.MAP_RESOLUTION=90*r;break;case s.default.CARMENTA_SERVER:case s.default.QGIS:n.DPI=90*r;break;default:u.assert(!1,8)}n.WIDTH=t[0],n.HEIGHT=t[1];var a,c=i.getAxisOrientation();return a=this.v13_&&"ne"==c.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,n.BBOX=a.join(","),l.appendParams(this.url_,n)},t.prototype.getUrl=function(){return this.url_},t.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},t.prototype.updateParams=function(e){c.assign(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},t.prototype.updateV13_=function(){var e=this.params_.VERSION||i.DEFAULT_WMS_VERSION;this.v13_=h.compareVersions(e,"1.3")>=0},t}(o.default)})),parcelRequire.register("3iMq3",(function(e,t){$parcel$export(e.exports,"DEFAULT_WMS_VERSION",(function(){return r}));var r="1.3.0"})),parcelRequire.register("2wzbg",(function(e,t){$parcel$export(e.exports,"ImageSourceEventType",(function(){return h}),(function(e){return h=e})),$parcel$export(e.exports,"ImageSourceEvent",(function(){return f}),(function(e){return f=e})),$parcel$export(e.exports,"defaultImageLoadFunction",(function(){return g}),(function(e){return g=e})),$parcel$export(e.exports,"default",(function(){return _}),(function(e){return _=e}));var r,i=parcelRequire("jkZCX"),n=parcelRequire("hTRPy"),o=parcelRequire("hsiJa"),a=parcelRequire("bJgzg"),s=parcelRequire("eL70X"),l=parcelRequire("b3vZc"),u=parcelRequire("geRS1"),c=parcelRequire("cR5xV"),p=parcelRequire("l89p7"),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},f=function(e){function t(t,r){var i=e.call(this,t)||this;return i.image=r,i}return d(t,e),t}(i.default);function g(e,t){e.getImage().src=t}var _=function(e){function t(t){var r=this,i=void 0===t.imageSmoothing||t.imageSmoothing;return void 0!==t.interpolate&&(i=t.interpolate),(r=e.call(this,{attributions:t.attributions,projection:t.projection,state:t.state,interpolate:i})||this).on,r.once,r.un,r.resolutions_=void 0!==t.resolutions?t.resolutions:null,r.reprojectedImage_=null,r.reprojectedRevision_=0,r}return d(t,e),t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.findNearestResolution=function(e){if(this.resolutions_){var t=p.linearFindNearest(this.resolutions_,e,0);e=this.resolutions_[t]}return e},t.prototype.getImage=function(e,t,r,i){var n=this.getProjection();if(s.ENABLE_RASTER_REPROJECTION&&n&&i&&!c.equivalent(n,i)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&c.equivalent(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==t&&u.equals(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new o.default(n,i,e,t,r,function(e,t,r){return this.getImageInternal(e,t,r,n)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return n&&(i=n),this.getImageInternal(e,t,r,i)},t.prototype.getImageInternal=function(e,t,r,i){return l.abstract()},t.prototype.handleImageChange=function(e){var t=e.target;switch(t.getState()){case n.default.LOADING:this.loading=!0,this.dispatchEvent(new f(h.IMAGELOADSTART,t));break;case n.default.LOADED:this.loading=!1,this.dispatchEvent(new f(h.IMAGELOADEND,t));break;case n.default.ERROR:this.loading=!1,this.dispatchEvent(new f(h.IMAGELOADERROR,t))}},t}(a.default)})),parcelRequire.register("hsiJa",(function(e,t){$parcel$export(e.exports,"default",(function(){return d}),(function(e){return d=e}));var r,i=parcelRequire("eL70X"),n=parcelRequire("7Ry8n"),o=parcelRequire("iEW9U"),a=parcelRequire("hTRPy"),s=parcelRequire("gxrmM"),l=parcelRequire("2v4mn"),u=parcelRequire("geRS1"),c=parcelRequire("9eKdp"),p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),d=function(e){function t(t,r,n,o,c,p,d){var h=this,f=t.getExtent(),g=r.getExtent(),_=g?u.getIntersection(n,g):n,m=u.getCenter(_),v=l.calculateSourceResolution(t,r,m,o),y=i.ERROR_THRESHOLD,x=new s.default(t,r,_,f,v*y,o),b=p(x.calculateSourceExtent(),v,c),w=b?a.default.IDLE:a.default.EMPTY,R=b?b.getPixelRatio():1;return(h=e.call(this,n,o,R,w)||this).targetProj_=r,h.maxSourceExtent_=f,h.triangulation_=x,h.targetResolution_=o,h.targetExtent_=n,h.sourceImage_=b,h.sourcePixelRatio_=R,h.interpolate_=d,h.canvas_=null,h.sourceListenerKey_=null,h}return p(t,e),t.prototype.disposeInternal=function(){this.state==a.default.LOADING&&this.unlistenSource_(),e.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.canvas_},t.prototype.getProjection=function(){return this.targetProj_},t.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==a.default.LOADED){var t=u.getWidth(this.targetExtent_)/this.targetResolution_,r=u.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=l.render(t,r,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=e,this.changed()},t.prototype.load=function(){if(this.state==a.default.IDLE){this.state=a.default.LOADING,this.changed();var e=this.sourceImage_.getState();e==a.default.LOADED||e==a.default.ERROR?this.reproject_():(this.sourceListenerKey_=c.listen(this.sourceImage_,n.default.CHANGE,(function(e){var t=this.sourceImage_.getState();t!=a.default.LOADED&&t!=a.default.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},t.prototype.unlistenSource_=function(){c.unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null},t}(o.default)})),parcelRequire.register("gxrmM",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("geRS1"),i=parcelRequire("cR5xV"),n=parcelRequire("8GG6h"),o=function(){function e(e,t,o,a,s,l){this.sourceProj_=e,this.targetProj_=t;var u={},c=i.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return u[t]||(u[t]=c(e)),u[t]},this.maxSourceExtent_=a,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!a&&!!this.sourceProj_.getExtent()&&r.getWidth(a)==r.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?r.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?r.getWidth(this.targetProj_.getExtent()):null;var p=r.getTopLeft(o),d=r.getTopRight(o),h=r.getBottomRight(o),f=r.getBottomLeft(o),g=this.transformInv_(p),_=this.transformInv_(d),m=this.transformInv_(h),v=this.transformInv_(f),y=10+(l?Math.max(0,Math.ceil(n.log2(r.getArea(o)/(l*l*65536)))):0);if(this.addQuad_(p,d,h,f,g,_,m,v,y),this.wrapsXInSource_){var x=1/0;this.triangles_.forEach((function(e,t,r){x=Math.min(x,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-x>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-x>this.sourceWorldWidth_/2&&(t[0][0]-=this.sourceWorldWidth_),t[1][0]-x>this.sourceWorldWidth_/2&&(t[1][0]-=this.sourceWorldWidth_),t[2][0]-x>this.sourceWorldWidth_/2&&(t[2][0]-=this.sourceWorldWidth_);var r=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-r<this.sourceWorldWidth_/2&&(e.source=t)}}.bind(this))}u={}}return e.prototype.addTriangle_=function(e,t,r,i,n,o){this.triangles_.push({source:[i,n,o],target:[e,t,r]})},e.prototype.addQuad_=function(e,t,i,o,a,s,l,u,c){var p=r.boundingExtent([a,s,l,u]),d=this.sourceWorldWidth_?r.getWidth(p)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1,g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=r.boundingExtent([e,t,i,o]);g=r.getWidth(_)/this.targetWorldWidth_>.25||g}!f&&this.sourceProj_.isGlobal()&&d&&(g=d>.25||g)}if(!(!g&&this.maxSourceExtent_&&isFinite(p[0])&&isFinite(p[1])&&isFinite(p[2])&&isFinite(p[3]))||r.intersects(p,this.maxSourceExtent_)){var m=0;if(!(g||isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(u[0])&&isFinite(u[1])))if(c>0)g=!0;else if(1!=(m=(isFinite(a[0])&&isFinite(a[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(l[0])&&isFinite(l[1])?0:2)+(isFinite(u[0])&&isFinite(u[1])?0:1))&&2!=m&&4!=m&&8!=m)return;if(c>0){if(!g){var v=[(e[0]+i[0])/2,(e[1]+i[1])/2],y=this.transformInv_(v),x=void 0;if(f)x=(n.modulo(a[0],h)+n.modulo(l[0],h))/2-n.modulo(y[0],h);else x=(a[0]+l[0])/2-y[0];var b=(a[1]+l[1])/2-y[1];g=x*x+b*b>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){var w=[(t[0]+i[0])/2,(t[1]+i[1])/2],R=this.transformInv_(w),$=[(o[0]+e[0])/2,(o[1]+e[1])/2],C=this.transformInv_($);this.addQuad_(e,t,w,$,a,s,R,C,c-1),this.addQuad_($,w,i,o,C,R,l,u,c-1)}else{var S=[(e[0]+t[0])/2,(e[1]+t[1])/2],E=this.transformInv_(S),q=[(i[0]+o[0])/2,(i[1]+o[1])/2],T=this.transformInv_(q);this.addQuad_(e,S,q,o,a,E,T,u,c-1),this.addQuad_(S,t,i,q,E,s,l,T,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&m)&&this.addTriangle_(e,i,o,a,l,u),0==(14&m)&&this.addTriangle_(e,i,t,a,l,s),m&&(0==(13&m)&&this.addTriangle_(t,o,e,s,u,a),0==(7&m)&&this.addTriangle_(t,o,i,s,u,l))}},e.prototype.calculateSourceExtent=function(){var e=r.createEmpty();return this.triangles_.forEach((function(t,i,n){var o=t.source;r.extendCoordinate(e,o[0]),r.extendCoordinate(e,o[1]),r.extendCoordinate(e,o[2])})),e},e.prototype.getTriangles=function(){return this.triangles_},e}()})),parcelRequire.register("2v4mn",(function(e,t){$parcel$export(e.exports,"calculateSourceResolution",(function(){return p})),$parcel$export(e.exports,"calculateSourceExtentResolution",(function(){return d})),$parcel$export(e.exports,"render",(function(){return h}));var r,i=parcelRequire("fwKtB"),n=parcelRequire("lOEcB"),o=parcelRequire("geRS1"),a=parcelRequire("1Rvcq"),s=parcelRequire("cR5xV"),l=parcelRequire("8GG6h");function u(e,t,r,i,n){e.beginPath(),e.moveTo(0,0),e.lineTo(t,r),e.lineTo(i,n),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(r,n)),e.restore()}function c(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function p(e,t,r,i){var n=s.transform(r,t,e),a=s.getPointResolution(t,i,r),l=t.getMetersPerUnit();void 0!==l&&(a*=l);var u=e.getMetersPerUnit();void 0!==u&&(a/=u);var c=e.getExtent();if(!c||o.containsCoordinate(c,n)){var p=s.getPointResolution(e,a,n)/a;isFinite(p)&&p>0&&(a/=p)}return a}function d(e,t,r,i){var n=o.getCenter(r),a=p(e,t,n,i);return(!isFinite(a)||a<=0)&&o.forEachCorner(r,(function(r){return a=p(e,t,r,i),isFinite(a)&&a>0})),a}function h(e,t,s,p,d,h,f,g,_,m,v,y){var x=a.createCanvasContext2D(Math.round(s*e),Math.round(s*t));if(y||n.assign(x,i.IMAGE_SMOOTHING_DISABLED),0===_.length)return x.canvas;function b(e){return Math.round(e*s)/s}x.scale(s,s),x.globalCompositeOperation="lighter";var w=o.createEmpty();_.forEach((function(e,t,r){o.extend(w,e.extent)}));var R=o.getWidth(w),$=o.getHeight(w),C=a.createCanvasContext2D(Math.round(s*R/p),Math.round(s*$/p));y||n.assign(C,i.IMAGE_SMOOTHING_DISABLED);var S=s/p;_.forEach((function(e,t,r){var i=e.extent[0]-w[0],n=-(e.extent[3]-w[3]),a=o.getWidth(e.extent),s=o.getHeight(e.extent);e.image.width>0&&e.image.height>0&&C.drawImage(e.image,m,m,e.image.width-2*m,e.image.height-2*m,i*S,n*S,a*S,s*S)}));var E=o.getTopLeft(f);return g.getTriangles().forEach((function(e,t,i){var n=e.source,o=e.target,a=n[0][0],d=n[0][1],f=n[1][0],g=n[1][1],_=n[2][0],m=n[2][1],v=b((o[0][0]-E[0])/h),R=b(-(o[0][1]-E[1])/h),$=b((o[1][0]-E[0])/h),S=b(-(o[1][1]-E[1])/h),q=b((o[2][0]-E[0])/h),T=b(-(o[2][1]-E[1])/h),I=a,L=d;a=0,d=0;var A=[[f-=I,g-=L,0,0,$-v],[_-=I,m-=L,0,0,q-v],[0,0,f,g,S-R],[0,0,_,m,T-R]],O=l.solveLinearSystem(A);if(O){if(x.save(),x.beginPath(),function(){if(void 0===r){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",u(e,4,5,4,0),u(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;r=c(t,0)||c(t,4)||c(t,8)}return r}()||!y){x.moveTo($,S);for(var P=v-$,M=R-S,F=0;F<4;F++)x.lineTo($+b((F+1)*P/4),S+b(F*M/3)),3!=F&&x.lineTo($+b((F+1)*P/4),S+b((F+1)*M/3));x.lineTo(q,T)}else x.moveTo($,S),x.lineTo(v,R),x.lineTo(q,T);x.clip(),x.transform(O[0],O[2],O[1],O[3],v,R),x.translate(w[0]-I,w[3]-L),x.scale(p/s,-p/s),x.drawImage(C.canvas,0,0),x.restore()}})),v&&(x.save(),x.globalCompositeOperation="source-over",x.strokeStyle="black",x.lineWidth=1,g.getTriangles().forEach((function(e,t,r){var i=e.target,n=(i[0][0]-E[0])/h,o=-(i[0][1]-E[1])/h,a=(i[1][0]-E[0])/h,s=-(i[1][1]-E[1])/h,l=(i[2][0]-E[0])/h,u=-(i[2][1]-E[1])/h;x.beginPath(),x.moveTo(a,s),x.lineTo(n,o),x.lineTo(l,u),x.closePath(),x.stroke()})),x.restore()),x.canvas}})),parcelRequire.register("bJgzg",(function(e,t){$parcel$export(e.exports,"default",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("5qZl6"),n=parcelRequire("kJINA"),o=parcelRequire("b3vZc"),a=parcelRequire("cR5xV"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function l(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}var u=function(e){function t(t){var r=e.call(this)||this;r.projection=a.get(t.projection),r.attributions_=l(t.attributions),r.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,r.loading=!1,r.state_=void 0!==t.state?t.state:n.default.READY,r.wrapX_=void 0!==t.wrapX&&t.wrapX,r.interpolate_=!!t.interpolate,r.viewResolver=null,r.viewRejector=null;var i=r;return r.viewPromise_=new Promise((function(e,t){i.viewResolver=e,i.viewRejector=t})),r}return s(t,e),t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return o.abstract()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=l(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(i.default)})),parcelRequire.register("yzwKM",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}})),parcelRequire.register("j119T",(function(e,t){function r(e,t){var r=[];Object.keys(t).forEach((function(e){null!==t[e]&&void 0!==t[e]&&r.push(e+"="+encodeURIComponent(t[e]))}));var i=r.join("&");return(e=-1===(e=e.replace(/[?&]$/,"")).indexOf("?")?e+"?":e+"&")+i}$parcel$export(e.exports,"appendParams",(function(){return r}))})),parcelRequire.register("6YHhF",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}),(function(e){return a=e}));var r,i=parcelRequire("7e1bi"),n=parcelRequire("66kSE"),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.createRenderer=function(){return new n.default(this)},t}(i.default)})),parcelRequire.register("7e1bi",(function(e,t){$parcel$export(e.exports,"default",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("khniA"),n=parcelRequire("36UM4"),o=parcelRequire("lOEcB"),a=parcelRequire("fIQfh"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l="renderOrder",u=function(e){function t(t){var r=this,i=t||{},n=o.assign({},i);return delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,(r=e.call(this,n)||this).declutter_=void 0!==i.declutter&&i.declutter,r.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(i.style),r.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,r.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,r}return s(t,e),t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(l)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new($parcel$interopDefault(n))(9)),this.getRenderer().renderDeclutter(e)},t.prototype.setRenderOrder=function(e){this.set(l,e)},t.prototype.setStyle=function(e){this.style_=void 0!==e?e:a.createDefaultStyle,this.styleFunction_=null===e?void 0:a.toFunction(this.style_),this.changed()},t}(i.default)})),parcelRequire.register("36UM4",(function(e,t){!function(t,r){"object"==typeof e.exports?e.exports=r():"function"==typeof define&&define.amd?define(r):(t=t||self).RBush=r()}(e.exports,(function(){function e(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function t(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,r){if(!r)return t.indexOf(e);for(var i=0;i<t.length;i++)if(r(e,t[i]))return i;return-1}function n(e,t){o(e,0,e.children.length,t,e)}function o(e,t,r,i,n){n||(n=h(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o=t;o<r;o++){var s=e.children[o];a(n,e.leaf?i(s):s)}return n}function a(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function s(e,t){return e.minX-t.minX}function l(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function c(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function h(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function f(r,i,n,o,a){for(var s=[i,n];s.length;)if(!((n=s.pop())-(i=s.pop())<=o)){var l=i+Math.ceil((n-i)/o/2)*o;c=a,function t(r,i,n,o,a){for(;o>n;){if(o-n>600){var s=o-n+1,l=i-n+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(r,i,Math.max(n,Math.floor(i-l*c/s+p)),Math.min(o,Math.floor(i+(s-l)*c/s+p)),a)}var d=r[i],h=n,f=o;for(e(r,n,i),a(r[o],d)>0&&e(r,n,o);h<f;){for(e(r,h,f),h++,f--;a(r[h],d)<0;)h++;for(;a(r[f],d)>0;)f--}0===a(r[n],d)?e(r,n,f):e(r,++f,o),f<=i&&(n=f+1),i<=f&&(o=f-1)}}(u=r,l,i||0,n||u.length-1,c||t),s.push(i,l,l,n)}var u,c}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,r=[];if(!d(e,t))return r;for(var i=this.toBBox,n=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?i(a):a;d(e,s)&&(t.leaf?r.push(a):p(e,s)?this._all(a,r):n.push(a))}t=n.pop()}return r},r.prototype.collides=function(e){var t=this.data;if(!d(e,t))return!1;for(var r=[];t;){for(var i=0;i<t.children.length;i++){var n=t.children[i],o=t.leaf?this.toBBox(n):n;if(d(e,o)){if(t.leaf||p(e,o))return!0;r.push(n)}}t=r.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=h([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var r,n,o,a=this.data,s=this.toBBox(e),l=[],u=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],r=u.pop(),o=!0),a.leaf){var c=i(e,a.children,t);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}o||a.leaf||!p(a,s)?n?(r++,a=n.children[r],o=!1):a=null:(l.push(a),u.push(r),r=0,n=a,a=a.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},r.prototype._build=function(e,t,r,i){var o,a=r-t+1,s=this._maxEntries;if(a<=s)return n(o=h(e.slice(t,r+1)),this.toBBox),o;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),(o=h([])).leaf=!1,o.height=i;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));f(e,t,r,u,this.compareMinX);for(var c=t;c<=r;c+=u){var p=Math.min(c+u-1,r);f(e,c,p,l,this.compareMinY);for(var d=c;d<=p;d+=l){var g=Math.min(d+l-1,p);o.children.push(this._build(e,d,g,i-1))}}return n(o,this.toBBox),o},r.prototype._chooseSubtree=function(e,t,r,i){for(;i.push(t),!t.leaf&&i.length-1!==r;){for(var n=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],c=u(l),p=(d=e,h=l,(Math.max(h.maxX,d.maxX)-Math.min(h.minX,d.minX))*(Math.max(h.maxY,d.maxY)-Math.min(h.minY,d.minY))-c);p<o?(o=p,n=c<n?c:n,a=l):p===o&&c<n&&(n=c,a=l)}t=a||t.children[0]}var d,h;return t},r.prototype._insert=function(e,t,r){var i=r?e:this.toBBox(e),n=[],o=this._chooseSubtree(i,this.data,t,n);for(o.children.push(e),a(o,i);t>=0&&n[t].children.length>this._maxEntries;)this._split(n,t),t--;this._adjustParentBBoxes(i,n,t)},r.prototype._split=function(e,t){var r=e[t],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);var a=this._chooseSplitIndex(r,o,i),s=h(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,n(r,this.toBBox),n(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},r.prototype._splitRoot=function(e,t){this.data=h([e,t]),this.data.height=e.height+1,this.data.leaf=!1,n(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,r){for(var i,n,a,s,l,c,p,d=1/0,h=1/0,f=t;f<=r-t;f++){var g=o(e,0,f,this.toBBox),_=o(e,f,r,this.toBBox),m=(n=g,a=_,void 0,void 0,void 0,void 0,s=Math.max(n.minX,a.minX),l=Math.max(n.minY,a.minY),c=Math.min(n.maxX,a.maxX),p=Math.min(n.maxY,a.maxY),Math.max(0,c-s)*Math.max(0,p-l)),v=u(g)+u(_);m<d?(d=m,i=f,h=v<h?v:h):m===d&&v<h&&(h=v,i=f)}return i||r-t},r.prototype._chooseSplitAxis=function(e,t,r){var i=e.leaf?this.compareMinX:s,n=e.leaf?this.compareMinY:l;this._allDistMargin(e,t,r,i)<this._allDistMargin(e,t,r,n)&&e.children.sort(i)},r.prototype._allDistMargin=function(e,t,r,i){e.children.sort(i);for(var n=this.toBBox,s=o(e,0,t,n),l=o(e,r-t,r,n),u=c(s)+c(l),p=t;p<r-t;p++){var d=e.children[p];a(s,e.leaf?n(d):d),u+=c(s)}for(var h=r-t-1;h>=t;h--){var f=e.children[h];a(l,e.leaf?n(f):f),u+=c(l)}return u},r.prototype._adjustParentBBoxes=function(e,t,r){for(var i=r;i>=0;i--)a(t[i],e)},r.prototype._condense=function(e){for(var t=e.length-1,r=void 0;t>=0;t--)0===e[t].children.length?t>0?(r=e[t-1].children).splice(r.indexOf(e[t]),1):this.clear():n(e[t],this.toBBox)},r}))})),parcelRequire.register("66kSE",(function(e,t){$parcel$export(e.exports,"default",(function(){return m}),(function(e){return m=e}));var r,i=parcelRequire("lojEl"),n=parcelRequire("77WDR"),o=parcelRequire("eKRsS"),a=parcelRequire("lXvet"),s=parcelRequire("jhwWb"),l=parcelRequire("lXQa3"),u=parcelRequire("geRS1"),c=parcelRequire("889Bv"),p=parcelRequire("lNieJ"),d=parcelRequire("l89p7"),h=parcelRequire("cR5xV"),f=parcelRequire("b3vZc"),g=parcelRequire("akCpq"),_=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=function(e){function t(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=u.createEmpty(),r.wrappedRenderedExtent_=u.createEmpty(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r}return _(t,e),t.prototype.renderWorlds=function(e,t,r){var i=t.extent,n=t.viewState,o=n.center,s=n.resolution,l=n.projection,c=n.rotation,p=l.getExtent(),d=this.getLayer().getSource(),h=t.pixelRatio,f=t.viewHints,g=!(f[a.default.ANIMATING]||f[a.default.INTERACTING]),_=this.context,m=Math.round(t.size[0]*h),v=Math.round(t.size[1]*h),y=d.getWrapX()&&l.canWrapX(),x=y?u.getWidth(p):null,b=y?Math.ceil((i[2]-p[2])/x)+1:1,w=y?Math.floor((i[0]-p[0])/x):0;do{var R=this.getRenderTransform(o,s,c,h,m,v,w*x);e.execute(_,1,R,c,g,void 0,r)}while(++w<b)},t.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},t.prototype.renderFrame=function(e,t){var r=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];l.makeScale(this.pixelTransform,1/r,1/r),l.makeInverse(this.inversePixelTransform,this.pixelTransform);var n=l.toString(this.pixelTransform);this.useContainer(t,n,i.opacity,this.getBackground(e));var o=this.context,a=o.canvas,s=this.replayGroup_,p=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!p||p.isEmpty()))return null;var d=Math.round(e.size[0]*r),f=Math.round(e.size[1]*r);a.width!=d||a.height!=f?(a.width=d,a.height=f,a.style.transform!==n&&(a.style.transform=n)):this.containerReused||o.clearRect(0,0,d,f),this.preRender(o,e);var g=e.viewState,_=g.projection,m=!1,v=!0;if(i.extent&&this.clipping){var y=h.fromUserExtent(i.extent,_);(m=(v=u.intersects(y,e.extent))&&!u.containsExtent(y,e.extent))&&this.clipUnrotated(o,e,y)}v&&this.renderWorlds(s,e),m&&o.restore(),this.postRender(o,e);var x=c.cssOpacity(i.opacity),b=this.container;return x!==b.style.opacity&&(b.style.opacity=x),this.renderedRotation_!==g.rotation&&(this.renderedRotation_=g.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(t){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var r=[this.context.canvas.width,this.context.canvas.height];l.apply(this.pixelTransform,r);var i=this.renderedCenter_,n=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,c=this.wrappedRenderedExtent_,p=this.getLayer(),d=[],h=r[0]*s.HIT_DETECT_RESOLUTION,f=r[1]*s.HIT_DETECT_RESOLUTION;d.push(this.getRenderTransform(i,n,o,s.HIT_DETECT_RESOLUTION,h,f,0).slice());var g=p.getSource(),_=a.getExtent();if(g.getWrapX()&&a.canWrapX()&&!u.containsExtent(_,c)){for(var m=c[0],v=u.getWidth(_),y=0,x=void 0;m<_[0];)x=v*--y,d.push(this.getRenderTransform(i,n,o,s.HIT_DETECT_RESOLUTION,h,f,x).slice()),m+=v;for(y=0,m=c[2];m>_[2];)x=v*++y,d.push(this.getRenderTransform(i,n,o,s.HIT_DETECT_RESOLUTION,h,f,x).slice()),m-=v}this.hitDetectionImageData_=s.createHitDetectionImageData(r,d,this.renderedFeatures_,p.getStyleFunction(),c,n,o)}t(s.hitDetect(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,i,n){var o=this;if(this.replayGroup_){var a,s=t.viewState.resolution,l=t.viewState.rotation,u=this.getLayer(),c={},p=function(e,t,r){var o=f.getUid(e),a=c[o];if(a){if(!0!==a&&r<a.distanceSq){if(0===r)return c[o]=!0,n.splice(n.lastIndexOf(a),1),i(e,u,t);a.geometry=t,a.distanceSq=r}}else{if(0===r)return c[o]=!0,i(e,u,t);n.push(c[o]={feature:e,layer:u,geometry:t,distanceSq:r,callback:i})}},d=[this.replayGroup_];return this.declutterExecutorGroup&&d.push(this.declutterExecutorGroup),d.some((function(i){return a=i.forEachFeatureAtCoordinate(e,s,l,r,p,i===o.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map((function(e){return e.value})):null)})),a}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource();if(!r)return!1;var n=e.viewHints[a.default.ANIMATING],s=e.viewHints[a.default.INTERACTING],l=t.getUpdateWhileAnimating(),c=t.getUpdateWhileInteracting();if(!this.dirty_&&!l&&n||!c&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var f=e.extent,_=e.viewState,m=_.projection,v=_.resolution,y=e.pixelRatio,x=t.getRevision(),b=t.getRenderBuffer(),w=t.getRenderOrder();void 0===w&&(w=p.defaultOrder);var R=_.center.slice(),$=u.buffer(f,b*v),C=$.slice(),S=[$.slice()],E=m.getExtent();if(r.getWrapX()&&m.canWrapX()&&!u.containsExtent(E,e.extent)){var q=u.getWidth(E),T=Math.max(u.getWidth($)/2,q);$[0]=E[0]-T,$[2]=E[2]+T,g.wrapX(R,m);var I=u.wrapX(S[0],m);I[0]<E[0]&&I[2]<E[2]?S.push([I[0]+q,I[1],I[2]+q,I[3]]):I[0]>E[0]&&I[2]>E[2]&&S.push([I[0]-q,I[1],I[2]-q,I[3]])}if(!this.dirty_&&this.renderedResolution_==v&&this.renderedRevision_==x&&this.renderedRenderOrder_==w&&u.containsExtent(this.wrappedRenderedExtent_,$))return d.equals(this.renderedExtent_,C)||(this.hitDetectionImageData_=null,this.renderedExtent_=C),this.renderedCenter_=R,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var L,A=new i.default(p.getTolerance(v,y),$,v,y);this.getLayer().getDeclutter()&&(L=new i.default(p.getTolerance(v,y),$,v,y));var O,P=h.getUserProjection();if(P){for(var M=0,F=S.length;M<F;++M){var k=S[M],D=h.toUserExtent(k,m);r.loadFeatures(D,h.toUserResolution(v,m),P)}O=h.getTransformFromProjections(P,m)}else for(M=0,F=S.length;M<F;++M)r.loadFeatures(S[M],v,m);var N=p.getSquaredTolerance(v,y),j=function(e){var r,i=e.getStyleFunction()||t.getStyleFunction();if(i&&(r=i(e,v)),r){var n=this.renderFeature(e,N,r,A,O,L);this.dirty_=this.dirty_||n}}.bind(this),G=h.toUserExtent($,m),V=r.getFeaturesInExtent(G);w&&V.sort(w);for(M=0,F=V.length;M<F;++M)j(V[M]);this.renderedFeatures_=V;var U=A.finish(),B=new o.default($,v,y,r.getOverlaps(),U,t.getRenderBuffer());return L&&(this.declutterExecutorGroup=new o.default($,v,y,r.getOverlaps(),L.finish(),t.getRenderBuffer())),this.renderedResolution_=v,this.renderedRevision_=x,this.renderedRenderOrder_=w,this.renderedExtent_=C,this.wrappedRenderedExtent_=$,this.renderedCenter_=R,this.renderedProjection_=m,this.replayGroup_=B,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,t,r,i,n,o){if(!r)return!1;var a=!1;if(Array.isArray(r))for(var s=0,l=r.length;s<l;++s)a=p.renderFeature(i,e,r[s],t,this.boundHandleStyleImageChange_,n,o)||a;else a=p.renderFeature(i,e,r,t,this.boundHandleStyleImageChange_,n,o);return a},t}(n.default)})),parcelRequire.register("lojEl",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}));var r=parcelRequire("5sdYu"),i=parcelRequire("041km"),n=parcelRequire("hL9rs"),o=parcelRequire("xjEkg"),a=parcelRequire("44xSU"),s={Circle:o.default,Default:r.default,Image:i.default,LineString:n.default,Polygon:o.default,Text:a.default},l=function(){function e(e,t,r,i){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return e.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var r=this.buildersByZIndex_[t];for(var i in r){var n=r[i].finish();e[t][i]=n}}return e},e.prototype.getBuilder=function(e,t){var r=void 0!==e?e.toString():"0",i=this.buildersByZIndex_[r];void 0===i&&(i={},this.buildersByZIndex_[r]=i);var n=i[t];void 0===n&&(n=new(0,s[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=n);return n},e}()})),parcelRequire.register("5sdYu",(function(e,t){$parcel$export(e.exports,"default",(function(){return h}),(function(e){return h=e}));var r,i=parcelRequire("3xsRp"),n=parcelRequire("hZjyb"),o=parcelRequire("WMgto"),a=parcelRequire("lFBkz"),s=parcelRequire("iNt2G"),l=parcelRequire("geRS1"),u=parcelRequire("kHyfN"),c=parcelRequire("l89p7"),p=parcelRequire("bmqlx"),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=function(e){function t(t,r,i,n){var o=e.call(this)||this;return o.tolerance=t,o.maxExtent=r,o.pixelRatio=n,o.maxLineWidth=0,o.resolution=i,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return d(t,e),t.prototype.applyPixelRatio=function(e){var t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))},t.prototype.appendFlatPointCoordinates=function(e,t){for(var r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,n=this.coordinates,o=n.length,a=0,s=e.length;a<s;a+=t)i[0]=e[a],i[1]=e[a+1],l.containsCoordinate(r,i)&&(n[o++]=i[0],n[o++]=i[1]);return o},t.prototype.appendFlatLineCoordinates=function(e,t,r,i,n,a){var s=this.coordinates,u=s.length,c=this.getBufferedMaxExtent();a&&(t+=i);var p,d,h,f=e[t],g=e[t+1],_=this.tmpCoordinate_,m=!0;for(p=t+i;p<r;p+=i)_[0]=e[p],_[1]=e[p+1],(h=l.coordinateRelationship(c,_))!==d?(m&&(s[u++]=f,s[u++]=g,m=!1),s[u++]=_[0],s[u++]=_[1]):h===o.default.INTERSECTING?(s[u++]=_[0],s[u++]=_[1],m=!1):m=!0,f=_[0],g=_[1],d=h;return(n&&m||p===t+i)&&(s[u++]=f,s[u++]=g),u},t.prototype.drawCustomCoordinates_=function(e,t,r,i,n){for(var o=0,a=r.length;o<a;++o){var s=r[o],l=this.appendFlatLineCoordinates(e,t,s,i,!1,!1);n.push(l),t=s}return t},t.prototype.drawCustom=function(e,t,r,o){this.beginGeometry(e,t);var a,s,l,u,c,d=e.getType(),h=e.getStride(),f=this.coordinates.length;switch(d){case n.default.MULTI_POLYGON:a=e.getOrientedFlatCoordinates(),u=[];var g=e.getEndss();c=0;for(var _=0,m=g.length;_<m;++_){var v=[];c=this.drawCustomCoordinates_(a,c,g[_],h,v),u.push(v)}this.instructions.push([i.default.CUSTOM,f,u,e,r,p.inflateMultiCoordinatesArray]),this.hitDetectionInstructions.push([i.default.CUSTOM,f,u,e,o||r,p.inflateMultiCoordinatesArray]);break;case n.default.POLYGON:case n.default.MULTI_LINE_STRING:l=[],a=d==n.default.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),c=this.drawCustomCoordinates_(a,0,e.getEnds(),h,l),this.instructions.push([i.default.CUSTOM,f,l,e,r,p.inflateCoordinatesArray]),this.hitDetectionInstructions.push([i.default.CUSTOM,f,l,e,o||r,p.inflateCoordinatesArray]);break;case n.default.LINE_STRING:case n.default.CIRCLE:a=e.getFlatCoordinates(),s=this.appendFlatLineCoordinates(a,0,a.length,h,!1,!1),this.instructions.push([i.default.CUSTOM,f,s,e,r,p.inflateCoordinates]),this.hitDetectionInstructions.push([i.default.CUSTOM,f,s,e,o||r,p.inflateCoordinates]);break;case n.default.MULTI_POINT:a=e.getFlatCoordinates(),(s=this.appendFlatPointCoordinates(a,h))>f&&(this.instructions.push([i.default.CUSTOM,f,s,e,r,p.inflateCoordinates]),this.hitDetectionInstructions.push([i.default.CUSTOM,f,s,e,o||r,p.inflateCoordinates]));break;case n.default.POINT:a=e.getFlatCoordinates(),this.coordinates.push(a[0],a[1]),s=this.coordinates.length,this.instructions.push([i.default.CUSTOM,f,s,e,r]),this.hitDetectionInstructions.push([i.default.CUSTOM,f,s,e,o||r])}this.endGeometry(t)},t.prototype.beginGeometry=function(e,t){this.beginGeometryInstruction1_=[i.default.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[i.default.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e,t=this.hitDetectionInstructions;t.reverse();var r,n,o=t.length,a=-1;for(e=0;e<o;++e)(n=(r=t[e])[0])==i.default.END_GEOMETRY?a=e:n==i.default.BEGIN_GEOMETRY&&(r[2]=e,c.reverseSubArray(this.hitDetectionInstructions,a,e),a=-1)},t.prototype.setFillStrokeStyle=function(e,t){var r=this.state;if(e){var i=e.getColor();r.fillStyle=s.asColorLike(i||u.defaultFillStyle)}else r.fillStyle=void 0;if(t){var n=t.getColor();r.strokeStyle=s.asColorLike(n||u.defaultStrokeStyle);var o=t.getLineCap();r.lineCap=void 0!==o?o:u.defaultLineCap;var a=t.getLineDash();r.lineDash=a?a.slice():u.defaultLineDash;var l=t.getLineDashOffset();r.lineDashOffset=l||u.defaultLineDashOffset;var c=t.getLineJoin();r.lineJoin=void 0!==c?c:u.defaultLineJoin;var p=t.getWidth();r.lineWidth=void 0!==p?p:u.defaultLineWidth;var d=t.getMiterLimit();r.miterLimit=void 0!==d?d:u.defaultMiterLimit,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},t.prototype.createFill=function(e){var t=e.fillStyle,r=[i.default.SET_FILL_STYLE,t];return"string"!=typeof t&&r.push(!0),r},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[i.default.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,t){var r=e.fillStyle;"string"==typeof r&&e.currentFillStyle==r||(void 0!==r&&this.instructions.push(t.call(this,e)),e.currentFillStyle=r)},t.prototype.updateStrokeStyle=function(e,t){var r=e.strokeStyle,i=e.lineCap,n=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,s=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||n!=e.currentLineDash&&!c.equals(e.currentLineDash,n)||e.currentLineDashOffset!=o||e.currentLineJoin!=a||e.currentLineWidth!=s||e.currentMiterLimit!=l)&&(void 0!==r&&t.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=n,e.currentLineDashOffset=o,e.currentLineJoin=a,e.currentLineWidth=s,e.currentMiterLimit=l)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[i.default.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=l.clone(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;l.buffer(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(a.default)})),parcelRequire.register("3xsRp",(function(e,t){$parcel$export(e.exports,"fillInstruction",(function(){return i})),$parcel$export(e.exports,"strokeInstruction",(function(){return n})),$parcel$export(e.exports,"beginPathInstruction",(function(){return o})),$parcel$export(e.exports,"closePathInstruction",(function(){return a})),$parcel$export(e.exports,"default",(function(){return s}));var r={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},i=[r.FILL],n=[r.STROKE],o=[r.BEGIN_PATH],a=[r.CLOSE_PATH],s=r})),parcelRequire.register("lFBkz",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r=function(){function e(){}return e.prototype.drawCustom=function(e,t,r,i){},e.prototype.drawGeometry=function(e){},e.prototype.setStyle=function(e){},e.prototype.drawCircle=function(e,t){},e.prototype.drawFeature=function(e,t){},e.prototype.drawGeometryCollection=function(e,t){},e.prototype.drawLineString=function(e,t){},e.prototype.drawMultiLineString=function(e,t){},e.prototype.drawMultiPoint=function(e,t){},e.prototype.drawMultiPolygon=function(e,t){},e.prototype.drawPoint=function(e,t){},e.prototype.drawPolygon=function(e,t){},e.prototype.drawText=function(e,t){},e.prototype.setFillStrokeStyle=function(e,t){},e.prototype.setImageStyle=function(e,t){},e.prototype.setTextStyle=function(e,t){},e}()})),parcelRequire.register("bmqlx",(function(e,t){function r(e,t,r,i,n){for(var o=void 0!==n?n:[],a=0,s=t;s<r;s+=i)o[a++]=e.slice(s,s+i);return o.length=a,o}function i(e,t,i,n,o){for(var a=void 0!==o?o:[],s=0,l=0,u=i.length;l<u;++l){var c=i[l];a[s++]=r(e,t,c,n,a[s]),t=c}return a.length=s,a}function n(e,t,r,n,o){for(var a=void 0!==o?o:[],s=0,l=0,u=r.length;l<u;++l){var c=r[l];a[s++]=i(e,t,c,n,a[s]),t=c[c.length-1]}return a.length=s,a}$parcel$export(e.exports,"inflateCoordinates",(function(){return r})),$parcel$export(e.exports,"inflateCoordinatesArray",(function(){return i})),$parcel$export(e.exports,"inflateMultiCoordinatesArray",(function(){return n}))})),parcelRequire.register("041km",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}),(function(e){return a=e}));var r,i=parcelRequire("5sdYu"),n=parcelRequire("3xsRp"),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=function(e){function t(t,r,i,n){var o=e.call(this,t,r,i,n)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return o(t,e),t.prototype.drawPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var r=e.getFlatCoordinates(),i=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,i);this.instructions.push([n.default.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([n.default.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(t)}},t.prototype.drawMultiPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var r=e.getFlatCoordinates(),i=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,i);this.instructions.push([n.default.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([n.default.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(t)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,t){var r=e.getAnchor(),i=e.getSize(),n=e.getHitDetectionImage(),o=e.getImage(this.pixelRatio),a=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=n,this.image_=o,this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=a[0]*this.imagePixelRatio_,this.originY_=a[1]*this.imagePixelRatio_,this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=t},t}(i.default)})),parcelRequire.register("hL9rs",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}),(function(e){return s=e}));var r,i=parcelRequire("5sdYu"),n=parcelRequire("3xsRp"),o=parcelRequire("kHyfN"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=function(e){function t(t,r,i,n){return e.call(this,t,r,i,n)||this}return a(t,e),t.prototype.drawFlatCoordinates_=function(e,t,r,i){var o=this.coordinates.length,a=this.appendFlatLineCoordinates(e,t,r,i,!1,!1),s=[n.default.MOVE_TO_LINE_TO,o,a];return this.instructions.push(s),this.hitDetectionInstructions.push(s),r},t.prototype.drawLineString=function(e,t){var r=this.state,i=r.strokeStyle,a=r.lineWidth;if(void 0!==i&&void 0!==a){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,o.defaultLineDash,o.defaultLineDashOffset],n.beginPathInstruction);var s=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(s,0,s.length,l),this.hitDetectionInstructions.push(n.strokeInstruction),this.endGeometry(t)}},t.prototype.drawMultiLineString=function(e,t){var r=this.state,i=r.strokeStyle,o=r.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],n.beginPathInstruction);for(var a=e.getEnds(),s=e.getFlatCoordinates(),l=e.getStride(),u=0,c=0,p=a.length;c<p;++c)u=this.drawFlatCoordinates_(s,u,a[c],l);this.hitDetectionInstructions.push(n.strokeInstruction),this.endGeometry(t)}},t.prototype.finish=function(){var t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(n.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},t.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(n.strokeInstruction),t.lastStroke=this.coordinates.length),t.lastStroke=0,e.prototype.applyStroke.call(this,t),this.instructions.push(n.beginPathInstruction)},t}(i.default)})),parcelRequire.register("xjEkg",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}),(function(e){return l=e}));var r,i=parcelRequire("5sdYu"),n=parcelRequire("3xsRp"),o=parcelRequire("kHyfN"),a=parcelRequire("81TzX"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l=function(e){function t(t,r,i,n){return e.call(this,t,r,i,n)||this}return s(t,e),t.prototype.drawFlatCoordinatess_=function(e,t,r,i){var o=this.state,a=void 0!==o.fillStyle,s=void 0!==o.strokeStyle,l=r.length;this.instructions.push(n.beginPathInstruction),this.hitDetectionInstructions.push(n.beginPathInstruction);for(var u=0;u<l;++u){var c=r[u],p=this.coordinates.length,d=this.appendFlatLineCoordinates(e,t,c,i,!0,!s),h=[n.default.MOVE_TO_LINE_TO,p,d];this.instructions.push(h),this.hitDetectionInstructions.push(h),s&&(this.instructions.push(n.closePathInstruction),this.hitDetectionInstructions.push(n.closePathInstruction)),t=c}return a&&(this.instructions.push(n.fillInstruction),this.hitDetectionInstructions.push(n.fillInstruction)),s&&(this.instructions.push(n.strokeInstruction),this.hitDetectionInstructions.push(n.strokeInstruction)),t},t.prototype.drawCircle=function(e,t){var r=this.state,i=r.fillStyle,a=r.strokeStyle;if(void 0!==i||void 0!==a){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([n.default.SET_FILL_STYLE,o.defaultFillStyle]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var s=e.getFlatCoordinates(),l=e.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,l,!1,!1);var c=[n.default.CIRCLE,u];this.instructions.push(n.beginPathInstruction,c),this.hitDetectionInstructions.push(n.beginPathInstruction,c),void 0!==r.fillStyle&&(this.instructions.push(n.fillInstruction),this.hitDetectionInstructions.push(n.fillInstruction)),void 0!==r.strokeStyle&&(this.instructions.push(n.strokeInstruction),this.hitDetectionInstructions.push(n.strokeInstruction)),this.endGeometry(t)}},t.prototype.drawPolygon=function(e,t){var r=this.state,i=r.fillStyle,a=r.strokeStyle;if(void 0!==i||void 0!==a){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([n.default.SET_FILL_STYLE,o.defaultFillStyle]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var s=e.getEnds(),l=e.getOrientedFlatCoordinates(),u=e.getStride();this.drawFlatCoordinatess_(l,0,s,u),this.endGeometry(t)}},t.prototype.drawMultiPolygon=function(e,t){var r=this.state,i=r.fillStyle,a=r.strokeStyle;if(void 0!==i||void 0!==a){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([n.default.SET_FILL_STYLE,o.defaultFillStyle]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var s=e.getEndss(),l=e.getOrientedFlatCoordinates(),u=e.getStride(),c=0,p=0,d=s.length;p<d;++p)c=this.drawFlatCoordinatess_(l,c,s[p],u);this.endGeometry(t)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var r=this.coordinates,i=0,n=r.length;i<n;++i)r[i]=a.snap(r[i],t);return e.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},t}(i.default)})),parcelRequire.register("81TzX",(function(e,t){$parcel$export(e.exports,"douglasPeucker",(function(){return i})),$parcel$export(e.exports,"douglasPeuckerArray",(function(){return n})),$parcel$export(e.exports,"snap",(function(){return o})),$parcel$export(e.exports,"quantizeArray",(function(){return s})),$parcel$export(e.exports,"quantizeMultiArray",(function(){return l}));var r=parcelRequire("8GG6h");function i(e,t,i,n,o,a,s){var l=(i-t)/n;if(l<3){for(;t<i;t+=n)a[s++]=e[t],a[s++]=e[t+1];return s}var u=new Array(l);u[0]=1,u[l-1]=1;for(var c=[t,i-n],p=0;c.length>0;){for(var d=c.pop(),h=c.pop(),f=0,g=e[h],_=e[h+1],m=e[d],v=e[d+1],y=h+n;y<d;y+=n){var x=e[y],b=e[y+1],w=r.squaredSegmentDistance(x,b,g,_,m,v);w>f&&(p=y,f=w)}f>o&&(u[(p-t)/n]=1,h+n<p&&c.push(h,p),p+n<d&&c.push(p,d))}for(y=0;y<l;++y)u[y]&&(a[s++]=e[t+y*n],a[s++]=e[t+y*n+1]);return s}function n(e,t,r,n,o,a,s,l){for(var u=0,c=r.length;u<c;++u){var p=r[u];s=i(e,t,p,n,o,a,s),l.push(s),t=p}return s}function o(e,t){return t*Math.round(e/t)}function a(e,t,r,i,n,a,s){if(t==r)return s;var l,u,c=o(e[t],n),p=o(e[t+1],n);t+=i,a[s++]=c,a[s++]=p;do{if(l=o(e[t],n),u=o(e[t+1],n),(t+=i)==r)return a[s++]=l,a[s++]=u,s}while(l==c&&u==p);for(;t<r;){var d=o(e[t],n),h=o(e[t+1],n);if(t+=i,d!=l||h!=u){var f=l-c,g=u-p,_=d-c,m=h-p;f*m==g*_&&(f<0&&_<f||f==_||f>0&&_>f)&&(g<0&&m<g||g==m||g>0&&m>g)?(l=d,u=h):(a[s++]=l,a[s++]=u,c=l,p=u,l=d,u=h)}}return a[s++]=l,a[s++]=u,s}function s(e,t,r,i,n,o,s,l){for(var u=0,c=r.length;u<c;++u){var p=r[u];s=a(e,t,p,i,n,o,s),l.push(s),t=p}return s}function l(e,t,r,i,n,o,a,l){for(var u=0,c=r.length;u<c;++u){var p=r[u],d=[];a=s(e,t,p,i,n,o,a,d),l.push(d),t=p[p.length-1]}return a}})),parcelRequire.register("44xSU",(function(e,t){$parcel$export(e.exports,"TEXT_ALIGN",(function(){return h}),(function(e){return h=e})),$parcel$export(e.exports,"default",(function(){return f}),(function(e){return f=e}));var r,i=parcelRequire("5sdYu"),n=parcelRequire("3xsRp"),o=parcelRequire("hZjyb"),a=parcelRequire("lgFTB"),s=parcelRequire("iNt2G"),l=parcelRequire("kHyfN"),u=parcelRequire("b3vZc"),c=parcelRequire("geRS1"),p=parcelRequire("fQpk7"),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},f=function(e){function t(t,r,i,n){var o=e.call(this,t,r,i,n)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return d(t,e),t.prototype.finish=function(){var t=e.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},t.prototype.drawText=function(e,t){var r=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(""!==this.text_&&s&&(r||i)){var u=this.coordinates,d=u.length,h=e.getType(),f=null,g=e.getStride();if(s.placement!==a.default.LINE||h!=o.default.LINE_STRING&&h!=o.default.MULTI_LINE_STRING&&h!=o.default.POLYGON&&h!=o.default.MULTI_POLYGON){var _=s.overflow?null:[];switch(h){case o.default.POINT:case o.default.MULTI_POINT:f=e.getFlatCoordinates();break;case o.default.LINE_STRING:f=e.getFlatMidpoint();break;case o.default.CIRCLE:f=e.getCenter();break;case o.default.MULTI_LINE_STRING:f=e.getFlatMidpoints(),g=2;break;case o.default.POLYGON:f=e.getFlatInteriorPoint(),s.overflow||_.push(f[2]/this.resolution),g=3;break;case o.default.MULTI_POLYGON:var m=e.getFlatInteriorPoints();f=[];for(q=0,T=m.length;q<T;q+=3)s.overflow||_.push(m[q+2]/this.resolution),f.push(m[q],m[q+1]);if(0===f.length)return;g=2}if((F=this.appendFlatPointCoordinates(f,g))===d)return;if(_&&(F-d)/2!=f.length/g){var v=d/2;_=_.filter((function(e,t){var r=u[2*(v+t)]===f[t*g]&&u[2*(v+t)+1]===f[t*g+1];return r||--v,r}))}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);var y=s.padding;if(y!=l.defaultPadding&&(s.scale[0]<0||s.scale[1]<0)){var x=s.padding[0],b=s.padding[1],w=s.padding[2],R=s.padding[3];s.scale[0]<0&&(b=-b,R=-R),s.scale[1]<0&&(x=-x,w=-w),y=[x,b,w,R]}var $=this.pixelRatio;this.instructions.push([n.default.DRAW_IMAGE,d,F,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,y==l.defaultPadding?l.defaultPadding:y.map((function(e){return e*$})),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]);var C=1/$;this.hitDetectionInstructions.push([n.default.DRAW_IMAGE,d,F,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[C,C],NaN,this.declutterImageWithText_,y,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]),this.endGeometry(t)}else{if(!c.intersects(this.getBufferedMaxExtent(),e.getExtent()))return;var S=void 0;if(f=e.getFlatCoordinates(),h==o.default.LINE_STRING)S=[f.length];else if(h==o.default.MULTI_LINE_STRING)S=e.getEnds();else if(h==o.default.POLYGON)S=e.getEnds().slice(0,1);else if(h==o.default.MULTI_POLYGON){var E=e.getEndss();S=[];for(var q=0,T=E.length;q<T;++q)S.push(E[q][0])}this.beginGeometry(e,t);for(var I=s.textAlign,L=0,A=void 0,O=0,P=S.length;O<P;++O){if(null==I){var M=p.matchingChunk(s.maxAngle,f,L,S[O],g);L=M[0],A=M[1]}else A=S[O];for(var q=L;q<A;q+=g)u.push(f[q],f[q+1]);var F=u.length;L=S[O],this.drawChars_(d,F),d=F}this.endGeometry(t)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,t=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var n=this.textKey_;n in this.textStates||(this.textStates[n]={font:t.font,textAlign:t.textAlign||l.defaultTextAlign,textBaseline:t.textBaseline||l.defaultTextBaseline,scale:t.scale});var o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))},t.prototype.drawChars_=function(e,t){var r=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,u=h[i.textBaseline],c=this.textOffsetY_*l,p=this.text_,d=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([n.default.DRAW_CHARS,e,t,u,i.overflow,s,i.maxAngle,l,c,o,d*l,p,a,1]),this.hitDetectionInstructions.push([n.default.DRAW_CHARS,e,t,u,i.overflow,s,i.maxAngle,1,c,o,d,p,a,1/l])},t.prototype.setTextStyle=function(e,t){var r,i,n;if(e){var o=e.getFill();o?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=s.asColorLike(o.getColor()||l.defaultFillStyle)):(i=null,this.textFillState_=i);var a=e.getStroke();if(a){(n=this.textStrokeState_)||(n={},this.textStrokeState_=n);var c=a.getLineDash(),p=a.getLineDashOffset(),d=a.getWidth(),h=a.getMiterLimit();n.lineCap=a.getLineCap()||l.defaultLineCap,n.lineDash=c?c.slice():l.defaultLineDash,n.lineDashOffset=void 0===p?l.defaultLineDashOffset:p,n.lineJoin=a.getLineJoin()||l.defaultLineJoin,n.lineWidth=void 0===d?l.defaultLineWidth:d,n.miterLimit=void 0===h?l.defaultMiterLimit:h,n.strokeStyle=s.asColorLike(a.getColor()||l.defaultStrokeStyle)}else n=null,this.textStrokeState_=n;r=this.textState_;var f=e.getFont()||l.defaultFont;l.registerFont(f);var g=e.getScaleArray();r.overflow=e.getOverflow(),r.font=f,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.textBaseline=e.getTextBaseline()||l.defaultTextBaseline,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||l.defaultPadding,r.scale=void 0===g?[1,1]:g;var _=e.getOffsetX(),m=e.getOffsetY(),v=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===_?0:_,this.textOffsetY_=void 0===m?0:m,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===y?0:y,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:u.getUid(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+u.getUid(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=t},t}(i.default)})),parcelRequire.register("fQpk7",(function(e,t){function r(e,t,r,i,n){var o,a,s,l,u,c,p,d,h,f=r,g=r,_=0,m=0,v=r;for(o=r;o<i;o+=n){var y=t[o],x=t[o+1];void 0!==l&&(d=y-l,h=x-u,s=Math.sqrt(d*d+h*h),void 0!==c&&(m+=a,Math.acos((c*d+p*h)/(a*s))>e&&(m>_&&(_=m,f=v,g=o),m=0,v=o-n)),a=s,c=d,p=h),l=y,u=x}return(m+=s)>_?[v,o]:[f,g]}$parcel$export(e.exports,"matchingChunk",(function(){return r}))})),parcelRequire.register("eKRsS",(function(e,t){$parcel$export(e.exports,"default",(function(){return h}));var r=parcelRequire("2b3EF"),i=parcelRequire("h3HKN"),n=parcelRequire("geRS1"),o=parcelRequire("lXQa3"),a=parcelRequire("1Rvcq"),s=parcelRequire("lOEcB"),l=parcelRequire("l89p7"),u=parcelRequire("ewhvZ"),c=[r.default.POLYGON,r.default.CIRCLE,r.default.LINE_STRING,r.default.IMAGE,r.default.TEXT,r.default.DEFAULT],p=function(){function e(e,t,r,i,n,a){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=o.create(),this.createExecutors_(n)}return e.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},e.prototype.createExecutors_=function(e){for(var t in e){var r=this.executorsByZIndex_[t];void 0===r&&(r={},this.executorsByZIndex_[t]=r);var n=e[t];for(var o in n){var a=n[o];r[o]=new i.default(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},e.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],i=0,n=e.length;i<n;++i)if(e[i]in r)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(e,t,i,s,u,p){var h=2*(s=Math.round(s))+1,f=o.compose(this.hitDetectionTransform_,s+.5,s+.5,1/t,-1/t,-i,-e[0],-e[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=a.createCanvasContext2D(h,h));var _,m=this.hitDetectionContext_;m.canvas.width!==h||m.canvas.height!==h?(m.canvas.width=h,m.canvas.height=h):g||m.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(_=n.createEmpty(),n.extendCoordinate(_,e),n.buffer(_,t*(this.renderBuffer_+s),_));var v,y=function(e){if(void 0!==d[e])return d[e];for(var t=2*e+1,r=e*e,i=new Array(r+1),n=0;n<=e;++n)for(var o=0;o<=e;++o){var a=n*n+o*o;if(a>r)break;var s=i[a];s||(s=[],i[a]=s),s.push(4*((e+n)*t+(e+o))+3),n>0&&s.push(4*((e-n)*t+(e+o))+3),o>0&&(s.push(4*((e+n)*t+(e-o))+3),n>0&&s.push(4*((e-n)*t+(e-o))+3))}for(var l=[],u=(n=0,i.length);n<u;++n)i[n]&&l.push.apply(l,i[n]);return d[e]=l,l}(s);function x(e,t){for(var i=m.getImageData(0,0,h,h).data,n=0,o=y.length;n<o;n++)if(i[y[n]]>0){if(!p||v!==r.default.IMAGE&&v!==r.default.TEXT||-1!==p.indexOf(e)){var a=(y[n]-3)/4,l=s-a%h,c=s-(a/h|0),d=u(e,t,l*l+c*c);if(d)return d}m.clearRect(0,0,h,h);break}}var b,w,R,$,C,S=Object.keys(this.executorsByZIndex_).map(Number);for(S.sort(l.numberSafeCompareFunction),b=S.length-1;b>=0;--b){var E=S[b].toString();for(R=this.executorsByZIndex_[E],w=c.length-1;w>=0;--w)if(void 0!==($=R[v=c[w]])&&(C=$.executeHitDetection(m,f,i,x,_)))return C}},e.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var r=t[0],i=t[1],n=t[2],o=t[3],a=[r,i,r,o,n,o,n,i];return u.transform2D(a,0,8,2,e,a),a},e.prototype.isEmpty=function(){return s.isEmpty(this.executorsByZIndex_)},e.prototype.execute=function(e,t,r,i,n,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(l.numberSafeCompareFunction),this.maxExtent_&&(e.save(),this.clip(e,r));var u,p,d,h,f,g,_=o||c;for(a&&s.reverse(),u=0,p=s.length;u<p;++u){var m=s[u].toString();for(f=this.executorsByZIndex_[m],d=0,h=_.length;d<h;++d){void 0!==(g=f[_[d]])&&g.execute(e,t,r,i,n,a)}}this.maxExtent_&&e.restore()},e}(),d={};var h=p})),parcelRequire.register("2b3EF",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}})),parcelRequire.register("h3HKN",(function(e,t){$parcel$export(e.exports,"default",(function(){return x}));var r=parcelRequire("3xsRp"),i=parcelRequire("44xSU"),n=parcelRequire("anhQL"),o=parcelRequire("lXQa3"),a=parcelRequire("geRS1"),s=parcelRequire("kHyfN"),l=(s=parcelRequire("kHyfN"),parcelRequire("6QXpZ")),u=parcelRequire("l89p7"),c=parcelRequire("4njx6"),p=parcelRequire("ewhvZ"),d=a.createEmpty(),h=[],f=[],g=[],_=[];function m(e){return e[3].declutterBox}var v=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function y(e,t){return"start"!==t&&"end"!==t||v.test(e)||(t="start"===t?"left":"right"),i.TEXT_ALIGN[t]}var x=function(){function e(e,t,r,i){this.overlaps=r,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=o.create(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return e.prototype.createLabel=function(e,t,r,i){var o=e+t+r+i;if(this.labels_[o])return this.labels_[o];var a=i?this.strokeStates[i]:null,l=r?this.fillStates[r]:null,u=this.textStates[t],c=this.pixelRatio,p=[u.scale[0]*c,u.scale[1]*c],d=y(e,u.textAlign||s.defaultTextAlign),h=i&&a.lineWidth?a.lineWidth:0,f=e.split("\n"),g=f.length,_=[],m=s.measureTextWidths(u.font,f,_),v=s.measureTextHeight(u.font),x=m+h,b=[],w=(x+2)*p[0],R=(v*g+h)*p[1],$={width:w<0?Math.floor(w):Math.ceil(w),height:R<0?Math.floor(R):Math.ceil(R),contextInstructions:b};(1==p[0]&&1==p[1]||b.push("scale",p),b.push("font",u.font),i)&&(b.push("strokeStyle",a.strokeStyle),b.push("lineWidth",h),b.push("lineCap",a.lineCap),b.push("lineJoin",a.lineJoin),b.push("miterLimit",a.miterLimit),(n.WORKER_OFFSCREEN_CANVAS?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(b.push("setLineDash",[a.lineDash]),b.push("lineDashOffset",a.lineDashOffset)));r&&b.push("fillStyle",l.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");var C,S=.5-d,E=d*x+S*h;if(i)for(C=0;C<g;++C)b.push("strokeText",[f[C],E+S*_[C],.5*(h+v)+C*v]);if(r)for(C=0;C<g;++C)b.push("fillText",[f[C],E+S*_[C],.5*(h+v)+C*v]);return this.labels_[o]=$,$},e.prototype.replayTextBackground_=function(e,t,r,i,n,o,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,n),e.lineTo.apply(e,t),o&&(this.alignFill_=o[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())},e.prototype.calculateImageOrLabelDimensions_=function(e,t,r,i,n,s,l,u,c,p,m,v,y,x,b,w){var R,$=r-(l*=v[0]),C=i-(u*=v[1]),S=n+c>e?e-c:n,E=s+p>t?t-p:s,q=x[3]+S*v[0]+x[1],T=x[0]+E*v[1]+x[2],I=$-x[3],L=C-x[0];return(b||0!==m)&&(h[0]=I,_[0]=I,h[1]=L,f[1]=L,f[0]=I+q,g[0]=f[0],g[1]=L+T,_[1]=g[1]),0!==m?(R=o.compose(o.create(),r,i,1,1,m,-r,-i),o.apply(R,h),o.apply(R,f),o.apply(R,g),o.apply(R,_),a.createOrUpdate(Math.min(h[0],f[0],g[0],_[0]),Math.min(h[1],f[1],g[1],_[1]),Math.max(h[0],f[0],g[0],_[0]),Math.max(h[1],f[1],g[1],_[1]),d)):a.createOrUpdate(Math.min(I,I+q),Math.min(L,L+T),Math.max(I,I+q),Math.max(L,L+T),d),y&&($=Math.round($),C=Math.round(C)),{drawImageX:$,drawImageY:C,drawImageW:S,drawImageH:E,originX:c,originY:p,declutterBox:{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3],value:w},canvasTransform:R,scale:v}},e.prototype.replayImageOrLabel_=function(e,t,r,i,n,o,a){var l=!(!o&&!a),u=i.declutterBox,c=e.canvas,p=a?a[2]*i.scale[0]/2:0;return u.minX-p<=c.width/t&&u.maxX+p>=0&&u.minY-p<=c.height/t&&u.maxY+p>=0&&(l&&this.replayTextBackground_(e,h,f,g,_,o,a),s.drawImageOrLabel(e,i.canvasTransform,n,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},e.prototype.fill_=function(e){if(this.alignFill_){var t=o.apply(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(t[0]%r,t[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},e.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},e.prototype.drawLabelWithPointPlacement_=function(e,t,r,n){var o=this.textStates[t],a=this.createLabel(e,t,n,r),l=this.strokeStates[r],u=this.pixelRatio,c=y(e,o.textAlign||s.defaultTextAlign),p=i.TEXT_ALIGN[o.textBaseline||s.defaultTextBaseline],d=l&&l.lineWidth?l.lineWidth:0;return{label:a,anchorX:c*(a.width/u-2*o.scale[0])+2*(.5-c)*d,anchorY:p*a.height/u+2*(.5-p)*d}},e.prototype.execute_=function(e,t,n,d,h,f,g,_){var v;this.pixelCoordinates_&&u.equals(n,this.renderedTransform_)?v=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),v=p.transform2D(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),o.setFromArray(this.renderedTransform_,n));for(var y,x,b,w,R,$,C,S,E,q,T,I,L,A,O,P,M=0,F=d.length,k=0,D=0,N=0,j=null,G=null,V=this.coordinateCache_,U=this.viewRotation_,B=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,W={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:U},Y=this.instructions!=d||this.overlaps?0:200;M<F;){var X=d[M];switch(X[0]){case r.default.BEGIN_GEOMETRY:L=X[1],P=X[3],L.getGeometry()?void 0===g||a.intersects(g,P.getExtent())?++M:M=X[2]+1:M=X[2];break;case r.default.BEGIN_PATH:D>Y&&(this.fill_(e),D=0),N>Y&&(e.stroke(),N=0),D||N||(e.beginPath(),w=NaN,R=NaN),++M;break;case r.default.CIRCLE:var K=v[k=X[1]],z=v[k+1],H=v[k+2]-K,Z=v[k+3]-z,J=Math.sqrt(H*H+Z*Z);e.moveTo(K+J,z),e.arc(K,z,J,0,2*Math.PI,!0),++M;break;case r.default.CLOSE_PATH:e.closePath(),++M;break;case r.default.CUSTOM:k=X[1],y=X[2];var Q=X[3],ee=X[4],te=6==X.length?X[5]:void 0;W.geometry=Q,W.feature=L,M in V||(V[M]=[]);var re=V[M];te?te(v,k,y,2,re):(re[0]=v[k],re[1]=v[k+1],re.length=2),ee(re,W),++M;break;case r.default.DRAW_IMAGE:k=X[1],y=X[2],S=X[3],x=X[4],b=X[5];var ie=X[6],ne=X[7],oe=X[8],ae=X[9],se=X[10],le=X[11],ue=X[12],ce=X[13],pe=X[14];if(!S&&X.length>=19){E=X[18],q=X[19],T=X[20],I=X[21];var de=this.drawLabelWithPointPlacement_(E,q,T,I);S=de.label,X[3]=S;var he=X[22];x=(de.anchorX-he)*this.pixelRatio,X[4]=x;var fe=X[23];b=(de.anchorY-fe)*this.pixelRatio,X[5]=b,ie=S.height,X[6]=ie,ce=S.width,X[13]=ce}var ge=void 0;X.length>24&&(ge=X[24]);var _e=void 0,me=void 0,ve=void 0;X.length>16?(_e=X[15],me=X[16],ve=X[17]):(_e=s.defaultPadding,me=!1,ve=!1),se&&B?le+=U:se||B||(le-=U);for(var ye=0;k<y;k+=2)if(!(ge&&ge[ye++]<ce/this.pixelRatio)){var xe=[e,t,S,Ke=this.calculateImageOrLabelDimensions_(S.width,S.height,v[k],v[k+1],ce,ie,x,b,oe,ae,le,ue,h,_e,me||ve,L),ne,me?j:null,ve?G:null],be=void 0,we=void 0;if(_&&pe){var Re=y-k;if(!pe[Re]){pe[Re]=xe;continue}if(be=pe[Re],delete pe[Re],we=m(be),_.collides(we))continue}_&&_.collides(Ke.declutterBox)||(be&&(_&&_.insert(we),this.replayImageOrLabel_.apply(this,be)),_&&_.insert(Ke.declutterBox),this.replayImageOrLabel_.apply(this,xe))}++M;break;case r.default.DRAW_CHARS:var $e=X[1],Ce=X[2],Se=X[3],Ee=X[4];I=X[5];var qe=X[6],Te=X[7],Ie=X[8];T=X[9];var Le=X[10];E=X[11],q=X[12];var Ae=[X[13],X[13]],Oe=this.textStates[q],Pe=Oe.font,Me=[Oe.scale[0]*Te,Oe.scale[1]*Te],Fe=void 0;Pe in this.widths_?Fe=this.widths_[Pe]:(Fe={},this.widths_[Pe]=Fe);var ke=c.lineStringLength(v,$e,Ce,2),De=Math.abs(Me[0])*s.measureAndCacheTextWidth(Pe,E,Fe);if(Ee||De<=ke){var Ne=this.textStates[q].textAlign,je=(ke-De)*i.TEXT_ALIGN[Ne],Ge=l.drawTextOnPath(v,$e,Ce,2,E,je,qe,Math.abs(Me[0]),s.measureAndCacheTextWidth,Pe,Fe,B?0:this.viewRotation_);e:if(Ge){var Ve=[],Ue=void 0,Be=void 0,We=void 0,Ye=void 0,Xe=void 0;if(T)for(Ue=0,Be=Ge.length;Ue<Be;++Ue){We=(Xe=Ge[Ue])[4],Ye=this.createLabel(We,q,"",T),x=Xe[2]+(Me[0]<0?-Le:Le),b=Se*Ye.height+2*(.5-Se)*Le*Me[1]/Me[0]-Ie;var Ke=this.calculateImageOrLabelDimensions_(Ye.width,Ye.height,Xe[0],Xe[1],Ye.width,Ye.height,x,b,0,0,Xe[3],Ae,!1,s.defaultPadding,!1,L);if(_&&_.collides(Ke.declutterBox))break e;Ve.push([e,t,Ye,Ke,1,null,null])}if(I)for(Ue=0,Be=Ge.length;Ue<Be;++Ue){We=(Xe=Ge[Ue])[4],Ye=this.createLabel(We,q,I,""),x=Xe[2],b=Se*Ye.height-Ie;Ke=this.calculateImageOrLabelDimensions_(Ye.width,Ye.height,Xe[0],Xe[1],Ye.width,Ye.height,x,b,0,0,Xe[3],Ae,!1,s.defaultPadding,!1,L);if(_&&_.collides(Ke.declutterBox))break e;Ve.push([e,t,Ye,Ke,1,null,null])}_&&_.load(Ve.map(m));for(var ze=0,He=Ve.length;ze<He;++ze)this.replayImageOrLabel_.apply(this,Ve[ze])}}++M;break;case r.default.END_GEOMETRY:if(void 0!==f){var Ze=f(L=X[1],P);if(Ze)return Ze}++M;break;case r.default.FILL:Y?D++:this.fill_(e),++M;break;case r.default.MOVE_TO_LINE_TO:for(k=X[1],y=X[2],A=v[k],C=(O=v[k+1])+.5|0,($=A+.5|0)===w&&C===R||(e.moveTo(A,O),w=$,R=C),k+=2;k<y;k+=2)$=(A=v[k])+.5|0,C=(O=v[k+1])+.5|0,k!=y-2&&$===w&&C===R||(e.lineTo(A,O),w=$,R=C);++M;break;case r.default.SET_FILL_STYLE:j=X,this.alignFill_=X[2],D&&(this.fill_(e),D=0,N&&(e.stroke(),N=0)),e.fillStyle=X[1],++M;break;case r.default.SET_STROKE_STYLE:G=X,N&&(e.stroke(),N=0),this.setStrokeStyle_(e,X),++M;break;case r.default.STROKE:Y?N++:e.stroke(),++M;break;default:++M}}D&&this.fill_(e),N&&e.stroke()},e.prototype.execute=function(e,t,r,i,n,o){this.viewRotation_=i,this.execute_(e,t,r,this.instructions,n,void 0,void 0,o)},e.prototype.executeHitDetection=function(e,t,r,i,n){return this.viewRotation_=r,this.execute_(e,1,t,this.hitDetectionInstructions,!0,i,n)},e}()})),parcelRequire.register("6QXpZ",(function(e,t){$parcel$export(e.exports,"drawTextOnPath",(function(){return n}));var r=parcelRequire("8GG6h"),i=parcelRequire("ewhvZ");function n(e,t,n,o,a,s,l,u,c,p,d,h){var f=e[t],g=e[t+1],_=0,m=0,v=0,y=0;function x(){_=f,m=g,f=e[t+=o],g=e[t+1],y+=v,v=Math.sqrt((f-_)*(f-_)+(g-m)*(g-m))}do{x()}while(t<n-o&&y+v<s);for(var b=0===v?0:(s-y)/v,w=r.lerp(_,f,b),R=r.lerp(m,g,b),$=t-o,C=y,S=s+u*c(p,a,d);t<n-o&&y+v<S;)x();b=0===v?0:(S-y)/v;var E,q=r.lerp(_,f,b),T=r.lerp(m,g,b);if(h){var I=[w,R,q,T];i.rotate(I,0,4,2,h,I,I),E=I[0]>I[2]}else E=w>q;var L,A=Math.PI,O=[],P=$+o===t;if(v=0,y=C,f=e[t=$],g=e[t+1],P){x(),L=Math.atan2(g-m,f-_),E&&(L+=L>0?-A:A);var M=(q+w)/2,F=(T+R)/2;return O[0]=[M,F,(S-s)/2,L,a],O}for(var k=0,D=a.length;k<D;){x();var N=Math.atan2(g-m,f-_);if(E&&(N+=N>0?-A:A),void 0!==L){var j=N-L;if(j+=j>A?-2*A:j<-A?2*A:0,Math.abs(j)>l)return null}L=N;for(var G=k,V=0;k<D;++k){var U=u*c(p,a[E?D-k-1:k],d);if(t+o<n&&y+v<s+V+U/2)break;V+=U}if(k!==G){var B=E?a.substring(D-G,D-k):a.substring(G,k);b=0===v?0:(s+V/2-y)/v;M=r.lerp(_,f,b),F=r.lerp(m,g,b);O.push([M,F,V/2,N,B]),s+=V}}return O}})),parcelRequire.register("ewhvZ",(function(e,t){function r(e,t,r,i,n,o){for(var a=o||[],s=0,l=t;l<r;l+=i){var u=e[l],c=e[l+1];a[s++]=n[0]*u+n[2]*c+n[4],a[s++]=n[1]*u+n[3]*c+n[5]}return o&&a.length!=s&&(a.length=s),a}function i(e,t,r,i,n,o,a){for(var s=a||[],l=Math.cos(n),u=Math.sin(n),c=o[0],p=o[1],d=0,h=t;h<r;h+=i){var f=e[h]-c,g=e[h+1]-p;s[d++]=c+f*l-g*u,s[d++]=p+f*u+g*l;for(var _=h+2;_<h+i;++_)s[d++]=e[_]}return a&&s.length!=d&&(s.length=d),s}function n(e,t,r,i,n,o,a,s){for(var l=s||[],u=a[0],c=a[1],p=0,d=t;d<r;d+=i){var h=e[d]-u,f=e[d+1]-c;l[p++]=u+n*h,l[p++]=c+o*f;for(var g=d+2;g<d+i;++g)l[p++]=e[g]}return s&&l.length!=p&&(l.length=p),l}function o(e,t,r,i,n,o,a){for(var s=a||[],l=0,u=t;u<r;u+=i){s[l++]=e[u]+n,s[l++]=e[u+1]+o;for(var c=u+2;c<u+i;++c)s[l++]=e[c]}return a&&s.length!=l&&(s.length=l),s}$parcel$export(e.exports,"transform2D",(function(){return r})),$parcel$export(e.exports,"rotate",(function(){return i})),$parcel$export(e.exports,"scale",(function(){return n})),$parcel$export(e.exports,"translate",(function(){return o}))})),parcelRequire.register("4njx6",(function(e,t){function r(e,t,r,i){for(var n=e[t],o=e[t+1],a=0,s=t+i;s<r;s+=i){var l=e[s],u=e[s+1];a+=Math.sqrt((l-n)*(l-n)+(u-o)*(u-o)),n=l,o=u}return a}$parcel$export(e.exports,"lineStringLength",(function(){return r}))})),parcelRequire.register("jhwWb",(function(e,t){$parcel$export(e.exports,"HIT_DETECT_RESOLUTION",(function(){return c})),$parcel$export(e.exports,"createHitDetectionImageData",(function(){return p})),$parcel$export(e.exports,"hitDetect",(function(){return d}));var r=parcelRequire("itdRy"),i=parcelRequire("hZjyb"),n=parcelRequire("hhekU"),o=parcelRequire("gCYbe"),a=parcelRequire("8GG6h"),s=parcelRequire("1Rvcq"),l=parcelRequire("geRS1"),u=parcelRequire("l89p7"),c=.5;function p(e,t,a,p,d,h,f){var g=e[0]*c,_=e[1]*c,m=s.createCanvasContext2D(g,_);m.imageSmoothingEnabled=!1;for(var v=m.canvas,y=new r.default(m,c,d,null,f),x=a.length,b=Math.floor(16777215/x),w={},R=1;R<=x;++R){var $=a[R-1],C=$.getStyleFunction()||p;if(p){var S=C($,h);if(S){Array.isArray(S)||(S=[S]);for(var E="#"+("000000"+(R*b).toString(16)).slice(-6),q=0,T=S.length;q<T;++q){var I=S[q],L=I.getGeometryFunction()($);if(L&&l.intersects(d,L.getExtent())){var A=I.clone(),O=A.getFill();O&&O.setColor(E);var P=A.getStroke();P&&(P.setColor(E),P.setLineDash(null)),A.setText(void 0);var M=I.getImage();if(M&&0!==M.getOpacity()){var F=M.getImageSize();if(!F)continue;var k=s.createCanvasContext2D(F[0],F[1],void 0,{alpha:!1}),D=k.canvas;k.fillStyle=E,k.fillRect(0,0,D.width,D.height),A.setImage(new o.default({img:D,imgSize:F,anchor:M.getAnchor(),anchorXUnits:n.default.PIXELS,anchorYUnits:n.default.PIXELS,offset:M.getOrigin(),opacity:1,size:M.getSize(),scale:M.getScale(),rotation:M.getRotation(),rotateWithView:M.getRotateWithView()}))}var N=A.getZIndex()||0;(V=w[N])||(V={},w[N]=V,V[i.default.POLYGON]=[],V[i.default.CIRCLE]=[],V[i.default.LINE_STRING]=[],V[i.default.POINT]=[]),V[L.getType().replace("Multi","")].push(L,A)}}}}}for(var j=Object.keys(w).map(Number).sort(u.numberSafeCompareFunction),G=(R=0,j.length);R<G;++R){var V=w[j[R]];for(var U in V){var B=V[U];for(q=0,T=B.length;q<T;q+=2){y.setStyle(B[q+1]);for(var W=0,Y=t.length;W<Y;++W)y.setTransform(t[W]),y.drawGeometry(B[q])}}}return m.getImageData(0,0,v.width,v.height)}function d(e,t,r){var i=[];if(r){var n=Math.floor(Math.round(e[0])*c),o=Math.floor(Math.round(e[1])*c),s=4*(a.clamp(n,0,r.width-1)+a.clamp(o,0,r.height-1)*r.width),l=r.data[s],u=r.data[s+1],p=r.data[s+2]+256*(u+256*l),d=Math.floor(16777215/t.length);p&&p%d==0&&i.push(t[p/d-1])}return i}})),parcelRequire.register("itdRy",(function(e,t){$parcel$export(e.exports,"default",(function(){return h}),(function(e){return h=e}));var r,i=parcelRequire("hZjyb"),n=parcelRequire("lFBkz"),o=parcelRequire("iNt2G"),a=parcelRequire("lXQa3"),s=parcelRequire("kHyfN"),l=parcelRequire("l89p7"),u=parcelRequire("geRS1"),c=parcelRequire("ewhvZ"),p=parcelRequire("5ZFBU"),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=function(e){function t(t,r,i,n,o,s,l){var u=e.call(this)||this;return u.context_=t,u.pixelRatio_=r,u.extent_=i,u.transform_=n,u.viewRotation_=o,u.squaredTolerance_=s,u.userTransform_=l,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=a.create(),u}return d(t,e),t.prototype.drawImages_=function(e,t,r,i){if(this.image_){var n=c.transform2D(e,t,r,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,l=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=l*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var p=0,d=n.length;p<d;p+=2){var h=n[p]-this.imageAnchorX_,f=n[p+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var g=h+this.imageAnchorX_,_=f+this.imageAnchorY_;a.compose(s,g,_,1,1,u,-g,-_),o.setTransform.apply(o,s),o.translate(g,_),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=l)}},t.prototype.drawText_=function(e,t,r,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var n=c.transform2D(e,t,r,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);t<r;t+=i){var l=n[t]+this.textOffsetX_,u=n[t+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]){var p=a.compose(this.tmpLocalTransform_,l,u,1,1,s,-l,-u);o.setTransform.apply(o,p),o.translate(l,u),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,l,u),this.textFillState_&&o.fillText(this.text_,l,u)}}},t.prototype.moveToLineTo_=function(e,t,r,i,n){var o=this.context_,a=c.transform2D(e,t,r,i,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;n&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return n&&o.closePath(),r},t.prototype.drawRings_=function(e,t,r,i){for(var n=0,o=r.length;n<o;++n)t=this.moveToLineTo_(e,t,r[n],i,!0);return t},t.prototype.drawCircle=function(e){if(u.intersects(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=p.transformGeom2D(e,this.transform_,this.pixelCoordinates_),r=t[2]-t[0],i=t[3]-t[1],n=Math.sqrt(r*r+i*i),o=this.context_;o.beginPath(),o.arc(t[0],t[1],n,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){switch(e.getType()){case i.default.POINT:this.drawPoint(e);break;case i.default.LINE_STRING:this.drawLineString(e);break;case i.default.POLYGON:this.drawPolygon(e);break;case i.default.MULTI_POINT:this.drawMultiPoint(e);break;case i.default.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case i.default.MULTI_POLYGON:this.drawMultiPolygon(e);break;case i.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case i.default.CIRCLE:this.drawCircle(e)}},t.prototype.drawFeature=function(e,t){var r=t.getGeometryFunction()(e);r&&u.intersects(this.extent_,r.getExtent())&&(this.setStyle(t),this.drawGeometry(r))},t.prototype.drawGeometryCollection=function(e){for(var t=e.getGeometriesArray(),r=0,i=t.length;r<i;++r)this.drawGeometry(t[r])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),""!==this.text_&&this.drawText_(t,0,t.length,r)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),""!==this.text_&&this.drawText_(t,0,t.length,r)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),u.intersects(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,r=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){var i=e.getFlatMidpoint();this.drawText_(i,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getExtent();if(u.intersects(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=e.getFlatCoordinates(),n=0,o=e.getEnds(),a=e.getStride();r.beginPath();for(var s=0,l=o.length;s<l;++s)n=this.moveToLineTo_(i,n,o[s],a,!1);r.stroke()}if(""!==this.text_){var c=e.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),u.intersects(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var r=e.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),u.intersects(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,r=e.getOrientedFlatCoordinates(),i=0,n=e.getEndss(),o=e.getStride();t.beginPath();for(var a=0,s=n.length;a<s;++a){var l=n[a];i=this.drawRings_(r,i,l,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var c=e.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},t.prototype.setContextFillState_=function(e){var t=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var t=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,t.lineCap=e.lineCap),t.setLineDash&&(l.equals(r.lineDash,e.lineDash)||t.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset)),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var t=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:s.defaultTextAlign;r?(r.font!=e.font&&(r.font=e.font,t.font=e.font),r.textAlign!=i&&(r.textAlign=i,t.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=i,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,t){var r=this;if(e){var i=e.getColor();this.fillState_={fillStyle:o.asColorLike(i||s.defaultFillStyle)}}else this.fillState_=null;if(t){var n=t.getColor(),a=t.getLineCap(),l=t.getLineDash(),u=t.getLineDashOffset(),c=t.getLineJoin(),p=t.getWidth(),d=t.getMiterLimit(),h=l||s.defaultLineDash;this.strokeState_={lineCap:void 0!==a?a:s.defaultLineCap,lineDash:1===this.pixelRatio_?h:h.map((function(e){return e*r.pixelRatio_})),lineDashOffset:(u||s.defaultLineDashOffset)*this.pixelRatio_,lineJoin:void 0!==c?c:s.defaultLineJoin,lineWidth:(void 0!==p?p:s.defaultLineWidth)*this.pixelRatio_,miterLimit:void 0!==d?d:s.defaultMiterLimit,strokeStyle:o.asColorLike(n||s.defaultStrokeStyle)}}else this.strokeState_=null},t.prototype.setImageStyle=function(e){var t;if(e&&(t=e.getSize())){var r=e.getAnchor(),i=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*this.pixelRatio_,this.imageAnchorY_=r[1]*this.pixelRatio_,this.imageHeight_=t[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=t[0]*this.pixelRatio_}else this.image_=null},t.prototype.setTextStyle=function(e){if(e){var t=e.getFill();if(t){var r=t.getColor();this.textFillState_={fillStyle:o.asColorLike(r||s.defaultFillStyle)}}else this.textFillState_=null;var i=e.getStroke();if(i){var n=i.getColor(),a=i.getLineCap(),l=i.getLineDash(),u=i.getLineDashOffset(),c=i.getLineJoin(),p=i.getWidth(),d=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:s.defaultLineCap,lineDash:l||s.defaultLineDash,lineDashOffset:u||s.defaultLineDashOffset,lineJoin:void 0!==c?c:s.defaultLineJoin,lineWidth:void 0!==p?p:s.defaultLineWidth,miterLimit:void 0!==d?d:s.defaultMiterLimit,strokeStyle:o.asColorLike(n||s.defaultStrokeStyle)}}else this.textStrokeState_=null;var h=e.getFont(),f=e.getOffsetX(),g=e.getOffsetY(),_=e.getRotateWithView(),m=e.getRotation(),v=e.getScaleArray(),y=e.getText(),x=e.getTextAlign(),b=e.getTextBaseline();this.textState_={font:void 0!==h?h:s.defaultFont,textAlign:void 0!==x?x:s.defaultTextAlign,textBaseline:void 0!==b?b:s.defaultTextBaseline},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0!==m?m:0,this.textScale_=[this.pixelRatio_*v[0],this.pixelRatio_*v[1]]}else this.text_=""},t}(n.default)})),parcelRequire.register("5ZFBU",(function(e,t){$parcel$export(e.exports,"getStrideForLayout",(function(){return u}),(function(e){return u=e})),$parcel$export(e.exports,"transformGeom2D",(function(){return c}),(function(e){return c=e})),$parcel$export(e.exports,"default",(function(){return p}),(function(e){return p=e}));var r,i=parcelRequire("3MnKY"),n=parcelRequire("8D7GI"),o=parcelRequire("b3vZc"),a=parcelRequire("geRS1"),s=parcelRequire("ewhvZ"),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function u(e){var t;return e==n.default.XY?t=2:e==n.default.XYZ||e==n.default.XYM?t=3:e==n.default.XYZM&&(t=4),t}function c(e,t,r){var i=e.getFlatCoordinates();if(i){var n=e.getStride();return s.transform2D(i,0,i.length,n,t,r)}return null}var p=function(e){function t(){var t=e.call(this)||this;return t.layout=n.default.XY,t.stride=2,t.flatCoordinates=null,t}return l(t,e),t.prototype.computeExtent=function(e){return a.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return o.abstract()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(e){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,t){this.stride=u(e),this.layout=e,this.flatCoordinates=t},t.prototype.setCoordinates=function(e,t){o.abstract()},t.prototype.setLayout=function(e,t,r){var i;if(e)i=u(e);else{for(var o=0;o<r;++o){if(0===t.length)return this.layout=n.default.XY,void(this.stride=2);t=t[0]}e=function(e){var t;2==e?t=n.default.XY:3==e?t=n.default.XYZ:4==e&&(t=n.default.XYZM);return t}(i=t.length)}this.layout=e,this.stride=i},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,t){var r=this.getFlatCoordinates();if(r){var i=this.getStride();s.rotate(r,0,r.length,i,e,t,r),this.changed()}},t.prototype.scale=function(e,t,r){var i=t;void 0===i&&(i=e);var n=r;n||(n=a.getCenter(this.getExtent()));var o=this.getFlatCoordinates();if(o){var l=this.getStride();s.scale(o,0,o.length,l,e,i,n,o),this.changed()}},t.prototype.translate=function(e,t){var r=this.getFlatCoordinates();if(r){var i=this.getStride();s.translate(r,0,r.length,i,e,t,r),this.changed()}},t}(i.default)})),parcelRequire.register("3MnKY",(function(e,t){$parcel$export(e.exports,"default",(function(){return h}),(function(e){return h=e}));var r,i=parcelRequire("5qZl6"),n=parcelRequire("56Kgw"),o=parcelRequire("b3vZc"),a=parcelRequire("lXQa3"),s=parcelRequire("geRS1"),l=parcelRequire("cR5xV"),u=parcelRequire("c0LdP"),c=parcelRequire("ewhvZ"),p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),d=a.create(),h=function(e){function t(){var t=e.call(this)||this;return t.extent_=s.createEmpty(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=u.memoizeOne((function(e,t,r){if(!r)return this.getSimplifiedGeometry(t);var i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(t)})),t}return p(t,e),t.prototype.simplifyTransformed=function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)},t.prototype.clone=function(){return o.abstract()},t.prototype.closestPointXY=function(e,t,r,i){return o.abstract()},t.prototype.containsXY=function(e,t){var r=this.getClosestPoint([e,t]);return r[0]===e&&r[1]===t},t.prototype.getClosestPoint=function(e,t){var r=t||[NaN,NaN];return this.closestPointXY(e[0],e[1],r,1/0),r},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(e){return o.abstract()},t.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&s.createOrUpdateEmpty(t),this.extentRevision_=this.getRevision()}return s.returnOrUpdate(this.extent_,e)},t.prototype.rotate=function(e,t){o.abstract()},t.prototype.scale=function(e,t,r){o.abstract()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(e){return o.abstract()},t.prototype.getType=function(){return o.abstract()},t.prototype.applyTransform=function(e){o.abstract()},t.prototype.intersectsExtent=function(e){return o.abstract()},t.prototype.translate=function(e,t){o.abstract()},t.prototype.transform=function(e,t){var r=l.get(e),i=r.getUnits()==n.default.TILE_PIXELS?function(e,i,n){var o=r.getExtent(),u=r.getWorldExtent(),p=s.getHeight(u)/s.getHeight(o);return a.compose(d,u[0],u[3],p,-p,0,0,0),c.transform2D(e,0,e.length,n,d,i),l.getTransform(r,t)(e,i,n)}:l.getTransform(r,t);return this.applyTransform(i),this},t}(i.default)})),parcelRequire.register("8D7GI",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}})),parcelRequire.register("lNieJ",(function(e,t){$parcel$export(e.exports,"defaultOrder",(function(){return s})),$parcel$export(e.exports,"getSquaredTolerance",(function(){return l})),$parcel$export(e.exports,"getTolerance",(function(){return u})),$parcel$export(e.exports,"renderFeature",(function(){return c}));var r=parcelRequire("2b3EF"),i=parcelRequire("hZjyb"),n=parcelRequire("hTRPy"),o=parcelRequire("b3vZc"),a={Point:function(e,t,i,o,a){var s,l=i.getImage(),u=i.getText();a&&(e=a,s=l&&u&&u.getText()?{}:void 0);if(l){if(l.getImageState()!=n.default.LOADED)return;var c=e.getBuilder(i.getZIndex(),r.default.IMAGE);c.setImageStyle(l,s),c.drawPoint(t,o)}if(u&&u.getText()){var p=e.getBuilder(i.getZIndex(),r.default.TEXT);p.setTextStyle(u,s),p.drawText(t,o)}},LineString:function(e,t,i,n,o){var a=i.getStroke();if(a){var s=e.getBuilder(i.getZIndex(),r.default.LINE_STRING);s.setFillStrokeStyle(null,a),s.drawLineString(t,n)}var l=i.getText();if(l&&l.getText()){var u=(o||e).getBuilder(i.getZIndex(),r.default.TEXT);u.setTextStyle(l),u.drawText(t,n)}},Polygon:function(e,t,i,n,o){var a=i.getFill(),s=i.getStroke();if(a||s){var l=e.getBuilder(i.getZIndex(),r.default.POLYGON);l.setFillStrokeStyle(a,s),l.drawPolygon(t,n)}var u=i.getText();if(u&&u.getText()){var c=(o||e).getBuilder(i.getZIndex(),r.default.TEXT);c.setTextStyle(u),c.drawText(t,n)}},MultiPoint:function(e,t,i,o,a){var s,l=i.getImage(),u=i.getText();a&&(e=a,s=l&&u&&u.getText()?{}:void 0);if(l){if(l.getImageState()!=n.default.LOADED)return;var c=e.getBuilder(i.getZIndex(),r.default.IMAGE);c.setImageStyle(l,s),c.drawMultiPoint(t,o)}if(u&&u.getText()){var p=(a||e).getBuilder(i.getZIndex(),r.default.TEXT);p.setTextStyle(u,s),p.drawText(t,o)}},MultiLineString:function(e,t,i,n,o){var a=i.getStroke();if(a){var s=e.getBuilder(i.getZIndex(),r.default.LINE_STRING);s.setFillStrokeStyle(null,a),s.drawMultiLineString(t,n)}var l=i.getText();if(l&&l.getText()){var u=(o||e).getBuilder(i.getZIndex(),r.default.TEXT);u.setTextStyle(l),u.drawText(t,n)}},MultiPolygon:function(e,t,i,n,o){var a=i.getFill(),s=i.getStroke();if(s||a){var l=e.getBuilder(i.getZIndex(),r.default.POLYGON);l.setFillStrokeStyle(a,s),l.drawMultiPolygon(t,n)}var u=i.getText();if(u&&u.getText()){var c=(o||e).getBuilder(i.getZIndex(),r.default.TEXT);c.setTextStyle(u),c.drawText(t,n)}},GeometryCollection:function(e,t,r,i,n){var o,s,l=t.getGeometriesArray();for(o=0,s=l.length;o<s;++o){(0,a[l[o].getType()])(e,l[o],r,i,n)}},Circle:function(e,t,i,n,o){var a=i.getFill(),s=i.getStroke();if(a||s){var l=e.getBuilder(i.getZIndex(),r.default.CIRCLE);l.setFillStrokeStyle(a,s),l.drawCircle(t,n)}var u=i.getText();if(u&&u.getText()){var c=(o||e).getBuilder(i.getZIndex(),r.default.TEXT);c.setTextStyle(u),c.drawText(t,n)}}};function s(e,t){return parseInt(o.getUid(e),10)-parseInt(o.getUid(t),10)}function l(e,t){var r=u(e,t);return r*r}function u(e,t){return.5*e/t}function c(e,t,r,i,o,s,l){var u=!1,c=r.getImage();if(c){var d=c.getImageState();d==n.default.LOADED||d==n.default.ERROR?c.unlistenImageChange(o):(d==n.default.IDLE&&c.load(),d=c.getImageState(),c.listenImageChange(o),u=!0)}return function(e,t,r,i,n,o){var s=r.getGeometryFunction()(t);if(!s)return;var l=s.simplifyTransformed(i,n);if(r.getRenderer())p(e,l,r,t);else{(0,a[l.getType()])(e,l,r,t,o)}}(e,t,r,i,s,l),u}function p(e,t,n,o){if(t.getType()!=i.default.GEOMETRY_COLLECTION)e.getBuilder(n.getZIndex(),r.default.DEFAULT).drawCustom(t,o,n.getRenderer(),n.getHitDetectionRenderer());else for(var a=t.getGeometries(),s=0,l=a.length;s<l;++s)p(e,a[s],n,o)}})),parcelRequire.register("f2OU0",(function(e,t){$parcel$export(e.exports,"VectorSourceEvent",(function(){return w}),(function(e){return w=e})),$parcel$export(e.exports,"default",(function(){return R}),(function(e){return R=e}));var r,i=parcelRequire("5kGze"),n=parcelRequire("aByjX"),o=parcelRequire("jkZCX"),a=parcelRequire("7Ry8n"),s=parcelRequire("jlqXC"),l=parcelRequire("4D6d1"),u=parcelRequire("bJgzg"),c=parcelRequire("kJINA"),p=parcelRequire("057OO"),d=parcelRequire("c0LdP"),h=parcelRequire("lgcxO"),f=parcelRequire("59Hdm"),g=parcelRequire("geRS1"),_=parcelRequire("l89p7"),m=parcelRequire("b3vZc"),v=parcelRequire("lOEcB"),y=parcelRequire("9eKdp"),x=parcelRequire("34Mxp"),b=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),w=function(e){function t(t,r,i){var n=e.call(this,t)||this;return n.feature=r,n.features=i,n}return b(t,e),t}(o.default),R=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,{attributions:n.attributions,interpolate:!0,projection:void 0,state:c.default.READY,wrapX:void 0===n.wrapX||n.wrapX})||this).on,r.once,r.un,r.loader_=d.VOID,r.format_=n.format,r.overlaps_=void 0===n.overlaps||n.overlaps,r.url_=n.url,void 0!==n.loader?r.loader_=n.loader:void 0!==r.url_&&(f.assert(r.format_,7),r.loader_=x.xhr(r.url_,r.format_)),r.strategy_=void 0!==n.strategy?n.strategy:h.all;var o,a,s=void 0===n.useSpatialIndex||n.useSpatialIndex;return r.featuresRtree_=s?new l.default:null,r.loadedExtentsRtree_=new l.default,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(n.features)?a=n.features:n.features&&(a=(o=n.features).getArray()),s||void 0!==o||(o=new i.default(a)),void 0!==a&&r.addFeaturesInternal(a),void 0!==o&&r.bindFeaturesCollection_(o),r}return b(t,e),t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var t=m.getUid(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var r=e.getGeometry();if(r){var i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new w(p.default.ADDFEATURE,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},t.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[y.listen(t,a.default.CHANGE,this.handleFeatureChange_,this),y.listen(t,s.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,t){var r=!0,i=t.getId();return void 0!==i&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=t),r&&(f.assert(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),r},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var t=[],r=[],i=[],n=0,o=e.length;n<o;n++){var a=e[n],s=m.getUid(a);this.addToIndex_(s,a)&&r.push(a)}n=0;for(var l=r.length;n<l;n++){a=r[n],s=m.getUid(a);this.setupChangeEvents_(s,a);var u=a.getGeometry();if(u){var c=u.getExtent();t.push(c),i.push(a)}else this.nullGeometryFeatures_[s]=a}this.featuresRtree_&&this.featuresRtree_.load(t,i);n=0;for(var d=r.length;n<d;n++)this.dispatchEvent(new w(p.default.ADDFEATURE,r[n]))},t.prototype.bindFeaturesCollection_=function(e){var t=!1;this.addEventListener(p.default.ADDFEATURE,(function(r){t||(t=!0,e.push(r.feature),t=!1)})),this.addEventListener(p.default.REMOVEFEATURE,(function(r){t||(t=!0,e.remove(r.feature),t=!1)})),e.addEventListener(n.default.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)}.bind(this)),e.addEventListener(n.default.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(y.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var r=function(e){this.removeFeatureInternal(e)}.bind(this);for(var i in this.featuresRtree_.forEach(r),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var n=new w(p.default.CLEAR);this.dispatchEvent(n),this.changed()},t.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},t.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,(function(r){return r.getGeometry().intersectsCoordinate(e)?t(r):void 0}))},t.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},t.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,(function(r){if(r.getGeometry().intersectsExtent(e)){var i=t(r);if(i)return i}}))},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),v.isEmpty(this.nullGeometryFeatures_)||_.extend(e,v.getValues(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t},t.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},t.prototype.getClosestFeatureToCoordinate=function(e,t){var r=e[0],i=e[1],n=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=t||d.TRUE;return this.featuresRtree_.forEachInExtent(s,(function(e){if(l(e)){var t=e.getGeometry(),u=a;if((a=t.closestPointXY(r,i,o,a))<u){n=e;var c=Math.sqrt(a);s[0]=r-c,s[1]=i-c,s[2]=r+c,s[3]=i+c}}})),n},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},t.prototype.getFeatureByUid=function(e){var t=this.uidIndex_[e];return void 0!==t?t:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var t=e.target,r=m.getUid(t),i=t.getGeometry();if(i){var n=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(n,t)):this.featuresRtree_&&this.featuresRtree_.update(n,t)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[r]=t);var o=t.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[a]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[r]=t;this.changed(),this.dispatchEvent(new w(p.default.CHANGEFEATURE,t))},t.prototype.hasFeature=function(e){var t=e.getId();return void 0!==t?t in this.idIndex_:m.getUid(e)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&v.isEmpty(this.nullGeometryFeatures_)},t.prototype.loadFeatures=function(e,t,r){for(var i=this.loadedExtentsRtree_,n=this.strategy_(e,t,r),o=function(e,o){var s=n[e];i.forEachInExtent(s,(function(e){return g.containsExtent(e.extent,s)}))||(++a.loadingExtentsCount_,a.dispatchEvent(new w(p.default.FEATURESLOADSTART)),a.loader_.call(a,s,t,r,function(e){--this.loadingExtentsCount_,this.dispatchEvent(new w(p.default.FEATURESLOADEND,void 0,e))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new w(p.default.FEATURESLOADERROR))}.bind(a)),i.insert(s,{extent:s.slice()}))},a=this,s=0,l=n.length;s<l;++s)o(s);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var t,r=this.loadedExtentsRtree_;r.forEachInExtent(e,(function(r){if(g.equals(r.extent,e))return t=r,!0})),t&&r.remove(t)},t.prototype.removeFeature=function(e){if(e){var t=m.getUid(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}},t.prototype.removeFeatureInternal=function(e){var t=m.getUid(e),r=this.featureChangeKeys_[t];if(r){r.forEach(y.unlistenByKey),delete this.featureChangeKeys_[t];var i=e.getId();return void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[t],this.dispatchEvent(new w(p.default.REMOVEFEATURE,e)),e}},t.prototype.removeFromIdIndex_=function(e){var t=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],t=!0;break}return t},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){f.assert(this.format_,7),this.url_=e,this.setLoader(x.xhr(e,this.format_))},t}(u.default)})),parcelRequire.register("5kGze",(function(e,t){$parcel$export(e.exports,"CollectionEvent",(function(){return u}),(function(e){return u=e})),$parcel$export(e.exports,"default",(function(){return c}),(function(e){return c=e}));var r,i=parcelRequire("aWzCd"),n=parcelRequire("5qZl6"),o=parcelRequire("aByjX"),a=parcelRequire("jkZCX"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l="length",u=function(e){function t(t,r,i){var n=e.call(this,t)||this;return n.element=r,n.index=i,n}return s(t,e),t}(a.default),c=function(e){function t(t,r){var i=e.call(this)||this;i.on,i.once,i.un;var n=r||{};if(i.unique_=!!n.unique,i.array_=t||[],i.unique_)for(var o=0,a=i.array_.length;o<a;++o)i.assertUnique_(i.array_[o],o);return i.updateLength_(),i}return s(t,e),t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(e){for(var t=0,r=e.length;t<r;++t)this.push(e[t]);return this},t.prototype.forEach=function(e){for(var t=this.array_,r=0,i=t.length;r<i;++r)e(t[r],r,t)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get(l)},t.prototype.insertAt=function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new u(o.default.ADD,t,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()},t.prototype.remove=function(e){for(var t=this.array_,r=0,i=t.length;r<i;++r)if(t[r]===e)return this.removeAt(r)},t.prototype.removeAt=function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new u(o.default.REMOVE,t,e)),t},t.prototype.setAt=function(e,t){var r=this.getLength();if(e<r){this.unique_&&this.assertUnique_(t,e);var i=this.array_[e];this.array_[e]=t,this.dispatchEvent(new u(o.default.REMOVE,i,e)),this.dispatchEvent(new u(o.default.ADD,t,e))}else{for(var n=r;n<e;++n)this.insertAt(n,void 0);this.insertAt(e,t)}},t.prototype.updateLength_=function(){this.set(l,this.array_.length)},t.prototype.assertUnique_=function(e,t){for(var r=0,n=this.array_.length;r<n;++r)if(this.array_[r]===e&&r!==t)throw new i.default(58)},t}(n.default)})),parcelRequire.register("aByjX",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={ADD:"add",REMOVE:"remove"}})),parcelRequire.register("4D6d1",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var r=parcelRequire("36UM4"),i=parcelRequire("geRS1"),n=parcelRequire("b3vZc"),o=parcelRequire("lOEcB"),a=function(){function e(e){this.rbush_=new($parcel$interopDefault(r))(e),this.items_={}}return e.prototype.insert=function(e,t){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[n.getUid(t)]=r},e.prototype.load=function(e,t){for(var r=new Array(t.length),i=0,o=t.length;i<o;i++){var a=e[i],s=t[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};r[i]=l,this.items_[n.getUid(s)]=l}this.rbush_.load(r)},e.prototype.remove=function(e){var t=n.getUid(e),r=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(r)},e.prototype.update=function(e,t){var r=this.items_[n.getUid(t)],o=[r.minX,r.minY,r.maxX,r.maxY];i.equals(o,e)||(this.remove(t),this.insert(e,t))},e.prototype.getAll=function(){return this.rbush_.all().map((function(e){return e.value}))},e.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))},e.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},e.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},e.prototype.forEach_=function(e,t){for(var r,i=0,n=e.length;i<n;i++)if(r=t(e[i]))return r;return r},e.prototype.isEmpty=function(){return o.isEmpty(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return i.createOrUpdate(t.minX,t.minY,t.maxX,t.maxY,e)},e.prototype.concat=function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]},e}()})),parcelRequire.register("057OO",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}})),parcelRequire.register("lgcxO",(function(e,t){$parcel$export(e.exports,"all",(function(){return r}));parcelRequire("cR5xV");function r(e,t){return[[-1/0,-1/0,1/0,1/0]]}})),parcelRequire.register("34Mxp",(function(e,t){$parcel$export(e.exports,"xhr",(function(){return o}));var r=parcelRequire("4VC03"),i=parcelRequire("c0LdP"),n=!1;function o(e,t){return function(o,a,s,l,u){var c=this;!function(e,t,i,o,a,s,l){var u=new XMLHttpRequest;u.open("GET","function"==typeof e?e(i,o,a):e,!0),t.getType()==r.default.ARRAY_BUFFER&&(u.responseType="arraybuffer"),u.withCredentials=n,u.onload=function(e){if(!u.status||u.status>=200&&u.status<300){var n=t.getType(),o=void 0;n==r.default.JSON||n==r.default.TEXT?o=u.responseText:n==r.default.XML?(o=u.responseXML)||(o=(new DOMParser).parseFromString(u.responseText,"application/xml")):n==r.default.ARRAY_BUFFER&&(o=u.response),o?s(t.readFeatures(o,{extent:i,featureProjection:a}),t.readProjection(o)):l()}else l()},u.onerror=l,u.send()}(e,t,o,a,s,(function(e,t){c.addFeatures(e),void 0!==l&&l(e)}),u||i.VOID)}}})),parcelRequire.register("4VC03",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}})),parcelRequire.register("dCXQG",(function(e,t){$parcel$export(e.exports,"default",(function(){return x}),(function(e){return x=e}));var r,i=parcelRequire("iKbY7"),n=parcelRequire("bI3hY"),o=parcelRequire("hZjyb"),a=parcelRequire("eCkAq"),s=parcelRequire("1YCpD"),l=parcelRequire("PZk4M"),u=parcelRequire("l6bvx"),c=parcelRequire("1F2PW"),p=parcelRequire("1QtZq"),d=parcelRequire("6kqrS"),h=parcelRequire("59Hdm"),f=parcelRequire("lOEcB"),g=parcelRequire("cR5xV"),_=parcelRequire("7GE0j"),m=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function v(e,t){if(!e)return null;var r;switch(e.type){case o.default.POINT:r=function(e){return new p.default(e.coordinates)}(e);break;case o.default.LINE_STRING:r=function(e){return new s.default(e.coordinates)}(e);break;case o.default.POLYGON:r=function(e){return new d.default(e.coordinates)}(e);break;case o.default.MULTI_POINT:r=function(e){return new u.default(e.coordinates)}(e);break;case o.default.MULTI_LINE_STRING:r=function(e){return new l.default(e.coordinates)}(e);break;case o.default.MULTI_POLYGON:r=function(e){return new c.default(e.coordinates)}(e);break;case o.default.GEOMETRY_COLLECTION:r=function(e,t){var r=e.geometries.map((function(e){return v(e,t)}));return new n.default(r)}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return _.transformGeometryWithOptions(r,!1,t)}function y(e,t){var r,i=(e=_.transformGeometryWithOptions(e,!0,t)).getType();switch(i){case o.default.POINT:r=function(e,t){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case o.default.LINE_STRING:r=function(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case o.default.POLYGON:r=function(e,t){var r;t&&(r=t.rightHanded);return{type:"Polygon",coordinates:e.getCoordinates(r)}}(e,t);break;case o.default.MULTI_POINT:r=function(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case o.default.MULTI_LINE_STRING:r=function(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case o.default.MULTI_POLYGON:r=function(e,t){var r;t&&(r=t.rightHanded);return{type:"MultiPolygon",coordinates:e.getCoordinates(r)}}(e,t);break;case o.default.GEOMETRY_COLLECTION:r=function(e,t){var r=e.getGeometriesArray().map((function(e){var r=f.assign({},t);return delete r.featureProjection,y(e,r)}));return{type:"GeometryCollection",geometries:r}}(e,t);break;case o.default.CIRCLE:r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return r}var x=function(e){function t(t){var r=this,i=t||{};return(r=e.call(this)||this).dataProjection=g.get(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(r.defaultFeatureProjection=g.get(i.featureProjection)),r.geometryName_=i.geometryName,r.extractGeometryName_=i.extractGeometryName,r.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],r}return m(t,e),t.prototype.readFeatureFromObject=function(e,t){var r=null,n=v((r="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null}).geometry,t),o=new i.default;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&o.setGeometryName(r.geometry_name),o.setGeometry(n),"id"in r&&o.setId(r.id),r.properties&&o.setProperties(r.properties,!0),o},t.prototype.readFeaturesFromObject=function(e,t){var r=null;if("FeatureCollection"===e.type){r=[];for(var i=e.features,n=0,o=i.length;n<o;++n)r.push(this.readFeatureFromObject(i[n],t))}else r=[this.readFeatureFromObject(e,t)];return r},t.prototype.readGeometryFromObject=function(e,t){return v(e,t)},t.prototype.readProjectionFromObject=function(e){var t,r=e.crs;return r?"name"==r.type?t=g.get(r.properties.name):"EPSG"===r.type?t=g.get("EPSG:"+r.properties.code):h.assert(!1,36):t=this.dataProjection,t},t.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var r={type:"Feature",geometry:null,properties:null},i=e.getId();if(void 0!==i&&(r.id=i),!e.hasProperties())return r;var n=e.getProperties(),o=e.getGeometry();return o&&(r.geometry=y(o,t),delete n[e.getGeometryName()]),f.isEmpty(n)||(r.properties=n),r},t.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);for(var r=[],i=0,n=e.length;i<n;++i)r.push(this.writeFeatureObject(e[i],t));return{type:"FeatureCollection",features:r}},t.prototype.writeGeometryObject=function(e,t){return y(e,this.adaptOptions(t))},t}(a.default)})),parcelRequire.register("iKbY7",(function(e,t){$parcel$export(e.exports,"createStyleFunction",(function(){return l}),(function(e){return l=e})),$parcel$export(e.exports,"default",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("5qZl6"),n=parcelRequire("7Ry8n"),o=parcelRequire("59Hdm"),a=parcelRequire("9eKdp"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function l(e){return"function"==typeof e?e:(Array.isArray(e)?t=e:(o.assert("function"==typeof e.getZIndex,41),t=[e]),function(){return t});var t}var u=function(e){function t(t){var r=e.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){var i=t;r.setGeometry(i)}else{var n=t;r.setProperties(n)}return r}return s(t,e),t.prototype.clone=function(){var e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&e.setGeometry(r.clone());var i=this.getStyle();return i&&e.setStyle(i),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(a.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=a.listen(e,n.default.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?l(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(i.default)})),parcelRequire.register("bI3hY",(function(e,t){$parcel$export(e.exports,"default",(function(){return c}),(function(e){return c=e}));var r,i=parcelRequire("7Ry8n"),n=parcelRequire("3MnKY"),o=parcelRequire("hZjyb"),a=parcelRequire("geRS1"),s=parcelRequire("9eKdp"),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function u(e){for(var t=[],r=0,i=e.length;r<i;++r)t.push(e[r].clone());return t}var c=function(e){function t(t){var r=e.call(this)||this;return r.geometries_=t||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return l(t,e),t.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(s.unlistenByKey),this.changeEventsKeys_.length=0},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(s.listen(this.geometries_[e],i.default.CHANGE,this.changed,this))},t.prototype.clone=function(){var e=new t(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,i){if(i<a.closestSquaredDistanceXY(this.getExtent(),e,t))return i;for(var n=this.geometries_,o=0,s=n.length;o<s;++o)i=n[o].closestPointXY(e,t,r,i);return i},t.prototype.containsXY=function(e,t){for(var r=this.geometries_,i=0,n=r.length;i<n;++i)if(r[i].containsXY(e,t))return!0;return!1},t.prototype.computeExtent=function(e){a.createOrUpdateEmpty(e);for(var t=this.geometries_,r=0,i=t.length;r<i;++r)a.extend(e,t[r].getExtent());return e},t.prototype.getGeometries=function(){return u(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getGeometriesArrayRecursive=function(){for(var e=[],t=this.geometries_,r=0,i=t.length;r<i;++r)t[r].getType()===this.getType()?e=e.concat(t[r].getGeometriesArrayRecursive()):e.push(t[r]);return e},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],i=this.geometries_,n=!1,o=0,a=i.length;o<a;++o){var s=i[o],l=s.getSimplifiedGeometry(e);r.push(l),l!==s&&(n=!0)}if(n){var u=new t(null);return u.setGeometriesArray(r),u}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},t.prototype.getType=function(){return o.default.GEOMETRY_COLLECTION},t.prototype.intersectsExtent=function(e){for(var t=this.geometries_,r=0,i=t.length;r<i;++r)if(t[r].intersectsExtent(e))return!0;return!1},t.prototype.isEmpty=function(){return 0===this.geometries_.length},t.prototype.rotate=function(e,t){for(var r=this.geometries_,i=0,n=r.length;i<n;++i)r[i].rotate(e,t);this.changed()},t.prototype.scale=function(e,t,r){var i=r;i||(i=a.getCenter(this.getExtent()));for(var n=this.geometries_,o=0,s=n.length;o<s;++o)n[o].scale(e,t,i);this.changed()},t.prototype.setGeometries=function(e){this.setGeometriesArray(u(e))},t.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(e){for(var t=this.geometries_,r=0,i=t.length;r<i;++r)t[r].applyTransform(e);this.changed()},t.prototype.translate=function(e,t){for(var r=this.geometries_,i=0,n=r.length;i<n;++i)r[i].translate(e,t);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(n.default)})),parcelRequire.register("eCkAq",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}),(function(e){return l=e}));var r,i=parcelRequire("7GE0j"),n=parcelRequire("4VC03"),o=parcelRequire("b3vZc"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function s(e){if("string"==typeof e){var t=JSON.parse(e);return t||null}return null!==e?e:null}var l=function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.getType=function(){return n.default.JSON},t.prototype.readFeature=function(e,t){return this.readFeatureFromObject(s(e),this.getReadOptions(e,t))},t.prototype.readFeatures=function(e,t){return this.readFeaturesFromObject(s(e),this.getReadOptions(e,t))},t.prototype.readFeatureFromObject=function(e,t){return o.abstract()},t.prototype.readFeaturesFromObject=function(e,t){return o.abstract()},t.prototype.readGeometry=function(e,t){return this.readGeometryFromObject(s(e),this.getReadOptions(e,t))},t.prototype.readGeometryFromObject=function(e,t){return o.abstract()},t.prototype.readProjection=function(e){return this.readProjectionFromObject(s(e))},t.prototype.readProjectionFromObject=function(e){return o.abstract()},t.prototype.writeFeature=function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))},t.prototype.writeFeatureObject=function(e,t){return o.abstract()},t.prototype.writeFeatures=function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))},t.prototype.writeFeaturesObject=function(e,t){return o.abstract()},t.prototype.writeGeometry=function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))},t.prototype.writeGeometryObject=function(e,t){return o.abstract()},t}(i.default)})),parcelRequire.register("7GE0j",(function(e,t){$parcel$export(e.exports,"default",(function(){return a})),$parcel$export(e.exports,"transformGeometryWithOptions",(function(){return s}));var r=parcelRequire("56Kgw"),i=parcelRequire("b3vZc"),n=parcelRequire("lOEcB"),o=parcelRequire("cR5xV"),a=function(){function e(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return e.prototype.getReadOptions=function(e,t){var i;if(t){var n=t.dataProjection?o.get(t.dataProjection):this.readProjection(e);t.extent&&n&&n.getUnits()===r.default.TILE_PIXELS&&(n=o.get(n)).setWorldExtent(t.extent),i={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(i)},e.prototype.adaptOptions=function(e){return n.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)},e.prototype.getType=function(){return i.abstract()},e.prototype.readFeature=function(e,t){return i.abstract()},e.prototype.readFeatures=function(e,t){return i.abstract()},e.prototype.readGeometry=function(e,t){return i.abstract()},e.prototype.readProjection=function(e){return i.abstract()},e.prototype.writeFeature=function(e,t){return i.abstract()},e.prototype.writeFeatures=function(e,t){return i.abstract()},e.prototype.writeGeometry=function(e,t){return i.abstract()},e}();function s(e,t,r){var i,n=r?o.get(r.featureProjection):null,a=r?o.get(r.dataProjection):null;if(i=n&&a&&!o.equivalent(n,a)?(t?e.clone():e).transform(t?n:a,t?a:n):e,t&&r&&void 0!==r.decimals){var s=Math.pow(10,r.decimals);i===e&&(i=e.clone()),i.applyTransform((function(e){for(var t=0,r=e.length;t<r;++t)e[t]=Math.round(e[t]*s)/s;return e}))}return i}})),parcelRequire.register("1YCpD",(function(e,t){$parcel$export(e.exports,"default",(function(){return m}),(function(e){return m=e}));var r,i=parcelRequire("8D7GI"),n=parcelRequire("hZjyb"),o=parcelRequire("5ZFBU"),a=parcelRequire("97B9H"),s=parcelRequire("geRS1"),l=parcelRequire("37acq"),u=parcelRequire("81TzX"),c=parcelRequire("l89p7"),p=parcelRequire("6tuyC"),d=parcelRequire("bmqlx"),h=parcelRequire("1GpW6"),f=parcelRequire("bIN7V"),g=parcelRequire("4njx6"),_=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=function(e){function t(t,r){var i=e.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===r||Array.isArray(t[0])?i.setCoordinates(t,r):i.setFlatCoordinates(r,t),i}return _(t,e),t.prototype.appendCoordinate=function(e){this.flatCoordinates?c.extend(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,i){return i<s.closestSquaredDistanceXY(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(a.maxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),a.assignClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,r,i))},t.prototype.forEachSegment=function(e){return p.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinateAtM=function(e,t){if(this.layout!=i.default.XYM&&this.layout!=i.default.XYZM)return null;var r=void 0!==t&&t;return h.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r)},t.prototype.getCoordinates=function(){return d.inflateCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(e,t){return h.interpolatePoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)},t.prototype.getLength=function(){return g.lineStringLength(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[];return r.length=u.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new t(r,i.default.XY)},t.prototype.getType=function(){return n.default.LINE_STRING},t.prototype.intersectsExtent=function(e){return f.intersectsLineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=l.deflateCoordinates(this.flatCoordinates,0,e,this.stride),this.changed()},t}(o.default)})),parcelRequire.register("97B9H",(function(e,t){$parcel$export(e.exports,"maxSquaredDelta",(function(){return n})),$parcel$export(e.exports,"arrayMaxSquaredDelta",(function(){return o})),$parcel$export(e.exports,"multiArrayMaxSquaredDelta",(function(){return a})),$parcel$export(e.exports,"assignClosestPoint",(function(){return s})),$parcel$export(e.exports,"assignClosestArrayPoint",(function(){return l})),$parcel$export(e.exports,"assignClosestMultiArrayPoint",(function(){return u}));var r=parcelRequire("8GG6h");function i(e,t,i,n,o,a,s){var l,u=e[t],c=e[t+1],p=e[i]-u,d=e[i+1]-c;if(0===p&&0===d)l=t;else{var h=((o-u)*p+(a-c)*d)/(p*p+d*d);if(h>1)l=i;else{if(h>0){for(var f=0;f<n;++f)s[f]=r.lerp(e[t+f],e[i+f],h);return void(s.length=n)}l=t}}for(f=0;f<n;++f)s[f]=e[l+f];s.length=n}function n(e,t,i,n,o){var a=e[t],s=e[t+1];for(t+=n;t<i;t+=n){var l=e[t],u=e[t+1],c=r.squaredDistance(a,s,l,u);c>o&&(o=c),a=l,s=u}return o}function o(e,t,r,i,o){for(var a=0,s=r.length;a<s;++a){var l=r[a];o=n(e,t,l,i,o),t=l}return o}function a(e,t,r,i,n){for(var a=0,s=r.length;a<s;++a){var l=r[a];n=o(e,t,l,i,n),t=l[l.length-1]}return n}function s(e,t,n,o,a,s,l,u,c,p,d){if(t==n)return p;var h,f;if(0===a){if((f=r.squaredDistance(l,u,e[t],e[t+1]))<p){for(h=0;h<o;++h)c[h]=e[t+h];return c.length=o,f}return p}for(var g=d||[NaN,NaN],_=t+o;_<n;)if(i(e,_-o,_,o,l,u,g),(f=r.squaredDistance(l,u,g[0],g[1]))<p){for(p=f,h=0;h<o;++h)c[h]=g[h];c.length=o,_+=o}else _+=o*Math.max((Math.sqrt(f)-Math.sqrt(p))/a|0,1);if(s&&(i(e,n-o,t,o,l,u,g),(f=r.squaredDistance(l,u,g[0],g[1]))<p)){for(p=f,h=0;h<o;++h)c[h]=g[h];c.length=o}return p}function l(e,t,r,i,n,o,a,l,u,c,p){for(var d=p||[NaN,NaN],h=0,f=r.length;h<f;++h){var g=r[h];c=s(e,t,g,i,n,o,a,l,u,c,d),t=g}return c}function u(e,t,r,i,n,o,a,s,u,c,p){for(var d=p||[NaN,NaN],h=0,f=r.length;h<f;++h){var g=r[h];c=l(e,t,g,i,n,o,a,s,u,c,d),t=g[g.length-1]}return c}})),parcelRequire.register("37acq",(function(e,t){function r(e,t,r,i){for(var n=0,o=r.length;n<o;++n)e[t++]=r[n];return t}function i(e,t,r,i){for(var n=0,o=r.length;n<o;++n)for(var a=r[n],s=0;s<i;++s)e[t++]=a[s];return t}function n(e,t,r,n,o){for(var a=o||[],s=0,l=0,u=r.length;l<u;++l){var c=i(e,t,r[l],n);a[s++]=c,t=c}return a.length=s,a}function o(e,t,r,i,o){for(var a=o||[],s=0,l=0,u=r.length;l<u;++l){var c=n(e,t,r[l],i,a[s]);a[s++]=c,t=c[c.length-1]}return a.length=s,a}$parcel$export(e.exports,"deflateCoordinate",(function(){return r})),$parcel$export(e.exports,"deflateCoordinates",(function(){return i})),$parcel$export(e.exports,"deflateCoordinatesArray",(function(){return n})),$parcel$export(e.exports,"deflateMultiCoordinatesArray",(function(){return o}))})),parcelRequire.register("6tuyC",(function(e,t){function r(e,t,r,i,n){var o;for(t+=i;t<r;t+=i)if(o=n(e.slice(t-i,t),e.slice(t,t+i)))return o;return!1}$parcel$export(e.exports,"forEach",(function(){return r}))})),parcelRequire.register("1GpW6",(function(e,t){$parcel$export(e.exports,"interpolatePoint",(function(){return n})),$parcel$export(e.exports,"lineStringCoordinateAtM",(function(){return o})),$parcel$export(e.exports,"lineStringsCoordinateAtM",(function(){return a}));var r=parcelRequire("l89p7"),i=parcelRequire("8GG6h");function n(e,t,n,o,a,s,l){var u,c,p=(n-t)/o;if(1===p)u=t;else if(2===p)u=t,c=a;else if(0!==p){for(var d=e[t],h=e[t+1],f=0,g=[0],_=t+o;_<n;_+=o){var m=e[_],v=e[_+1];f+=Math.sqrt((m-d)*(m-d)+(v-h)*(v-h)),g.push(f),d=m,h=v}var y=a*f,x=r.binarySearch(g,y);x<0?(c=(y-g[-x-2])/(g[-x-1]-g[-x-2]),u=t+(-x-2)*o):u=t+x*o}var b=l>1?l:2,w=s||new Array(b);for(_=0;_<b;++_)w[_]=void 0===u?NaN:void 0===c?e[u+_]:i.lerp(e[u+_],e[u+o+_],c);return w}function o(e,t,r,n,o,a){if(r==t)return null;var s;if(o<e[t+n-1])return a?((s=e.slice(t,t+n))[n-1]=o,s):null;if(e[r-1]<o)return a?((s=e.slice(r-n,r))[n-1]=o,s):null;if(o==e[t+n-1])return e.slice(t,t+n);for(var l=t/n,u=r/n;l<u;){var c=l+u>>1;o<e[(c+1)*n-1]?u=c:l=c+1}var p=e[l*n-1];if(o==p)return e.slice((l-1)*n,(l-1)*n+n);var d=(o-p)/(e[(l+1)*n-1]-p);s=[];for(var h=0;h<n-1;++h)s.push(i.lerp(e[(l-1)*n+h],e[l*n+h],d));return s.push(o),s}function a(e,t,r,i,n,a,s){if(s)return o(e,t,r[r.length-1],i,n,a);var l;if(n<e[i-1])return a?((l=e.slice(0,i))[i-1]=n,l):null;if(e[e.length-1]<n)return a?((l=e.slice(e.length-i))[i-1]=n,l):null;for(var u=0,c=r.length;u<c;++u){var p=r[u];if(t!=p){if(n<e[t+i-1])return null;if(n<=e[p-1])return o(e,t,p,i,n,!1);t=p}}return null}})),parcelRequire.register("bIN7V",(function(e,t){$parcel$export(e.exports,"intersectsLineString",(function(){return o})),$parcel$export(e.exports,"intersectsLineStringArray",(function(){return a})),$parcel$export(e.exports,"intersectsLinearRingArray",(function(){return s})),$parcel$export(e.exports,"intersectsLinearRingMultiArray",(function(){return l}));var r=parcelRequire("geRS1"),i=parcelRequire("6tuyC"),n=parcelRequire("aG6d5");function o(e,t,n,o,a){var s=r.extendFlatCoordinates(r.createEmpty(),e,t,n,o);return!!r.intersects(a,s)&&(!!r.containsExtent(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||i.forEach(e,t,n,o,(function(e,t){return r.intersectsSegment(a,e,t)})))))}function a(e,t,r,i,n){for(var a=0,s=r.length;a<s;++a){if(o(e,t,r[a],i,n))return!0;t=r[a]}return!1}function s(e,t,r,i,a){if(!function(e,t,r,i,a){return!!(o(e,t,r,i,a)||n.linearRingContainsXY(e,t,r,i,a[0],a[1])||n.linearRingContainsXY(e,t,r,i,a[0],a[3])||n.linearRingContainsXY(e,t,r,i,a[2],a[1])||n.linearRingContainsXY(e,t,r,i,a[2],a[3]))}(e,t,r[0],i,a))return!1;if(1===r.length)return!0;for(var s=1,l=r.length;s<l;++s)if(n.linearRingContainsExtent(e,r[s-1],r[s],i,a)&&!o(e,r[s-1],r[s],i,a))return!1;return!0}function l(e,t,r,i,n){for(var o=0,a=r.length;o<a;++o){var l=r[o];if(s(e,t,l,i,n))return!0;t=l[l.length-1]}return!1}})),parcelRequire.register("aG6d5",(function(e,t){$parcel$export(e.exports,"linearRingContainsExtent",(function(){return i})),$parcel$export(e.exports,"linearRingContainsXY",(function(){return n})),$parcel$export(e.exports,"linearRingsContainsXY",(function(){return o})),$parcel$export(e.exports,"linearRingssContainsXY",(function(){return a}));var r=parcelRequire("geRS1");function i(e,t,i,o,a){return!r.forEachCorner(a,(function(r){return!n(e,t,i,o,r[0],r[1])}))}function n(e,t,r,i,n,o){for(var a=0,s=e[r-i],l=e[r-i+1];t<r;t+=i){var u=e[t],c=e[t+1];l<=o?c>o&&(u-s)*(o-l)-(n-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(n-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function o(e,t,r,i,o,a){if(0===r.length)return!1;if(!n(e,t,r[0],i,o,a))return!1;for(var s=1,l=r.length;s<l;++s)if(n(e,r[s-1],r[s],i,o,a))return!1;return!0}function a(e,t,r,i,n,a){if(0===r.length)return!1;for(var s=0,l=r.length;s<l;++s){var u=r[s];if(o(e,t,u,i,n,a))return!0;t=u[u.length-1]}return!1}})),parcelRequire.register("PZk4M",(function(e,t){$parcel$export(e.exports,"default",(function(){return _}),(function(e){return _=e}));var r,i=parcelRequire("8D7GI"),n=parcelRequire("hZjyb"),o=parcelRequire("1YCpD"),a=parcelRequire("5ZFBU"),s=parcelRequire("97B9H"),l=parcelRequire("geRS1"),u=parcelRequire("37acq"),c=parcelRequire("81TzX"),p=parcelRequire("l89p7"),d=parcelRequire("bmqlx"),h=parcelRequire("1GpW6"),f=parcelRequire("bIN7V"),g=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),_=function(e){function t(t,r,i){var n=e.call(this)||this;if(n.ends_=[],n.maxDelta_=-1,n.maxDeltaRevision_=-1,Array.isArray(t[0]))n.setCoordinates(t,r);else if(void 0!==r&&i)n.setFlatCoordinates(r,t),n.ends_=i;else{for(var o=n.getLayout(),a=t,s=[],l=[],u=0,c=a.length;u<c;++u){var d=a[u];0===u&&(o=d.getLayout()),p.extend(s,d.getFlatCoordinates()),l.push(s.length)}n.setFlatCoordinates(o,s),n.ends_=l}return n}return g(t,e),t.prototype.appendLineString=function(e){this.flatCoordinates?p.extend(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,i){return i<l.closestSquaredDistanceXY(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(s.arrayMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),s.assignClosestArrayPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,r,i))},t.prototype.getCoordinateAtM=function(e,t,r){if(this.layout!=i.default.XYM&&this.layout!=i.default.XYZM||0===this.flatCoordinates.length)return null;var n=void 0!==t&&t,o=void 0!==r&&r;return h.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,e,n,o)},t.prototype.getCoordinates=function(){return d.inflateCoordinatesArray(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(e){return e<0||this.ends_.length<=e?null:new o.default(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLineStrings=function(){for(var e=this.flatCoordinates,t=this.ends_,r=this.layout,i=[],n=0,a=0,s=t.length;a<s;++a){var l=t[a],u=new o.default(e.slice(n,l),r);i.push(u),n=l}return i},t.prototype.getFlatMidpoints=function(){for(var e=[],t=this.flatCoordinates,r=0,i=this.ends_,n=this.stride,o=0,a=i.length;o<a;++o){var s=i[o],l=h.interpolatePoint(t,r,s,n,.5);p.extend(e,l),r=s}return e},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=c.douglasPeuckerArray(this.flatCoordinates,0,this.ends_,this.stride,e,r,0,n),new t(r,i.default.XY,n)},t.prototype.getType=function(){return n.default.MULTI_LINE_STRING},t.prototype.intersectsExtent=function(e){return f.intersectsLineStringArray(this.flatCoordinates,0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=u.deflateCoordinatesArray(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},t}(a.default)})),parcelRequire.register("l6bvx",(function(e,t){$parcel$export(e.exports,"default",(function(){return d}),(function(e){return d=e}));var r,i=parcelRequire("hZjyb"),n=parcelRequire("1QtZq"),o=parcelRequire("5ZFBU"),a=parcelRequire("geRS1"),s=parcelRequire("37acq"),l=parcelRequire("l89p7"),u=parcelRequire("bmqlx"),c=parcelRequire("8GG6h"),p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),d=function(e){function t(t,r){var i=e.call(this)||this;return r&&!Array.isArray(t[0])?i.setFlatCoordinates(r,t):i.setCoordinates(t,r),i}return p(t,e),t.prototype.appendPoint=function(e){this.flatCoordinates?l.extend(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,i){if(i<a.closestSquaredDistanceXY(this.getExtent(),e,t))return i;for(var n=this.flatCoordinates,o=this.stride,s=0,l=n.length;s<l;s+=o){var u=c.squaredDistance(e,t,n[s],n[s+1]);if(u<i){i=u;for(var p=0;p<o;++p)r[p]=n[s+p];r.length=o}}return i},t.prototype.getCoordinates=function(){return u.inflateCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(e){var t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new n.default(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var e=this.flatCoordinates,t=this.layout,r=this.stride,i=[],o=0,a=e.length;o<a;o+=r){var s=new n.default(e.slice(o,o+r),t);i.push(s)}return i},t.prototype.getType=function(){return i.default.MULTI_POINT},t.prototype.intersectsExtent=function(e){for(var t=this.flatCoordinates,r=this.stride,i=0,n=t.length;i<n;i+=r){var o=t[i],s=t[i+1];if(a.containsXY(e,o,s))return!0}return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=s.deflateCoordinates(this.flatCoordinates,0,e,this.stride),this.changed()},t}(o.default)})),parcelRequire.register("1QtZq",(function(e,t){$parcel$export(e.exports,"default",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("hZjyb"),n=parcelRequire("5ZFBU"),o=parcelRequire("geRS1"),a=parcelRequire("37acq"),s=parcelRequire("8GG6h"),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(t,r){var i=e.call(this)||this;return i.setCoordinates(t,r),i}return l(t,e),t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,i){var n=this.flatCoordinates,o=s.squaredDistance(e,t,n[0],n[1]);if(o<i){for(var a=this.stride,l=0;l<a;++l)r[l]=n[l];return r.length=a,o}return i},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return o.createOrUpdateFromCoordinate(this.flatCoordinates,e)},t.prototype.getType=function(){return i.default.POINT},t.prototype.intersectsExtent=function(e){return o.containsXY(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=a.deflateCoordinate(this.flatCoordinates,0,e,this.stride),this.changed()},t}(n.default)})),parcelRequire.register("1F2PW",(function(e,t){$parcel$export(e.exports,"default",(function(){return b}),(function(e){return b=e}));var r,i=parcelRequire("8D7GI"),n=parcelRequire("hZjyb"),o=parcelRequire("l6bvx"),a=parcelRequire("6kqrS"),s=parcelRequire("5ZFBU"),l=parcelRequire("97B9H"),u=parcelRequire("geRS1"),c=parcelRequire("37acq"),p=parcelRequire("l89p7"),d=parcelRequire("9wyK0"),h=parcelRequire("bmqlx"),f=parcelRequire("bIN7V"),g=parcelRequire("7e8JJ"),_=parcelRequire("f8PFW"),m=parcelRequire("fawaT"),v=parcelRequire("aG6d5"),y=parcelRequire("81TzX"),x=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),b=function(e){function t(t,r,i){var n=e.call(this)||this;if(n.endss_=[],n.flatInteriorPointsRevision_=-1,n.flatInteriorPoints_=null,n.maxDelta_=-1,n.maxDeltaRevision_=-1,n.orientedRevision_=-1,n.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){for(var o=n.getLayout(),a=t,s=[],l=[],u=0,c=a.length;u<c;++u){var d=a[u];0===u&&(o=d.getLayout());for(var h=s.length,f=d.getEnds(),g=0,_=f.length;g<_;++g)f[g]+=h;p.extend(s,d.getFlatCoordinates()),l.push(f)}r=o,t=s,i=l}return void 0!==r&&i?(n.setFlatCoordinates(r,t),n.endss_=i):n.setCoordinates(t,r),n}return x(t,e),t.prototype.appendPolygon=function(e){var t;if(this.flatCoordinates){var r=this.flatCoordinates.length;p.extend(this.flatCoordinates,e.getFlatCoordinates());for(var i=0,n=(t=e.getEnds().slice()).length;i<n;++i)t[i]+=r}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()},t.prototype.clone=function(){for(var e=this.endss_.length,r=new Array(e),i=0;i<e;++i)r[i]=this.endss_[i].slice();var n=new t(this.flatCoordinates.slice(),this.layout,r);return n.applyProperties(this),n},t.prototype.closestPointXY=function(e,t,r,i){return i<u.closestSquaredDistanceXY(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(l.multiArrayMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),l.assignClosestMultiArrayPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,r,i))},t.prototype.containsXY=function(e,t){return v.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},t.prototype.getArea=function(){return _.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),g.orientLinearRingsArray(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,h.inflateMultiCoordinatesArray(t,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=m.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=d.getInteriorPointsOfMultiArray(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new o.default(this.getFlatInteriorPoints().slice(),i.default.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;g.linearRingssAreOriented(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=g.orientLinearRingsArray(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=y.quantizeMultiArray(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),r,0,n),new t(r,i.default.XY,n)},t.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var r=this.endss_[e-1];t=r[r.length-1]}var i=this.endss_[e].slice(),n=i[i.length-1];if(0!==t)for(var o=0,s=i.length;o<s;++o)i[o]-=t;return new a.default(this.flatCoordinates.slice(t,n),this.layout,i)},t.prototype.getPolygons=function(){for(var e=this.layout,t=this.flatCoordinates,r=this.endss_,i=[],n=0,o=0,s=r.length;o<s;++o){var l=r[o].slice(),u=l[l.length-1];if(0!==n)for(var c=0,p=l.length;c<p;++c)l[c]-=n;var d=new a.default(t.slice(n,u),e,l);i.push(d),n=u}return i},t.prototype.getType=function(){return n.default.MULTI_POLYGON},t.prototype.intersectsExtent=function(e){return f.intersectsLinearRingMultiArray(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=c.deflateMultiCoordinatesArray(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{var i=r[r.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},t}(s.default)})),parcelRequire.register("6kqrS",(function(e,t){$parcel$export(e.exports,"default",(function(){return R}),(function(e){return R=e})),$parcel$export(e.exports,"circular",(function(){return $}),(function(e){return $=e})),$parcel$export(e.exports,"fromExtent",(function(){return C}),(function(e){return C=e})),$parcel$export(e.exports,"fromCircle",(function(){return S}),(function(e){return S=e})),$parcel$export(e.exports,"makeRegular",(function(){return E}),(function(e){return E=e}));var r,i=parcelRequire("8D7GI"),n=parcelRequire("hZjyb"),o=parcelRequire("k9opN"),a=parcelRequire("1QtZq"),s=parcelRequire("5ZFBU"),l=parcelRequire("97B9H"),u=parcelRequire("geRS1"),c=parcelRequire("37acq"),p=parcelRequire("l89p7"),d=parcelRequire("9wyK0"),h=parcelRequire("bmqlx"),f=parcelRequire("bIN7V"),g=parcelRequire("7e8JJ"),_=parcelRequire("f8PFW"),m=parcelRequire("aG6d5"),v=parcelRequire("8GG6h"),y=parcelRequire("81TzX"),x=parcelRequire("fVV3L"),b=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),w=function(e){function t(t,r,i){var n=e.call(this)||this;return n.ends_=[],n.flatInteriorPointRevision_=-1,n.flatInteriorPoint_=null,n.maxDelta_=-1,n.maxDeltaRevision_=-1,n.orientedRevision_=-1,n.orientedFlatCoordinates_=null,void 0!==r&&i?(n.setFlatCoordinates(r,t),n.ends_=i):n.setCoordinates(t,r),n}return b(t,e),t.prototype.appendLinearRing=function(e){this.flatCoordinates?p.extend(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,t,r,i){return i<u.closestSquaredDistanceXY(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(l.arrayMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),l.assignClosestArrayPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,r,i))},t.prototype.containsXY=function(e,t){return m.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)},t.prototype.getArea=function(){return _.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),g.orientLinearRings(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,h.inflateCoordinatesArray(t,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=u.getCenter(this.getExtent());this.flatInteriorPoint_=d.getInteriorPointOfArray(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new a.default(this.getFlatInteriorPoint(),i.default.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new o.default(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,t=this.flatCoordinates,r=this.ends_,i=[],n=0,a=0,s=r.length;a<s;++a){var l=r[a],u=new o.default(t.slice(n,l),e);i.push(u),n=l}return i},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;g.linearRingsAreOriented(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=g.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=y.quantizeArray(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),r,0,n),new t(r,i.default.XY,n)},t.prototype.getType=function(){return n.default.POLYGON},t.prototype.intersectsExtent=function(e){return f.intersectsLinearRingArray(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=c.deflateCoordinatesArray(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},t}(s.default),R=w;function $(e,t,r,n){for(var o=r||32,a=[],s=0;s<o;++s)p.extend(a,x.offset(e,t,2*Math.PI*s/o,n));return a.push(a[0],a[1]),new w(a,i.default.XY,[a.length])}function C(e){var t=e[0],r=e[1],n=e[2],o=e[3],a=[t,r,t,o,n,o,n,r,t,r];return new w(a,i.default.XY,[a.length])}function S(e,t,r){for(var i=t||32,n=e.getStride(),o=e.getLayout(),a=e.getCenter(),s=n*(i+1),l=new Array(s),u=0;u<s;u+=n){l[u]=0,l[u+1]=0;for(var c=2;c<n;c++)l[u+c]=a[c]}var p=[l.length],d=new w(l,o,p);return E(d,a,e.getRadius(),r),d}function E(e,t,r,i){for(var n=e.getFlatCoordinates(),o=e.getStride(),a=n.length/o-1,s=i||0,l=0;l<=a;++l){var u=l*o,c=s+2*v.modulo(l,a)*Math.PI/a;n[u]=t[0]+r*Math.cos(c),n[u+1]=t[1]+r*Math.sin(c)}e.changed()}})),parcelRequire.register("k9opN",(function(e,t){$parcel$export(e.exports,"default",(function(){return h}),(function(e){return h=e}));var r,i=parcelRequire("8D7GI"),n=parcelRequire("hZjyb"),o=parcelRequire("5ZFBU"),a=parcelRequire("97B9H"),s=parcelRequire("geRS1"),l=parcelRequire("37acq"),u=parcelRequire("81TzX"),c=parcelRequire("bmqlx"),p=parcelRequire("f8PFW"),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=function(e){function t(t,r){var i=e.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===r||Array.isArray(t[0])?i.setCoordinates(t,r):i.setFlatCoordinates(r,t),i}return d(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,r,i){return i<s.closestSquaredDistanceXY(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(a.maxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),a.assignClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,r,i))},t.prototype.getArea=function(){return p.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return c.inflateCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[];return r.length=u.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new t(r,i.default.XY)},t.prototype.getType=function(){return n.default.LINEAR_RING},t.prototype.intersectsExtent=function(e){return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=l.deflateCoordinates(this.flatCoordinates,0,e,this.stride),this.changed()},t}(o.default)})),parcelRequire.register("f8PFW",(function(e,t){function r(e,t,r,i){for(var n=0,o=e[r-i],a=e[r-i+1];t<r;t+=i){var s=e[t],l=e[t+1];n+=a*s-o*l,o=s,a=l}return n/2}function i(e,t,i,n){for(var o=0,a=0,s=i.length;a<s;++a){var l=i[a];o+=r(e,t,l,n),t=l}return o}function n(e,t,r,n){for(var o=0,a=0,s=r.length;a<s;++a){var l=r[a];o+=i(e,t,l,n),t=l[l.length-1]}return o}$parcel$export(e.exports,"linearRing",(function(){return r})),$parcel$export(e.exports,"linearRings",(function(){return i})),$parcel$export(e.exports,"linearRingss",(function(){return n}))})),parcelRequire.register("9wyK0",(function(e,t){$parcel$export(e.exports,"getInteriorPointOfArray",(function(){return n})),$parcel$export(e.exports,"getInteriorPointsOfMultiArray",(function(){return o}));var r=parcelRequire("aG6d5"),i=parcelRequire("l89p7");function n(e,t,n,o,a,s,l){for(var u,c,p,d,h,f,g,_=a[s+1],m=[],v=0,y=n.length;v<y;++v){var x=n[v];for(d=e[x-o],f=e[x-o+1],u=t;u<x;u+=o)h=e[u],g=e[u+1],(_<=f&&g<=_||f<=_&&_<=g)&&(p=(_-f)/(g-f)*(h-d)+d,m.push(p)),d=h,f=g}var b=NaN,w=-1/0;for(m.sort(i.numberSafeCompareFunction),d=m[0],u=1,c=m.length;u<c;++u){h=m[u];var R=Math.abs(h-d);R>w&&(p=(d+h)/2,r.linearRingsContainsXY(e,t,n,o,p,_)&&(b=p,w=R)),d=h}return isNaN(b)&&(b=a[s]),l?(l.push(b,_,w),l):[b,_,w]}function o(e,t,r,i,o){for(var a=[],s=0,l=r.length;s<l;++s){var u=r[s];a=n(e,t,u,i,o,2*s,a),t=u[u.length-1]}return a}})),parcelRequire.register("7e8JJ",(function(e,t){$parcel$export(e.exports,"linearRingsAreOriented",(function(){return n})),$parcel$export(e.exports,"linearRingssAreOriented",(function(){return o})),$parcel$export(e.exports,"orientLinearRings",(function(){return a})),$parcel$export(e.exports,"orientLinearRingsArray",(function(){return s}));var r=parcelRequire("aWwfY");function i(e,t,r,i){for(var n=0,o=e[r-i],a=e[r-i+1];t<r;t+=i){var s=e[t],l=e[t+1];n+=(s-o)*(l+a),o=s,a=l}return 0===n?void 0:n>0}function n(e,t,r,n,o){for(var a=void 0!==o&&o,s=0,l=r.length;s<l;++s){var u=r[s],c=i(e,t,u,n);if(0===s){if(a&&c||!a&&!c)return!1}else if(a&&!c||!a&&c)return!1;t=u}return!0}function o(e,t,r,i,o){for(var a=0,s=r.length;a<s;++a){var l=r[a];if(!n(e,t,l,i,o))return!1;l.length&&(t=l[l.length-1])}return!0}function a(e,t,n,o,a){for(var s=void 0!==a&&a,l=0,u=n.length;l<u;++l){var c=n[l],p=i(e,t,c,o);(0===l?s&&p||!s&&!p:s&&!p||!s&&p)&&r.coordinates(e,t,c,o),t=c}return t}function s(e,t,r,i,n){for(var o=0,s=r.length;o<s;++o)t=a(e,t,r[o],i,n);return t}})),parcelRequire.register("aWwfY",(function(e,t){function r(e,t,r,i){for(;t<r-i;){for(var n=0;n<i;++n){var o=e[t+n];e[t+n]=e[r-i+n],e[r-i+n]=o}t+=i,r-=i}}$parcel$export(e.exports,"coordinates",(function(){return r}))})),parcelRequire.register("fawaT",(function(e,t){$parcel$export(e.exports,"linearRingss",(function(){return i}));var r=parcelRequire("geRS1");function i(e,t,i,n){for(var o=[],a=r.createEmpty(),s=0,l=i.length;s<l;++s){var u=i[s];a=r.createOrUpdateFromFlatCoordinates(e,t,u[0],n),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),t=u[u.length-1]}return o}})),parcelRequire.register("l95NQ",(function(e,t){$parcel$export(e.exports,"SelectEvent",(function(){return m}),(function(e){return m=e})),$parcel$export(e.exports,"default",(function(){return y}),(function(e){return y=e}));var r,i=parcelRequire("5kGze"),n=parcelRequire("aByjX"),o=parcelRequire("jkZCX"),a=parcelRequire("hZjyb"),s=parcelRequire("6ECD4"),l=parcelRequire("6YHhF"),u=parcelRequire("c0LdP"),c=parcelRequire("lOEcB"),p=parcelRequire("fIQfh"),d=parcelRequire("l89p7"),h=parcelRequire("b3vZc"),f=parcelRequire("ae17k"),g=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),_="select",m=function(e){function t(t,r,i,n){var o=e.call(this,t)||this;return o.selected=r,o.deselected=i,o.mapBrowserEvent=n,o}return g(t,e),t}(o.default),v={};var y=function(e){function t(t){var r=e.call(this)||this;r.on,r.once,r.un;var n,o,s=t||{};if(r.boundAddFeature_=r.addFeature_.bind(r),r.boundRemoveFeature_=r.removeFeature_.bind(r),r.condition_=s.condition?s.condition:f.singleClick,r.addCondition_=s.addCondition?s.addCondition:f.never,r.removeCondition_=s.removeCondition?s.removeCondition:f.never,r.toggleCondition_=s.toggleCondition?s.toggleCondition:f.shiftKeyOnly,r.multi_=!!s.multi&&s.multi,r.filter_=s.filter?s.filter:u.TRUE,r.hitTolerance_=s.hitTolerance?s.hitTolerance:0,r.style_=void 0!==s.style?s.style:(n=p.createEditingStyle(),d.extend(n[a.default.POLYGON],n[a.default.LINE_STRING]),d.extend(n[a.default.GEOMETRY_COLLECTION],n[a.default.LINE_STRING]),function(e){return e.getGeometry()?n[e.getGeometry().getType()]:null}),r.features_=s.features||new i.default,s.layers)if("function"==typeof s.layers)o=s.layers;else{var l=s.layers;o=function(e){return d.includes(l,e)}}else o=u.TRUE;return r.layerFilter_=o,r.featureLayerAssociation_={},r}return g(t,e),t.prototype.addFeatureLayerAssociation_=function(e,t){this.featureLayerAssociation_[h.getUid(e)]=t},t.prototype.getFeatures=function(){return this.features_},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.getLayer=function(e){return this.featureLayerAssociation_[h.getUid(e)]},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),e.prototype.setMap.call(this,t),t?(this.features_.addEventListener(n.default.ADD,this.boundAddFeature_),this.features_.addEventListener(n.default.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(n.default.ADD,this.boundAddFeature_),this.features_.removeEventListener(n.default.REMOVE,this.boundRemoveFeature_))},t.prototype.addFeature_=function(e){var t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){var r=this.getMap().getAllLayers().find((function(e){if(e instanceof l.default&&e.getSource()&&e.getSource().hasFeature(t))return e}));r&&this.addFeatureLayerAssociation_(t,r)}},t.prototype.removeFeature_=function(e){var t=e.element;this.style_&&this.restorePreviousStyle_(t)},t.prototype.getStyle=function(){return this.style_},t.prototype.applySelectedStyle_=function(e){var t=h.getUid(e);t in v||(v[t]=e.getStyle()),e.setStyle(this.style_)},t.prototype.restorePreviousStyle_=function(e){for(var r=this.getMap().getInteractions().getArray(),i=r.length-1;i>=0;--i){var n=r[i];if(n!==this&&n instanceof t&&n.getStyle()&&-1!==n.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(n.getStyle())}var o=h.getUid(e);e.setStyle(v[o]),delete v[o]},t.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[h.getUid(e)]},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),r=this.removeCondition_(e),i=this.toggleCondition_(e),n=!t&&!r&&!i,o=e.map,a=this.getFeatures(),s=[],l=[];if(n){c.clear(this.featureLayerAssociation_),o.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return this.addFeatureLayerAssociation_(e,t),l.push(e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var u=a.getLength()-1;u>=0;--u){var p=a.item(u),h=l.indexOf(p);h>-1?l.splice(h,1):(a.remove(p),s.push(p))}0!==l.length&&a.extend(l)}else{o.forEachFeatureAtPixel(e.pixel,function(e,n){if(this.filter_(e,n))return!t&&!i||d.includes(a.getArray(),e)?(r||i)&&d.includes(a.getArray(),e)&&(s.push(e),this.removeFeatureLayerAssociation_(e)):(this.addFeatureLayerAssociation_(e,n),l.push(e)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var f=s.length-1;f>=0;--f)a.remove(s[f]);a.extend(l)}return(l.length>0||s.length>0)&&this.dispatchEvent(new m(_,l,s,e)),!0},t}(s.default)})),parcelRequire.register("6ECD4",(function(e,t){$parcel$export(e.exports,"pan",(function(){return s}),(function(e){return s=e})),$parcel$export(e.exports,"zoomByDelta",(function(){return l}),(function(e){return l=e})),$parcel$export(e.exports,"default",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("5qZl6"),n=parcelRequire("5pHFb"),o=parcelRequire("hNRnK"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function s(e,t,r){var i=e.getCenterInternal();if(i){var n=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:void 0!==r?r:250,easing:o.linear,center:e.getConstrainedCenter(n)})}}function l(e,t,r,i){var n=e.getZoom();if(void 0!==n){var a=e.getConstrainedZoom(n+t),s=e.getResolutionForZoom(a);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:r,duration:void 0!==i?i:250,easing:o.easeOut})}}var u=function(e){function t(t){var r=e.call(this)||this;return r.on,r.once,r.un,t&&t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return a(t,e),t.prototype.getActive=function(){return this.get(n.default.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(e){return!0},t.prototype.setActive=function(e){this.set(n.default.ACTIVE,e)},t.prototype.setMap=function(e){this.map_=e},t}(i.default)})),parcelRequire.register("5pHFb",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={ACTIVE:"active"}})),parcelRequire.register("hNRnK",(function(e,t){function r(e){return Math.pow(e,3)}function i(e){return 1-r(1-e)}function n(e){return 3*e*e-2*e*e*e}function o(e){return e}$parcel$export(e.exports,"easeIn",(function(){return r})),$parcel$export(e.exports,"easeOut",(function(){return i})),$parcel$export(e.exports,"inAndOut",(function(){return n})),$parcel$export(e.exports,"linear",(function(){return o}))})),parcelRequire.register("ae17k",(function(e,t){$parcel$export(e.exports,"all",(function(){return a})),$parcel$export(e.exports,"altKeyOnly",(function(){return s})),$parcel$export(e.exports,"altShiftKeysOnly",(function(){return l})),$parcel$export(e.exports,"focusWithTabindex",(function(){return u})),$parcel$export(e.exports,"always",(function(){return c})),$parcel$export(e.exports,"click",(function(){return p})),$parcel$export(e.exports,"mouseActionButton",(function(){return d})),$parcel$export(e.exports,"never",(function(){return h})),$parcel$export(e.exports,"pointerMove",(function(){return f})),$parcel$export(e.exports,"singleClick",(function(){return g})),$parcel$export(e.exports,"noModifierKeys",(function(){return _})),$parcel$export(e.exports,"shiftKeyOnly",(function(){return m})),$parcel$export(e.exports,"targetNotEditable",(function(){return v})),$parcel$export(e.exports,"mouseOnly",(function(){return y})),$parcel$export(e.exports,"primaryAction",(function(){return x}));var r=parcelRequire("f7B01"),i=parcelRequire("c0LdP"),n=parcelRequire("anhQL"),o=parcelRequire("59Hdm");function a(e){var t=arguments;return function(e){for(var r=!0,i=0,n=t.length;i<n&&(r=r&&t[i](e));++i);return r}}var s=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},l=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},u=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||function(e){var t=e.map.getTargetElement(),r=e.map.getOwnerDocument().activeElement;return t.contains(r)}(e)},c=i.TRUE,p=function(e){return e.type==r.default.CLICK},d=function(e){var t=e.originalEvent;return 0==t.button&&!(n.WEBKIT&&n.MAC&&t.ctrlKey)},h=i.FALSE,f=function(e){return"pointermove"==e.type},g=function(e){return e.type==r.default.SINGLECLICK},_=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},m=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},v=function(e){var t=e.originalEvent.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t},y=function(e){var t=e.originalEvent;return o.assert(void 0!==t,56),"mouse"==t.pointerType},x=function(e){var t=e.originalEvent;return o.assert(void 0!==t,56),t.isPrimary&&0===t.button}})),parcelRequire.register("f7B01",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("7Ry8n"),i={SINGLECLICK:"singleclick",CLICK:r.default.CLICK,DBLCLICK:r.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}})),parcelRequire.register("7rf60",(function(e,t){$parcel$export(e.exports,"DashboardView",(function(){return c}));var r=parcelRequire("h81Li"),i=parcelRequire("iJlFh");const n=new URL(parcelRequire("J6zb3")),o=new URL(parcelRequire("3pQa2")),a=new URL(parcelRequire("flNaf")),s=new URL(parcelRequire("gf7gd")),l=new URL(parcelRequire("bYIWw")),u=new URL(parcelRequire("gIMdM"));var c={id:"dashboard-cnt",type:"wide",css:{background:"#fff"},cols:[{width:20},{rows:[{},{type:"wide",height:120,css:{background:"transparent"},cols:[{type:"clean",rows:[{view:"template",css:"dsh-parties_box dsh_div",template:`<div><div class="dashboard-left"><br /><img style="width:60px" src="${n}"></div><div id="dsh-parties_text" class="dashboard-right">##<br />`+__("Rightholders<br />Registered")+"</div></div>",role:"placeholder"}]},{width:20},{type:"clean",rows:[{view:"template",css:"dsh-spatialunits_box dsh_div",template:`<div><div class="dashboard-left"><img style="width:60px" src="${o}"></div><div id="dsh-spatialunits_text" class="dashboard-right">##<br />`+__("Spatialunits<br />Surveyed")+"</div></div>",role:"placeholder"}]},{width:20},{type:"clean",rows:[{view:"template",css:"dsh-hectares_box dsh_div",tooltip:()=>appdata.sridTooltip,template:`<div><div class="dashboard-left"><img style="width:60px" src="${a}"></div><div id="dsh-hectares_text" class="dashboard-right">##<br />`+__("Hectares<br />Covered")+"</div></div>"}]}]},{},{height:190,type:"wide",css:{background:"transparent"},cols:[{css:"dsh_div",rows:[{css:{background:"#E8F4FA"},template:'<div style="width:100%;text-align:center"><b>'+__("Volume of Data Processed")+"</b></div>",height:25},{view:"d3box",id:"dsh:gauge_chart",template:'<div id="gauge-chart"></div>',css:"gauge_chart",on:{onAfterRender:()=>{r.DashboardCtrl.initGauge()}}}]},{width:20},{css:"dsh_div",rows:[{css:{background:"#E8F4FA"},template:'<div style="width:100%;text-align:center"><b>'+__("Gender Distribution")+"</b></div>",height:25},{view:"chart",id:"dsh:gender_chart",type:"barH",radius:5,value:"#count#",color:"#85e0dd",border:!0,alpha:.6,padding:{top:15,left:70,bottom:25,right:25},origin:0,xAxis:{color:"#bbbbbb"},label:"#count#",yAxis:{template:"#gender#",color:"#bbbbbb"},data:[]}]},{width:20},{css:"dsh_div",rows:[{css:{background:"#E8F4FA"},template:'<div style="width:100%;text-align:center"><b>'+__("Boundary Status")+" (%)</b></div>",height:25},{view:"chart",id:"dsh:boundary_pie",css:"boundary_pie",type:"donut",color:"#color#",value:"#percent#",shadow:!0,radius:55,x:110,label:"#percent#",labelOffset:15,padding:{top:45},legend:{align:"right",valign:"middle",width:110,values:[{text:__("Pending"),color:i.ConceptPieColor(1)},{text:__("In Progress"),color:i.ConceptPieColor(2)},{text:__("Approved"),color:i.ConceptPieColor(3)},{text:__("In Revision"),color:i.ConceptPieColor(4)},{text:__("Titled"),color:i.ConceptPieColor(9)}]}}]}]},{},{type:"wide",height:120,css:{background:"transparent"},cols:[{rows:[{view:"template",css:"dsh-smallest_box dsh_div",tooltip:()=>appdata.sridTooltip,template:`<div><div class="dashboard-left"><img style="width:60px" src="${s}"></div><div id="dsh-smallest_text" class="dashboard-right">`+__("Smallest<br />Spatialunit")+"<br />##</div></div>",role:"placeholder"}]},{width:20},{rows:[{view:"template",css:"dsh-average_box dsh_div",tooltip:()=>appdata.sridTooltip,template:`<div><div class="dashboard-left"><img style="width:60px" src="${l}"></div><div id="dsh-average_text" class="dashboard-right">`+__("Average<br />Spatialunit Size")+"<br />##</div></div>",role:"placeholder"}]},{width:20},{rows:[{view:"template",css:"dsh-largest_box dsh_div",tooltip:()=>appdata.sridTooltip,template:`<div><div class="dashboard-left"><img style="width:60px" src="${u}"></div><div id="dsh-largest_text" class="dashboard-right">`+__("Largest<br />Spatialunit")+"<br />##</div></div>"}]}]},{},{rows:[{css:{background:"#E8F4FA"},template:'<div style="width:100%;text-align:center"><b>'+__("Tenure Situation &mdash; Based on Citizen's Data")+"</b></div>",height:25},{type:"space",css:{background:"transparent"},rows:[{},{id:"dsh:tenure_list",height:50,padding:2,cols:[{}]},{}]}]},{}]},{width:20}],on:{onViewShow:()=>r.DashboardCtrl.onViewShow()},getController:()=>r.DashboardCtrl}})),parcelRequire.register("h81Li",(function(e,t){$parcel$export(e.exports,"DashboardCtrl",(function(){return s}));var r=parcelRequire("8ibmv"),i=parcelRequire("2jgRH"),n=parcelRequire("iJlFh"),o=parcelRequire("hAAR9");parcelRequire("dACxx");var a=parcelRequire("1xW6D"),s={refreshView:!1,sridChanged:!1,gauge:null,initGauge:()=>{var e=$$("dsh:gauge_chart").$width;function t(){var t=Math.min(a.default("#gauge-chart").node().offsetWidth,e);s.gauge.width(t).innerRadius(t/4).outerRadius(t/4+25),a.default("#gauge-chart").call(s.gauge)}s.gauge=o.gaugeChart().width(e).height(200).innerRadius(50).outerRadius(50).margin({top:5,right:10,bottom:0,left:10}),a.default("#gauge-chart").datum([0]).call(s.gauge),t(),$$("dsh:gauge_chart").resizeFunction=t},onViewShow:()=>{if(s.refreshView||s.sridChanged){var e={srid:appdata.srid};webix.ajax().get("./api/dashboard/data/",{...appdata.dbparams,...e}).then((e=>{e.json().success?s.updateFigures(e.json()):r.showErrorMsg(null,e.json().message)}),(e=>{r.showErrorMsg(e,"")})),s.refreshView=!1}s.sridChanged&&(webix.message({type:"success",text:__("Some values were recalculated to reflect the SRID change"),expire:2500}),s.sridChanged=!1)},updateFigures:e=>{let t,r,o,l=e.details,u=5e3;l.total_area<u?(t=__("Square Meters<br />Covered"),r=String(l.total_area),o=0):(t=__("Hectares<br />Covered"),r=String(l.total_area/1e4),o=1),document.getElementById("dsh-hectares_text").innerHTML=webix.Number.format(r,{decimalSize:o,decimalDelimiter:"."})+"<br />"+t,document.getElementById("dsh-spatialunits_text").innerHTML=l.num_spatialunits+"<br />"+__("Spatialunits<br />Surveyed"),document.getElementById("dsh-parties_text").innerHTML=l.num_parties+"<br />"+__("Rightholders<br />Registered"),l.largest<u?(t="&nbsp;m<sup>2</sup>",r=String(l.largest),o=0):(t="&nbsp;has",r=String(l.largest/1e4),o=1),document.getElementById("dsh-largest_text").innerHTML=__("Largest<br />Spatialunit")+"<br />"+webix.Number.format(r,{decimalSize:o,decimalDelimiter:"."})+t,l.average_size<u?(t="&nbsp;m<sup>2</sup>",r=String(l.average_size),o=0):(t="&nbsp;has",r=String(l.average_size/1e4),o=1),document.getElementById("dsh-average_text").innerHTML=__("Average<br />Spatialunit Size")+"<br />"+webix.Number.format(r,{decimalSize:o,decimalDelimiter:"."})+t,l.smallest<u?(t="&nbsp;m<sup>2</sup>",r=String(l.smallest),o=0):(t="&nbsp;has",r=String(l.smallest/1e4),o=1),document.getElementById("dsh-smallest_text").innerHTML=__("Smallest<br />Spatialunit")+"<br />"+webix.Number.format(r,{decimalSize:o,decimalDelimiter:"."})+t,e.progress.find((e=>"processed"==e.status))||e.progress.push({status:"processed",count:0});var c=e.progress.find((e=>"processed"==e.status)).count/e.progress.reduce(((e,t)=>e.count+t.count))*100;a.default("#gauge-chart").datum([c]).call(s.gauge);for(let t of e.gender_dist)t.gender=i.Codelist("gender",t.id);$$("dsh:gender_chart").parse(e.gender_dist);for(let t of e.status)t.color=n.ConceptPieColor(t.concept);$$("dsh:boundary_pie").parse(e.status);var p=new Array;p.push({}),e.tenure.forEach((e=>{p.push({view:"template",css:"dsh-right_box",width:120,template:`<div><span>\n                            ${i.Codelist("righttype",e.right_type)} &ndash;\n                            <b><em>${e.count}</em></b>\n                        </span></div>`,role:"placeholder"}),p.push({})})),webix.ui(p,$$("dsh:tenure_list"))}}})),parcelRequire.register("hAAR9",(function(e,t){$parcel$export(e.exports,"gaugeChart",(function(){return l})),parcelRequire("dACxx");var r=parcelRequire("2P2n1"),i=parcelRequire("kT6bD"),n=parcelRequire("1xW6D"),o=parcelRequire("3GRoZ"),a=parcelRequire("hLpsd"),s=parcelRequire("9ir2Q"),l=function(){var e={top:0,right:65,bottom:10,left:65},t=250,l=150,u=-Math.PI/2,c=Math.PI/2,p=60,d=80,h=[0,50,100],f=10,g=r.default(),_=r.default(),m=["#d7191c","#efef5d","#1a9641"],v=i.default();function y(y){y.each((function(x){x=x.map((function(e,t){return function(e){return+e}(e)})),_=r.default().domain(h).range([u,0,c]),g=r.default().domain(h).range(m),v=i.default().innerRadius(p).outerRadius(d).startAngle(u);var b,w=(b=n.default(this).selectAll("svg").data([x])).enter().append("svg").append("g").append("g").attr("class","arc");w.append("path").attr("class","bg-arc"),w.append("path").attr("class","data-arc").datum({endAngle:u,startAngle:u,score:h[0]}).attr("d",v).style("fill",g(h[0])).each((function(e){this._current=e})),w.append("text").attr("class","arc-label"),w.selectAll(".lines").data(_.ticks(5).map((function(e){return{score:e}}))).enter().append("path").attr("class","lines"),w.selectAll(".ticks").data(_.ticks(5)).enter().append("text").attr("class","ticks"),(b=y.select("svg")).attr("width",t).attr("height",l);b.select("g").attr("transform","translate("+e.left+","+e.top+")");var R=b.select("g.arc").attr("transform","translate("+(t-e.left-e.right)/2+","+l*(2/3)+")");b.select("g.arc .bg-arc").datum({endAngle:c}).style("fill","#ddd").attr("d",v);b.select("g.arc .data-arc").datum({score:x[0],startAngle:u,endAngle:_(x[0])}).transition().duration(750).style("fill",(function(e){return g(e.score)})).style("opacity",(function(e){return e.score<h[0]?0:1})).attrTween("d",(function(e){var t=o.default(this._current,e);return this._current=t(0),function(e){return v(t(e))}}));var $=b.select("g.arc .bg-arc").node().getBBox();b.select("text.arc-label").datum({score:x[0]}).attr("x",$.width/2+$.x).attr("y",-15).style("alignment-baseline","central").style("text-anchor","middle").style("font-size","30px").text((function(e){return a.format(".0%")(e.score/100)}));var C=s.default().angle((function(e){return _(e)})).radius((function(e,t){return p+t%2*(d-p)}));R.selectAll(".lines").attr("d",(function(e){return C([e.score,e.score])})).style("fill","none").style("stroke-width",2.5).style("stroke","#fff"),R.selectAll(".ticks").style("font-size","12px").style("text-anchor","middle").attr("x",(function(e){return Math.cos(_(e)+u)*(d+f)})).attr("y",(function(e){var t=Math.sin(_(e)+u)*(d+f);return t<-1?t:-7})).text((function(e){return e}))}))}return y.margin=function(t){return arguments.length?(e=t,y):e},y.width=function(e){return arguments.length?(t=e,y):t},y.height=function(e){return arguments.length?(l=e,y):l},y.innerRadius=function(e){return arguments.length?(p=e,y):p},y.outerRadius=function(e){return arguments.length?(d=e,y):d},y.dataDomain=function(e){return arguments.length?(h=e,y):h},y.colorOptions=function(e){return arguments.length?(m=e,y):m},y.labelPad=function(e){return arguments.length?(f=e,y):f},y}})),parcelRequire.register("dACxx",(function(e,t){$parcel$export(e.exports,"format",(function(){return parcelRequire("hLpsd").format})),$parcel$export(e.exports,"interpolate",(function(){return parcelRequire("3GRoZ").default})),$parcel$export(e.exports,"scaleLinear",(function(){return parcelRequire("2P2n1").default})),$parcel$export(e.exports,"select",(function(){return parcelRequire("1xW6D").default})),$parcel$export(e.exports,"arc",(function(){return parcelRequire("kT6bD").default})),$parcel$export(e.exports,"radialLine",(function(){return parcelRequire("9ir2Q").default})),parcelRequire("7p3OX"),parcelRequire("g5lhT"),parcelRequire("kAZqU")})),parcelRequire.register("7p3OX",(function(e,t){parcelRequire("7IZxY")})),parcelRequire.register("7IZxY",(function(e,t){parcelRequire("koJqn"),parcelRequire("3kcX3"),parcelRequire("3GRoZ"),parcelRequire("1xW6D"),parcelRequire("9UK5e");parcelRequire("g5lhT");parcelRequire("eoykp"),parcelRequire("k5DcK"),parcelRequire("ipME4"),parcelRequire("l10XL");const{abs:r,max:i,min:n}=Math;function o(e){return[+e[0],+e[1]]}function a(e){return[o(e[0]),o(e[1])]}["w","e"].map(s),["n","s"].map(s),["n","w","e","s","nw","ne","sw","se"].map(s);function s(e){return{type:e}}})),parcelRequire.register("koJqn",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}));var r={value:()=>{}};function i(){for(var e,t=0,r=arguments.length,i={};t<r;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new n(i)}function n(e){this._=e}function o(e,t){return e.trim().split(/^|\s+/).map((function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}}))}function a(e,t){for(var r,i=0,n=e.length;i<n;++i)if((r=e[i]).name===t)return r.value}function s(e,t,i){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=r,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=i&&e.push({name:t,value:i}),e}n.prototype=i.prototype={constructor:n,on:function(e,t){var r,i=this._,n=o(e+"",i),l=-1,u=n.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<u;)if(r=(e=n[l]).type)i[r]=s(i[r],e.name,t);else if(null==t)for(r in i)i[r]=s(i[r],e.name,null);return this}for(;++l<u;)if((r=(e=n[l]).type)&&(r=a(i[r],e.name)))return r},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new n(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,i,n=new Array(r),o=0;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,r=(i=this._[e]).length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],n=0,o=i.length;n<o;++n)i[n].value.apply(t,r)}};var l=i})),parcelRequire.register("3kcX3",(function(e,t){$parcel$export(e.exports,"default",(function(){return n})),$parcel$export(e.exports,"yesdrag",(function(){return o}));var r=parcelRequire("1xW6D"),i=parcelRequire("g3nD8");function n(e){var t=e.document.documentElement,n=r.default(e).on("dragstart.drag",i.default,i.nonpassivecapture);"onselectstart"in t?n.on("selectstart.drag",i.default,i.nonpassivecapture):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function o(e,t){var n=e.document.documentElement,o=r.default(e).on("dragstart.drag",null);t&&(o.on("click.drag",i.default,i.nonpassivecapture),setTimeout((function(){o.on("click.drag",null)}),0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}})),parcelRequire.register("lozXM",(function(e,t){function r(e){return function(){return this.matches(e)}}function i(e){return function(t){return t.matches(e)}}$parcel$export(e.exports,"default",(function(){return r})),$parcel$export(e.exports,"childMatcher",(function(){return i}))})),parcelRequire.register("8mkyT",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("ii7Jb");function i(e){var t=e+="",i=t.indexOf(":");return i>=0&&"xmlns"!==(t=e.slice(0,i))&&(e=e.slice(i+1)),r.default.hasOwnProperty(t)?{space:r.default[t],local:e}:e}})),parcelRequire.register("ii7Jb",(function(e,t){$parcel$export(e.exports,"xhtml",(function(){return r})),$parcel$export(e.exports,"default",(function(){return i}));var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}})),parcelRequire.register("9UK5e",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("WP0Mk");function i(e,t){if(e=r.default(e),void 0===t&&(t=e.currentTarget),t){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}})),parcelRequire.register("WP0Mk",(function(e,t){function r(e){let t;for(;t=e.sourceEvent;)e=t;return e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("1xW6D",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("1WFhG");function i(e){return"string"==typeof e?new r.Selection([[document.querySelector(e)]],[document.documentElement]):new r.Selection([[e]],r.root)}})),parcelRequire.register("1WFhG",(function(e,t){$parcel$export(e.exports,"root",(function(){return F})),$parcel$export(e.exports,"Selection",(function(){return k})),$parcel$export(e.exports,"default",(function(){return N}));var r=parcelRequire("8RNKF"),i=parcelRequire("1Rvfs"),n=parcelRequire("dSsX8"),o=parcelRequire("CFM24"),a=parcelRequire("1jj7G"),s=parcelRequire("1vkhp"),l=parcelRequire("6O836"),u=parcelRequire("6UZPJ"),c=parcelRequire("kmsOt"),p=parcelRequire("c5Eol"),d=parcelRequire("hpxQ8"),h=parcelRequire("2HluA"),f=parcelRequire("3PoVZ"),g=parcelRequire("8V6om"),_=parcelRequire("aTuaU"),m=parcelRequire("7ty2y"),v=parcelRequire("kXqgi"),y=parcelRequire("8Zf8N"),x=parcelRequire("7x8pP"),b=parcelRequire("5eSsG"),w=parcelRequire("hjg8s"),R=parcelRequire("12cY5"),$=parcelRequire("5cSl6"),C=parcelRequire("64HlT"),S=parcelRequire("jHIKt"),E=parcelRequire("9CSgx"),q=parcelRequire("ctIff"),T=parcelRequire("5D7pC"),I=parcelRequire("8kVZ5"),L=parcelRequire("jeFiJ"),A=parcelRequire("6KSLw"),O=parcelRequire("iYxUT"),P=parcelRequire("9kFMx"),M=parcelRequire("iZ4ca"),F=[null];function k(e,t){this._groups=e,this._parents=t}function D(){return new k([[document.documentElement]],F)}k.prototype=D.prototype={constructor:k,select:r.default,selectAll:i.default,selectChild:n.default,selectChildren:o.default,filter:a.default,data:s.default,enter:l.default,exit:u.default,join:c.default,merge:p.default,selection:function(){return this},order:d.default,sort:h.default,call:f.default,nodes:g.default,node:_.default,size:m.default,empty:v.default,each:y.default,attr:x.default,style:b.default,property:w.default,classed:R.default,text:$.default,html:C.default,raise:S.default,lower:E.default,append:q.default,insert:T.default,remove:I.default,clone:L.default,datum:A.default,on:O.default,dispatch:P.default,[Symbol.iterator]:M.default};var N=D})),parcelRequire.register("8RNKF",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("1WFhG"),i=parcelRequire("hCiTf");function n(e){"function"!=typeof e&&(e=i.default(e));for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a)for(var s,l,u=t[a],c=u.length,p=o[a]=new Array(c),d=0;d<c;++d)(s=u[d])&&(l=e.call(s,s.__data__,d,u))&&("__data__"in s&&(l.__data__=s.__data__),p[d]=l);return new r.Selection(o,this._parents)}})),parcelRequire.register("hCiTf",(function(e,t){function r(){}function i(e){return null==e?r:function(){return this.querySelector(e)}}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("1Rvfs",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("1WFhG"),i=parcelRequire("931U8"),n=parcelRequire("QbHmF");function o(e){e="function"==typeof e?function(e){return function(){return i.default(e.apply(this,arguments))}}(e):n.default(e);for(var t=this._groups,o=t.length,a=[],s=[],l=0;l<o;++l)for(var u,c=t[l],p=c.length,d=0;d<p;++d)(u=c[d])&&(a.push(e.call(u,u.__data__,d,c)),s.push(u));return new r.Selection(a,s)}})),parcelRequire.register("931U8",(function(e,t){function r(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("QbHmF",(function(e,t){function r(){return[]}function i(e){return null==e?r:function(){return this.querySelectorAll(e)}}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("dSsX8",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("lozXM"),i=Array.prototype.find;function n(){return this.firstElementChild}function o(e){return this.select(null==e?n:function(e){return function(){return i.call(this.children,e)}}("function"==typeof e?e:r.childMatcher(e)))}})),parcelRequire.register("CFM24",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("lozXM"),i=Array.prototype.filter;function n(){return Array.from(this.children)}function o(e){return this.selectAll(null==e?n:function(e){return function(){return i.call(this.children,e)}}("function"==typeof e?e:r.childMatcher(e)))}})),parcelRequire.register("1jj7G",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("1WFhG"),i=parcelRequire("lozXM");function n(e){"function"!=typeof e&&(e=i.default(e));for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a)for(var s,l=t[a],u=l.length,c=o[a]=[],p=0;p<u;++p)(s=l[p])&&e.call(s,s.__data__,p,l)&&c.push(s);return new r.Selection(o,this._parents)}})),parcelRequire.register("1vkhp",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}));var r=parcelRequire("1WFhG"),i=parcelRequire("6O836"),n=parcelRequire("5JXSm");function o(e,t,r,n,o,a){for(var s,l=0,u=t.length,c=a.length;l<c;++l)(s=t[l])?(s.__data__=a[l],n[l]=s):r[l]=new i.EnterNode(e,a[l]);for(;l<u;++l)(s=t[l])&&(o[l]=s)}function a(e,t,r,n,o,a,s){var l,u,c,p=new Map,d=t.length,h=a.length,f=new Array(d);for(l=0;l<d;++l)(u=t[l])&&(f[l]=c=s.call(u,u.__data__,l,t)+"",p.has(c)?o[l]=u:p.set(c,u));for(l=0;l<h;++l)c=s.call(e,a[l],l,a)+"",(u=p.get(c))?(n[l]=u,u.__data__=a[l],p.delete(c)):r[l]=new i.EnterNode(e,a[l]);for(l=0;l<d;++l)(u=t[l])&&p.get(f[l])===u&&(o[l]=u)}function s(e){return e.__data__}function l(e,t){if(!arguments.length)return Array.from(this,s);var i=t?a:o,l=this._parents,c=this._groups;"function"!=typeof e&&(e=n.default(e));for(var p=c.length,d=new Array(p),h=new Array(p),f=new Array(p),g=0;g<p;++g){var _=l[g],m=c[g],v=m.length,y=u(e.call(_,_&&_.__data__,g,l)),x=y.length,b=h[g]=new Array(x),w=d[g]=new Array(x),R=f[g]=new Array(v);i(_,m,b,w,R,y,t);for(var $,C,S=0,E=0;S<x;++S)if($=b[S]){for(S>=E&&(E=S+1);!(C=w[E])&&++E<x;);$._next=C||null}}return(d=new r.Selection(d,l))._enter=h,d._exit=f,d}function u(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}})),parcelRequire.register("6O836",(function(e,t){$parcel$export(e.exports,"default",(function(){return n})),$parcel$export(e.exports,"EnterNode",(function(){return o}));var r=parcelRequire("3b6K0"),i=parcelRequire("1WFhG");function n(){return new i.Selection(this._enter||this._groups.map(r.default),this._parents)}function o(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}o.prototype={constructor:o,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}})),parcelRequire.register("3b6K0",(function(e,t){function r(e){return new Array(e.length)}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("5JXSm",(function(e,t){function r(e){return function(){return e}}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("6UZPJ",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("3b6K0"),i=parcelRequire("1WFhG");function n(){return new i.Selection(this._exit||this._groups.map(r.default),this._parents)}})),parcelRequire.register("kmsOt",(function(e,t){function r(e,t,r){var i=this.enter(),n=this,o=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=t&&(n=t(n))&&(n=n.selection()),null==r?o.remove():r(o),i&&n?i.merge(n).order():n}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("c5Eol",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("1WFhG");function i(e){for(var t=e.selection?e.selection():e,i=this._groups,n=t._groups,o=i.length,a=n.length,s=Math.min(o,a),l=new Array(o),u=0;u<s;++u)for(var c,p=i[u],d=n[u],h=p.length,f=l[u]=new Array(h),g=0;g<h;++g)(c=p[g]||d[g])&&(f[g]=c);for(;u<o;++u)l[u]=i[u];return new r.Selection(l,this._parents)}})),parcelRequire.register("hpxQ8",(function(e,t){function r(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var i,n=e[t],o=n.length-1,a=n[o];--o>=0;)(i=n[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("2HluA",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("1WFhG");function i(e){function t(t,r){return t&&r?e(t.__data__,r.__data__):!t-!r}e||(e=n);for(var i=this._groups,o=i.length,a=new Array(o),s=0;s<o;++s){for(var l,u=i[s],c=u.length,p=a[s]=new Array(c),d=0;d<c;++d)(l=u[d])&&(p[d]=l);p.sort(t)}return new r.Selection(a,this._parents).order()}function n(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}})),parcelRequire.register("3PoVZ",(function(e,t){function r(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("8V6om",(function(e,t){function r(){return Array.from(this)}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("aTuaU",(function(e,t){function r(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,o=i.length;n<o;++n){var a=i[n];if(a)return a}return null}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("7ty2y",(function(e,t){function r(){let e=0;for(const t of this)++e;return e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("kXqgi",(function(e,t){function r(){return!this.node()}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("8Zf8N",(function(e,t){function r(e){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var n,o=t[r],a=0,s=o.length;a<s;++a)(n=o[a])&&e.call(n,n.__data__,a,o);return this}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("7x8pP",(function(e,t){$parcel$export(e.exports,"default",(function(){return u}));var r=parcelRequire("8mkyT");function i(e){return function(){this.removeAttribute(e)}}function n(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t){return function(){this.setAttribute(e,t)}}function a(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function s(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}function l(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function u(e,t){var u=r.default(e);if(arguments.length<2){var c=this.node();return u.local?c.getAttributeNS(u.space,u.local):c.getAttribute(u)}return this.each((null==t?u.local?n:i:"function"==typeof t?u.local?l:s:u.local?a:o)(u,t))}})),parcelRequire.register("5eSsG",(function(e,t){$parcel$export(e.exports,"default",(function(){return a})),$parcel$export(e.exports,"styleValue",(function(){return s}));var r=parcelRequire("gja3a");function i(e){return function(){this.style.removeProperty(e)}}function n(e,t,r){return function(){this.style.setProperty(e,t,r)}}function o(e,t,r){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function a(e,t,r){return arguments.length>1?this.each((null==t?i:"function"==typeof t?o:n)(e,t,null==r?"":r)):s(this.node(),e)}function s(e,t){return e.style.getPropertyValue(t)||r.default(e).getComputedStyle(e,null).getPropertyValue(t)}})),parcelRequire.register("gja3a",(function(e,t){function r(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("hjg8s",(function(e,t){function r(e){return function(){delete this[e]}}function i(e,t){return function(){this[e]=t}}function n(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}function o(e,t){return arguments.length>1?this.each((null==t?r:"function"==typeof t?n:i)(e,t)):this.node()[e]}$parcel$export(e.exports,"default",(function(){return o}))})),parcelRequire.register("12cY5",(function(e,t){function r(e){return e.trim().split(/^|\s+/)}function i(e){return e.classList||new n(e)}function n(e){this._node=e,this._names=r(e.getAttribute("class")||"")}function o(e,t){for(var r=i(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function a(e,t){for(var r=i(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}function s(e){return function(){o(this,e)}}function l(e){return function(){a(this,e)}}function u(e,t){return function(){(t.apply(this,arguments)?o:a)(this,e)}}function c(e,t){var n=r(e+"");if(arguments.length<2){for(var o=i(this.node()),a=-1,c=n.length;++a<c;)if(!o.contains(n[a]))return!1;return!0}return this.each(("function"==typeof t?u:t?s:l)(n,t))}$parcel$export(e.exports,"default",(function(){return c})),n.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}})),parcelRequire.register("5cSl6",(function(e,t){function r(){this.textContent=""}function i(e){return function(){this.textContent=e}}function n(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function o(e){return arguments.length?this.each(null==e?r:("function"==typeof e?n:i)(e)):this.node().textContent}$parcel$export(e.exports,"default",(function(){return o}))})),parcelRequire.register("64HlT",(function(e,t){function r(){this.innerHTML=""}function i(e){return function(){this.innerHTML=e}}function n(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function o(e){return arguments.length?this.each(null==e?r:("function"==typeof e?n:i)(e)):this.node().innerHTML}$parcel$export(e.exports,"default",(function(){return o}))})),parcelRequire.register("jHIKt",(function(e,t){function r(){this.nextSibling&&this.parentNode.appendChild(this)}function i(){return this.each(r)}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("9CSgx",(function(e,t){function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function i(){return this.each(r)}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("ctIff",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("4L22g");function i(e){var t="function"==typeof e?e:r.default(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}})),parcelRequire.register("4L22g",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var r=parcelRequire("8mkyT"),i=parcelRequire("ii7Jb");function n(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===i.xhtml&&t.documentElement.namespaceURI===i.xhtml?t.createElement(e):t.createElementNS(r,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function a(e){var t=r.default(e);return(t.local?o:n)(t)}})),parcelRequire.register("5D7pC",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("4L22g"),i=parcelRequire("hCiTf");function n(){return null}function o(e,t){var o="function"==typeof e?e:r.default(e),a=null==t?n:"function"==typeof t?t:i.default(t);return this.select((function(){return this.insertBefore(o.apply(this,arguments),a.apply(this,arguments)||null)}))}})),parcelRequire.register("8kVZ5",(function(e,t){function r(){var e=this.parentNode;e&&e.removeChild(this)}function i(){return this.each(r)}$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("jeFiJ",(function(e,t){function r(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function i(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n(e){return this.select(e?i:r)}$parcel$export(e.exports,"default",(function(){return n}))})),parcelRequire.register("6KSLw",(function(e,t){function r(e){return arguments.length?this.property("__data__",e):this.node().__data__}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("iYxUT",(function(e,t){function r(e){return e.trim().split(/^|\s+/).map((function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}}))}function i(e){return function(){var t=this.__on;if(t){for(var r,i=0,n=-1,o=t.length;i<o;++i)r=t[i],e.type&&r.type!==e.type||r.name!==e.name?t[++n]=r:this.removeEventListener(r.type,r.listener,r.options);++n?t.length=n:delete this.__on}}}function n(e,t,r){return function(){var i,n=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(n)for(var a=0,s=n.length;a<s;++a)if((i=n[a]).type===e.type&&i.name===e.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),void(i.value=t);this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function o(e,t,o){var a,s,l=r(e+""),u=l.length;if(!(arguments.length<2)){for(c=t?n:i,a=0;a<u;++a)this.each(c(l[a],t,o));return this}var c=this.node().__on;if(c)for(var p,d=0,h=c.length;d<h;++d)for(a=0,p=c[d];a<u;++a)if((s=l[a]).type===p.type&&s.name===p.name)return p.value}$parcel$export(e.exports,"default",(function(){return o}))})),parcelRequire.register("9kFMx",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var r=parcelRequire("gja3a");function i(e,t,i){var n=r.default(e),o=n.CustomEvent;"function"==typeof o?o=new o(t,i):(o=n.document.createEvent("Event"),i?(o.initEvent(t,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function n(e,t){return function(){return i(this,e,t)}}function o(e,t){return function(){return i(this,e,t.apply(this,arguments))}}function a(e,t){return this.each(("function"==typeof t?o:n)(e,t))}})),parcelRequire.register("iZ4ca",(function(e,t){function*r(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i,n=e[t],o=0,a=n.length;o<a;++o)(i=n[o])&&(yield i)}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("g3nD8",(function(e,t){$parcel$export(e.exports,"nonpassivecapture",(function(){return r})),$parcel$export(e.exports,"default",(function(){return i}));const r={capture:!0,passive:!1};function i(e){e.preventDefault(),e.stopImmediatePropagation()}})),parcelRequire.register("3GRoZ",(function(e,t){$parcel$export(e.exports,"default",(function(){return p}));var r=parcelRequire("kcVQK"),i=parcelRequire("8F9s1"),n=parcelRequire("6kdKP"),o=parcelRequire("gXOxZ"),a=parcelRequire("i1eLt"),s=parcelRequire("fqn5a"),l=parcelRequire("3kMWl"),u=parcelRequire("fTiFJ"),c=parcelRequire("6jyfK");function p(e,t){var p,d=typeof t;return null==t||"boolean"===d?u.default(t):("number"===d?a.default:"string"===d?(p=r.default(t))?(t=p,i.default):l.default:t instanceof r.default?i.default:t instanceof Date?o.default:c.isNumberArray(t)?c.default:Array.isArray(t)?n.genericArray:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?s.default:a.default)(e,t)}})),parcelRequire.register("kcVQK",(function(e,t){$parcel$export(e.exports,"default",(function(){return y})),$parcel$export(e.exports,"rgb",(function(){return R}));var r=parcelRequire("6hvxY");function i(){}var n=.7,o=1.4285714285714286,a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,c=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),p=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),h=new RegExp("^rgba\\("+[l,l,l,s]+"\\)$"),f=new RegExp("^hsl\\("+[s,l,l]+"\\)$"),g=new RegExp("^hsla\\("+[s,l,l,s]+"\\)$"),_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function y(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?x(t):3===r?new $(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?b(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?b(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=c.exec(e))?new $(t[1],t[2],t[3],1):(t=p.exec(e))?new $(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?b(t[1],t[2],t[3],t[4]):(t=h.exec(e))?b(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=f.exec(e))?q(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?q(t[1],t[2]/100,t[3]/100,t[4]):_.hasOwnProperty(e)?x(_[e]):"transparent"===e?new $(NaN,NaN,NaN,0):null}function x(e){return new $(e>>16&255,e>>8&255,255&e,1)}function b(e,t,r,i){return i<=0&&(e=t=r=NaN),new $(e,t,r,i)}function w(e){return e instanceof i||(e=y(e)),e?new $((e=e.rgb()).r,e.g,e.b,e.opacity):new $}function R(e,t,r,i){return 1===arguments.length?w(e):new $(e,t,r,null==i?1:i)}function $(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}function C(){return"#"+E(this.r)+E(this.g)+E(this.b)}function S(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function E(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function q(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new I(e,t,r,i)}function T(e){if(e instanceof I)return new I(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=y(e)),!e)return new I;if(e instanceof I)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-o,u=(a+o)/2;return l?(s=t===a?(r-n)/l+6*(r<n):r===a?(n-t)/l+2:(t-r)/l+4,l/=u<.5?a+o:2-a-o,s*=60):l=u>0&&u<1?0:s,new I(s,l,u,e.opacity)}function I(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}function L(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}r.default(i,y,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:function(){return T(this).formatHsl()},formatRgb:v,toString:v}),r.default($,R,r.extend(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new $(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?n:Math.pow(n,e),new $(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C,formatHex:C,formatRgb:S,toString:S})),r.default(I,(function(e,t,r,i){return 1===arguments.length?T(e):new I(e,t,r,null==i?1:i)}),r.extend(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new I(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?n:Math.pow(n,e),new I(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,n=2*r-i;return new $(L(e>=240?e-240:e+120,n,i),L(e,n,i),L(e<120?e+240:e-120,n,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))})),parcelRequire.register("6hvxY",(function(e,t){function r(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function i(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}$parcel$export(e.exports,"default",(function(){return r})),$parcel$export(e.exports,"extend",(function(){return i}))})),parcelRequire.register("8F9s1",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var r=parcelRequire("kcVQK"),i=parcelRequire("3B3jz"),n=parcelRequire("5k0jN"),o=parcelRequire("8iqka"),a=function e(t){var i=o.gamma(t);function n(e,t){var n=i((e=r.rgb(e)).r,(t=r.rgb(t)).r),a=i(e.g,t.g),s=i(e.b,t.b),l=o.default(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=s(t),e.opacity=l(t),e+""}}return n.gamma=e,n}(1);function s(e){return function(t){var i,n,o=t.length,a=new Array(o),s=new Array(o),l=new Array(o);for(i=0;i<o;++i)n=r.rgb(t[i]),a[i]=n.r||0,s[i]=n.g||0,l[i]=n.b||0;return a=e(a),s=e(s),l=e(l),n.opacity=1,function(e){return n.r=a(e),n.g=s(e),n.b=l(e),n+""}}}s(i.default),s(n.default)})),parcelRequire.register("3B3jz",(function(e,t){function r(e,t,r,i,n){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*i+a*n)/6}function i(e){var t=e.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),o=e[n],a=e[n+1],s=n>0?e[n-1]:2*o-a,l=n<t-1?e[n+2]:2*a-o;return r((i-n/t)*t,s,o,a,l)}}$parcel$export(e.exports,"basis",(function(){return r})),$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("5k0jN",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("3B3jz");function i(e){var t=e.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*t),o=e[(n+t-1)%t],a=e[n%t],s=e[(n+1)%t],l=e[(n+2)%t];return r.basis((i-n/t)*t,o,a,s,l)}}})),parcelRequire.register("8iqka",(function(e,t){$parcel$export(e.exports,"gamma",(function(){return n})),$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("fTiFJ");function i(e,t){return function(r){return e+r*t}}function n(e){return 1==(e=+e)?o:function(t,i){return i-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}(t,i,e):r.default(isNaN(t)?i:t)}}function o(e,t){var n=t-e;return n?i(e,n):r.default(isNaN(e)?t:e)}})),parcelRequire.register("fTiFJ",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r=e=>()=>e})),parcelRequire.register("6kdKP",(function(e,t){$parcel$export(e.exports,"genericArray",(function(){return i}));var r=parcelRequire("3GRoZ");parcelRequire("6jyfK");function i(e,t){var i,n=t?t.length:0,o=e?Math.min(n,e.length):0,a=new Array(o),s=new Array(n);for(i=0;i<o;++i)a[i]=r.default(e[i],t[i]);for(;i<n;++i)s[i]=t[i];return function(e){for(i=0;i<o;++i)s[i]=a[i](e);return s}}})),parcelRequire.register("6jyfK",(function(e,t){function r(e,t){t||(t=[]);var r,i=e?Math.min(t.length,e.length):0,n=t.slice();return function(o){for(r=0;r<i;++r)n[r]=e[r]*(1-o)+t[r]*o;return n}}function i(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}$parcel$export(e.exports,"default",(function(){return r})),$parcel$export(e.exports,"isNumberArray",(function(){return i}))})),parcelRequire.register("gXOxZ",(function(e,t){function r(e,t){var r=new Date;return e=+e,t=+t,function(i){return r.setTime(e*(1-i)+t*i),r}}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("i1eLt",(function(e,t){function r(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("fqn5a",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("3GRoZ");function i(e,t){var i,n={},o={};for(i in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)i in e?n[i]=r.default(e[i],t[i]):o[i]=t[i];return function(e){for(i in n)o[i]=n[i](e);return o}}})),parcelRequire.register("3kMWl",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("i1eLt"),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n=new RegExp(i.source,"g");function o(e,t){var o,a,s,l=i.lastIndex=n.lastIndex=0,u=-1,c=[],p=[];for(e+="",t+="";(o=i.exec(e))&&(a=n.exec(t));)(s=a.index)>l&&(s=t.slice(l,s),c[u]?c[u]+=s:c[++u]=s),(o=o[0])===(a=a[0])?c[u]?c[u]+=a:c[++u]=a:(c[++u]=null,p.push({i:u,x:r.default(o,a)})),l=n.lastIndex;return l<t.length&&(s=t.slice(l),c[u]?c[u]+=s:c[++u]=s),c.length<2?p[0]?function(e){return function(t){return e(t)+""}}(p[0].x):function(e){return function(){return e}}(t):(t=p.length,function(e){for(var r,i=0;i<t;++i)c[(r=p[i]).i]=r.x(e);return c.join("")})}})),parcelRequire.register("aDNIN",(function(e,t){function r(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("5RaP5",(function(e,t){$parcel$export(e.exports,"interpolateTransformCss",(function(){return o})),$parcel$export(e.exports,"interpolateTransformSvg",(function(){return a}));var r=parcelRequire("i1eLt"),i=parcelRequire("8zju8");function n(e,t,i,n){function o(e){return e.length?e.pop()+" ":""}return function(a,s){var l=[],u=[];return a=e(a),s=e(s),function(e,n,o,a,s,l){if(e!==o||n!==a){var u=s.push("translate(",null,t,null,i);l.push({i:u-4,x:r.default(e,o)},{i:u-2,x:r.default(n,a)})}else(o||a)&&s.push("translate("+o+t+a+i)}(a.translateX,a.translateY,s.translateX,s.translateY,l,u),function(e,t,i,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:i.push(o(i)+"rotate(",null,n)-2,x:r.default(e,t)})):t&&i.push(o(i)+"rotate("+t+n)}(a.rotate,s.rotate,l,u),function(e,t,i,a){e!==t?a.push({i:i.push(o(i)+"skewX(",null,n)-2,x:r.default(e,t)}):t&&i.push(o(i)+"skewX("+t+n)}(a.skewX,s.skewX,l,u),function(e,t,i,n,a,s){if(e!==i||t!==n){var l=a.push(o(a)+"scale(",null,",",null,")");s.push({i:l-4,x:r.default(e,i)},{i:l-2,x:r.default(t,n)})}else 1===i&&1===n||a.push(o(a)+"scale("+i+","+n+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,l,u),a=s=null,function(e){for(var t,r=-1,i=u.length;++r<i;)l[(t=u[r]).i]=t.x(e);return l.join("")}}}var o=n(i.parseCss,"px, ","px)","deg)"),a=n(i.parseSvg,", ",")",")")})),parcelRequire.register("8zju8",(function(e,t){$parcel$export(e.exports,"parseCss",(function(){return n})),$parcel$export(e.exports,"parseSvg",(function(){return o}));var r,i=parcelRequire("ijl5q");function n(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?i.identity:i.default(t.a,t.b,t.c,t.d,t.e,t.f)}function o(e){return null==e?i.identity:(r||(r=document.createElementNS("http://www.w3.org/2000/svg","g")),r.setAttribute("transform",e),(e=r.transform.baseVal.consolidate())?(e=e.matrix,i.default(e.a,e.b,e.c,e.d,e.e,e.f)):i.identity)}})),parcelRequire.register("ijl5q",(function(e,t){$parcel$export(e.exports,"identity",(function(){return i})),$parcel$export(e.exports,"default",(function(){return n}));var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function n(e,t,i,n,o,a){var s,l,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*i+t*n)&&(i-=e*u,n-=t*u),(l=Math.sqrt(i*i+n*n))&&(i/=l,n/=l,u/=l),e*n<t*i&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*r,skewX:Math.atan(u)*r,scaleX:s,scaleY:l}}})),parcelRequire.register("5nww5",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));function r(e){return((e=Math.exp(e))+1/e)/2}var i=function e(t,i,n){function o(e,o){var a,s,l=e[0],u=e[1],c=e[2],p=o[0],d=o[1],h=o[2],f=p-l,g=d-u,_=f*f+g*g;if(_<1e-12)s=Math.log(h/c)/t,a=function(e){return[l+e*f,u+e*g,c*Math.exp(t*e*s)]};else{var m=Math.sqrt(_),v=(h*h-c*c+n*_)/(2*c*i*m),y=(h*h-c*c-n*_)/(2*h*i*m),x=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(y*y+1)-y);s=(b-x)/t,a=function(e){var n,o=e*s,a=r(x),p=c/(i*m)*(a*(n=t*o+x,((n=Math.exp(2*n))-1)/(n+1))-function(e){return((e=Math.exp(e))-1/e)/2}(x));return[l+p*f,u+p*g,c*a/r(t*o+x)]}}return a.duration=1e3*s*t/Math.SQRT2,a}return o.rho=function(t){var r=Math.max(.001,+t),i=r*r;return e(r,i,i*i)},o}(Math.SQRT2,2,4)})),parcelRequire.register("g5lhT",(function(e,t){$parcel$export(e.exports,"interrupt",(function(){return parcelRequire("eoykp").default})),parcelRequire("gIdGX");parcelRequire("eoykp")})),parcelRequire.register("gIdGX",(function(e,t){var r=parcelRequire("1WFhG"),i=parcelRequire("8Xsk1"),n=parcelRequire("fwyKI");r.default.prototype.interrupt=i.default,r.default.prototype.transition=n.default})),parcelRequire.register("8Xsk1",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("eoykp");function i(e){return this.each((function(){r.default(this,e)}))}})),parcelRequire.register("eoykp",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("sWi8x");function i(e,t){var i,n,o,a=e.__transition,s=!0;if(a){for(o in t=null==t?null:t+"",a)(i=a[o]).name===t?(n=i.state>r.STARTING&&i.state<r.ENDING,i.state=r.ENDED,i.timer.stop(),i.on.call(n?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete a[o]):s=!1;s&&delete e.__transition}}})),parcelRequire.register("sWi8x",(function(e,t){$parcel$export(e.exports,"STARTING",(function(){return s})),$parcel$export(e.exports,"ENDING",(function(){return l})),$parcel$export(e.exports,"ENDED",(function(){return u})),$parcel$export(e.exports,"default",(function(){return c})),$parcel$export(e.exports,"init",(function(){return p})),$parcel$export(e.exports,"get",(function(){return h})),$parcel$export(e.exports,"set",(function(){return d}));var r=parcelRequire("koJqn"),i=parcelRequire("iUHVn"),n=parcelRequire("2EmDJ"),o=r.default("start","end","cancel","interrupt"),a=[],s=2,l=5,u=6;function c(e,t,r,c,p,d){var h=e.__transition;if(h){if(r in h)return}else e.__transition={};!function(e,t,r){var o,a=e.__transition;function c(e){r.state=1,r.timer.restart(p,r.delay,r.time),r.delay<=e&&p(e-r.delay)}function p(i){var l,c,f,g;if(1!==r.state)return h();for(l in a)if((g=a[l]).name===r.name){if(3===g.state)return n.default(p);4===g.state?(g.state=u,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete a[l]):+l<t&&(g.state=u,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete a[l])}if(n.default((function(){3===r.state&&(r.state=4,r.timer.restart(d,r.delay,r.time),d(i))})),r.state=s,r.on.call("start",e,e.__data__,r.index,r.group),r.state===s){for(r.state=3,o=new Array(f=r.tween.length),l=0,c=-1;l<f;++l)(g=r.tween[l].value.call(e,e.__data__,r.index,r.group))&&(o[++c]=g);o.length=c+1}}function d(t){for(var i=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(h),r.state=l,1),n=-1,a=o.length;++n<a;)o[n].call(e,i);r.state===l&&(r.on.call("end",e,e.__data__,r.index,r.group),h())}function h(){for(var i in r.state=u,r.timer.stop(),delete a[t],a)return;delete e.__transition}a[t]=r,r.timer=i.timer(c,0,r.time)}(e,r,{name:t,index:c,group:p,on:o,tween:a,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:0})}function p(e,t){var r=h(e,t);if(r.state>0)throw new Error("too late; already scheduled");return r}function d(e,t){var r=h(e,t);if(r.state>3)throw new Error("too late; already running");return r}function h(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}})),parcelRequire.register("iUHVn",(function(e,t){$parcel$export(e.exports,"now",(function(){return d})),$parcel$export(e.exports,"Timer",(function(){return f})),$parcel$export(e.exports,"timer",(function(){return g}));var r,i,n=0,o=0,a=0,s=0,l=0,u=0,c="object"==typeof performance&&performance.now?performance:Date,p="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function d(){return l||(p(h),l=c.now()+u)}function h(){l=0}function f(){this._call=this._time=this._next=null}function g(e,t,r){var i=new f;return i.restart(e,t,r),i}function _(){l=(s=c.now())+u,n=o=0;try{!function(){d(),++n;for(var e,t=r;t;)(e=l-t._time)>=0&&t._call.call(void 0,e),t=t._next;--n}()}finally{n=0,function(){var e,t,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,v(o)}(),l=0}}function m(){var e=c.now(),t=e-s;t>1e3&&(u-=t,s=e)}function v(e){n||(o&&(o=clearTimeout(o)),e-l>24?(e<1/0&&(o=setTimeout(_,e-c.now()-u)),a&&(a=clearInterval(a))):(a||(s=c.now(),a=setInterval(m,1e3)),n=1,p(_)))}f.prototype=g.prototype={constructor:f,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?d():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,v()},stop:function(){this._call&&(this._call=null,this._time=1/0,v())}}})),parcelRequire.register("2EmDJ",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("iUHVn");function i(e,t,i){var n=new r.Timer;return t=null==t?0:+t,n.restart((r=>{n.stop(),e(r+t)}),t,i),n}})),parcelRequire.register("fwyKI",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}));var r=parcelRequire("7yd55"),i=parcelRequire("sWi8x"),n=parcelRequire("5z7tR"),o=parcelRequire("iUHVn"),a={time:null,delay:0,duration:250,ease:n.cubicInOut};function s(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function l(e){var t,n;e instanceof r.Transition?(t=e._id,e=e._name):(t=r.newId(),(n=a).time=o.now(),e=null==e?null:e+"");for(var l=this._groups,u=l.length,c=0;c<u;++c)for(var p,d=l[c],h=d.length,f=0;f<h;++f)(p=d[f])&&i.default(p,e,t,f,d,n||s(p,t));return new r.Transition(l,this._parents,e,t)}})),parcelRequire.register("7yd55",(function(e,t){$parcel$export(e.exports,"Transition",(function(){return $})),$parcel$export(e.exports,"newId",(function(){return C}));var r=parcelRequire("1WFhG"),i=parcelRequire("4p6wI"),n=parcelRequire("8T2pD"),o=parcelRequire("cmhWV"),a=parcelRequire("gtihd"),s=parcelRequire("8qA35"),l=parcelRequire("kImh7"),u=parcelRequire("LkABn"),c=parcelRequire("eKj8J"),p=parcelRequire("dINGG"),d=parcelRequire("8cIFX"),h=parcelRequire("iyRoC"),f=parcelRequire("42i4x"),g=parcelRequire("dnyf9"),_=parcelRequire("cnAKl"),m=parcelRequire("kHntM"),v=parcelRequire("liHob"),y=parcelRequire("btp5z"),x=parcelRequire("2Tpop"),b=parcelRequire("k9ZQj"),w=parcelRequire("cwGFk"),R=0;function $(e,t,r,i){this._groups=e,this._parents=t,this._name=r,this._id=i}function C(){return++R}var S=r.default.prototype;$.prototype=function(e){return r.default().transition(e)}.prototype={constructor:$,select:h.default,selectAll:f.default,selectChild:S.selectChild,selectChildren:S.selectChildren,filter:u.default,merge:c.default,selection:g.default,transition:x.default,call:S.call,nodes:S.nodes,node:S.node,size:S.size,empty:S.empty,each:S.each,on:p.default,attr:i.default,attrTween:n.default,style:_.default,styleTween:m.default,text:v.default,textTween:y.default,remove:d.default,tween:b.default,delay:o.default,duration:a.default,ease:s.default,easeVarying:l.default,end:w.default,[Symbol.iterator]:S[Symbol.iterator]}})),parcelRequire.register("4p6wI",(function(e,t){$parcel$export(e.exports,"default",(function(){return d}));var r=parcelRequire("5RaP5"),i=parcelRequire("8mkyT"),n=parcelRequire("k9ZQj"),o=parcelRequire("8ucWE");function a(e){return function(){this.removeAttribute(e)}}function s(e){return function(){this.removeAttributeNS(e.space,e.local)}}function l(e,t,r){var i,n,o=r+"";return function(){var a=this.getAttribute(e);return a===o?null:a===i?n:n=t(i=a,r)}}function u(e,t,r){var i,n,o=r+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===i?n:n=t(i=a,r)}}function c(e,t,r){var i,n,o;return function(){var a,s,l=r(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===i&&s===n?o:(n=s,o=t(i=a,l));this.removeAttribute(e)}}function p(e,t,r){var i,n,o;return function(){var a,s,l=r(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===i&&s===n?o:(n=s,o=t(i=a,l));this.removeAttributeNS(e.space,e.local)}}function d(e,t){var d=i.default(e),h="transform"===d?r.interpolateTransformSvg:o.default;return this.attrTween(e,"function"==typeof t?(d.local?p:c)(d,h,n.tweenValue(this,"attr."+e,t)):null==t?(d.local?s:a)(d):(d.local?u:l)(d,h,t))}})),parcelRequire.register("k9ZQj",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),$parcel$export(e.exports,"tweenValue",(function(){return a}));var r=parcelRequire("sWi8x");function i(e,t){var i,n;return function(){var o=r.set(this,e),a=o.tween;if(a!==i)for(var s=0,l=(n=i=a).length;s<l;++s)if(n[s].name===t){(n=n.slice()).splice(s,1);break}o.tween=n}}function n(e,t,i){var n,o;if("function"!=typeof i)throw new Error;return function(){var a=r.set(this,e),s=a.tween;if(s!==n){o=(n=s).slice();for(var l={name:t,value:i},u=0,c=o.length;u<c;++u)if(o[u].name===t){o[u]=l;break}u===c&&o.push(l)}a.tween=o}}function o(e,t){var o=this._id;if(e+="",arguments.length<2){for(var a,s=r.get(this.node(),o).tween,l=0,u=s.length;l<u;++l)if((a=s[l]).name===e)return a.value;return null}return this.each((null==t?i:n)(o,e,t))}function a(e,t,i){var n=e._id;return e.each((function(){var e=r.set(this,n);(e.value||(e.value={}))[t]=i.apply(this,arguments)})),function(e){return r.get(e,n).value[t]}}})),parcelRequire.register("8ucWE",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var r=parcelRequire("kcVQK"),i=parcelRequire("i1eLt"),n=parcelRequire("8F9s1"),o=parcelRequire("3kMWl");function a(e,t){var a;return("number"==typeof t?i.default:t instanceof r.default?n.default:(a=r.default(t))?(t=a,n.default):o.default)(e,t)}})),parcelRequire.register("8T2pD",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}));var r=parcelRequire("8mkyT");function i(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function n(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function o(e,t){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&n(e,o)),r}return o._value=t,o}function a(e,t){var r,n;function o(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&i(e,o)),r}return o._value=t,o}function s(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;var n=r.default(e);return this.tween(i,(n.local?o:a)(n,t))}})),parcelRequire.register("cmhWV",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("sWi8x");function i(e,t){return function(){r.init(this,e).delay=+t.apply(this,arguments)}}function n(e,t){return t=+t,function(){r.init(this,e).delay=t}}function o(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?i:n)(t,e)):r.get(this.node(),t).delay}})),parcelRequire.register("gtihd",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("sWi8x");function i(e,t){return function(){r.set(this,e).duration=+t.apply(this,arguments)}}function n(e,t){return t=+t,function(){r.set(this,e).duration=t}}function o(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?i:n)(t,e)):r.get(this.node(),t).duration}})),parcelRequire.register("8qA35",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("sWi8x");function i(e,t){if("function"!=typeof t)throw new Error;return function(){r.set(this,e).ease=t}}function n(e){var t=this._id;return arguments.length?this.each(i(t,e)):r.get(this.node(),t).ease}})),parcelRequire.register("kImh7",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("sWi8x");function i(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var i=t.apply(this,arguments);if("function"!=typeof i)throw new Error;r.set(this,e).ease=i}}(this._id,e))}})),parcelRequire.register("LkABn",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("lozXM"),i=parcelRequire("7yd55");function n(e){"function"!=typeof e&&(e=r.default(e));for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a)for(var s,l=t[a],u=l.length,c=o[a]=[],p=0;p<u;++p)(s=l[p])&&e.call(s,s.__data__,p,l)&&c.push(s);return new i.Transition(o,this._parents,this._name,this._id)}})),parcelRequire.register("eKj8J",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("7yd55");function i(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,o=i.length,a=Math.min(n,o),s=new Array(n),l=0;l<a;++l)for(var u,c=t[l],p=i[l],d=c.length,h=s[l]=new Array(d),f=0;f<d;++f)(u=c[f]||p[f])&&(h[f]=u);for(;l<n;++l)s[l]=t[l];return new r.Transition(s,this._parents,this._name,this._id)}})),parcelRequire.register("dINGG",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("sWi8x");function i(e,t,i){var n,o,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?r.init:r.set;return function(){var r=a(this,e),s=r.on;s!==n&&(o=(n=s).copy()).on(t,i),r.on=o}}function n(e,t){var n=this._id;return arguments.length<2?r.get(this.node(),n).on.on(e):this.each(i(n,e,t))}})),parcelRequire.register("8cIFX",(function(e,t){function r(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}));var e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("iyRoC",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("hCiTf"),i=parcelRequire("7yd55"),n=parcelRequire("sWi8x");function o(e){var t=this._name,o=this._id;"function"!=typeof e&&(e=r.default(e));for(var a=this._groups,s=a.length,l=new Array(s),u=0;u<s;++u)for(var c,p,d=a[u],h=d.length,f=l[u]=new Array(h),g=0;g<h;++g)(c=d[g])&&(p=e.call(c,c.__data__,g,d))&&("__data__"in c&&(p.__data__=c.__data__),f[g]=p,n.default(f[g],t,o,g,f,n.get(c,o)));return new i.Transition(l,this._parents,t,o)}})),parcelRequire.register("42i4x",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("QbHmF"),i=parcelRequire("7yd55"),n=parcelRequire("sWi8x");function o(e){var t=this._name,o=this._id;"function"!=typeof e&&(e=r.default(e));for(var a=this._groups,s=a.length,l=[],u=[],c=0;c<s;++c)for(var p,d=a[c],h=d.length,f=0;f<h;++f)if(p=d[f]){for(var g,_=e.call(p,p.__data__,f,d),m=n.get(p,o),v=0,y=_.length;v<y;++v)(g=_[v])&&n.default(g,t,o,v,_,m);l.push(_),u.push(p)}return new i.Transition(l,u,t,o)}})),parcelRequire.register("dnyf9",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("1WFhG").default.prototype.constructor;function i(){return new r(this._groups,this._parents)}})),parcelRequire.register("cnAKl",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}));var r=parcelRequire("5RaP5"),i=parcelRequire("5eSsG"),n=parcelRequire("sWi8x"),o=parcelRequire("k9ZQj"),a=parcelRequire("8ucWE");function s(e){return function(){this.style.removeProperty(e)}}function l(e,t,l){var u="transform"==(e+="")?r.interpolateTransformCss:a.default;return null==t?this.styleTween(e,function(e,t){var r,n,o;return function(){var a=i.styleValue(this,e),s=(this.style.removeProperty(e),i.styleValue(this,e));return a===s?null:a===r&&s===n?o:o=t(r=a,n=s)}}(e,u)).on("end.style."+e,s(e)):"function"==typeof t?this.styleTween(e,function(e,t,r){var n,o,a;return function(){var s=i.styleValue(this,e),l=r(this),u=l+"";return null==l&&(this.style.removeProperty(e),u=l=i.styleValue(this,e)),s===u?null:s===n&&u===o?a:(o=u,a=t(n=s,l))}}(e,u,o.tweenValue(this,"style."+e,t))).each(function(e,t){var r,i,o,a,l="style."+t,u="end."+l;return function(){var c=n.set(this,e),p=c.on,d=null==c.value[l]?a||(a=s(t)):void 0;p===r&&o===d||(i=(r=p).copy()).on(u,o=d),c.on=i}}(this._id,e)):this.styleTween(e,function(e,t,r){var n,o,a=r+"";return function(){var s=i.styleValue(this,e);return s===a?null:s===n?o:o=t(n=s,r)}}(e,u,t),l).on("end.style."+e,null)}})),parcelRequire.register("kHntM",(function(e,t){function r(e,t,r){return function(i){this.style.setProperty(e,t.call(this,i),r)}}function i(e,t,i){var n,o;function a(){var a=t.apply(this,arguments);return a!==o&&(n=(o=a)&&r(e,a,i)),n}return a._value=t,a}function n(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,i(e,t,null==r?"":r))}$parcel$export(e.exports,"default",(function(){return n}))})),parcelRequire.register("liHob",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("k9ZQj");function i(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(r.tweenValue(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))}})),parcelRequire.register("btp5z",(function(e,t){function r(e){return function(t){this.textContent=e.call(this,t)}}function i(e){var t,i;function n(){var n=e.apply(this,arguments);return n!==i&&(t=(i=n)&&r(n)),t}return n._value=e,n}function n(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,i(e))}$parcel$export(e.exports,"default",(function(){return n}))})),parcelRequire.register("2Tpop",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("7yd55"),i=parcelRequire("sWi8x");function n(){for(var e=this._name,t=this._id,n=r.newId(),o=this._groups,a=o.length,s=0;s<a;++s)for(var l,u=o[s],c=u.length,p=0;p<c;++p)if(l=u[p]){var d=i.get(l,t);i.default(l,e,n,p,u,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new r.Transition(o,this._parents,e,n)}})),parcelRequire.register("cwGFk",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("sWi8x");function i(){var e,t,i=this,n=i._id,o=i.size();return new Promise((function(a,s){var l={value:s},u={value:function(){0==--o&&a()}};i.each((function(){var i=r.set(this,n),o=i.on;o!==e&&((t=(e=o).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),i.on=t})),0===o&&a()}))}})),parcelRequire.register("5z7tR",(function(e,t){function r(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}$parcel$export(e.exports,"cubicInOut",(function(){return r}))})),parcelRequire.register("k5DcK",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r=e=>()=>e})),parcelRequire.register("ipME4",(function(e,t){function r(e,{sourceEvent:t,target:r,selection:i,mode:n,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:n,enumerable:!0,configurable:!0},_:{value:o}})}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("l10XL",(function(e,t){function r(e){e.stopImmediatePropagation()}function i(e){e.preventDefault(),e.stopImmediatePropagation()}$parcel$export(e.exports,"nopropagation",(function(){return r})),$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("hLpsd",(function(e,t){$parcel$export(e.exports,"format",(function(){return i})),$parcel$export(e.exports,"formatPrefix",(function(){return n}));var r,i,n,o,a=parcelRequire("1sf0p");o={thousands:",",grouping:[3],currency:["$",""]},r=a.default(o),i=r.format,n=r.formatPrefix})),parcelRequire.register("1sf0p",(function(e,t){$parcel$export(e.exports,"default",(function(){return d}));var r=parcelRequire("7eolL"),i=parcelRequire("5qceZ"),n=parcelRequire("ei6me"),o=parcelRequire("ejA2S"),a=parcelRequire("dsL6s"),s=parcelRequire("2795H"),l=parcelRequire("5Qd8P"),u=parcelRequire("7wMjC"),c=Array.prototype.map,p=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function d(e){var t=void 0===e.grouping||void 0===e.thousands?u.default:i.default(c.call(e.grouping,Number),e.thousands+""),d=void 0===e.currency?"":e.currency[0]+"",h=void 0===e.currency?"":e.currency[1]+"",f=void 0===e.decimal?".":e.decimal+"",g=void 0===e.numerals?u.default:n.default(c.call(e.numerals,String)),_=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"−":e.minus+"",v=void 0===e.nan?"NaN":e.nan+"";function y(e){var r=(e=o.default(e)).fill,i=e.align,n=e.sign,u=e.symbol,c=e.zero,y=e.width,x=e.comma,b=e.precision,w=e.trim,R=e.type;"n"===R?(x=!0,R="g"):s.default[R]||(void 0===b&&(b=12),w=!0,R="g"),(c||"0"===r&&"="===i)&&(c=!0,r="0",i="=");var $="$"===u?d:"#"===u&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",C="$"===u?h:/[%p]/.test(R)?_:"",S=s.default[R],E=/[defgprs%]/.test(R);function q(e){var o,s,u,d=$,h=C;if("c"===R)h=S(e)+h,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?v:S(Math.abs(e),b),w&&(e=a.default(e)),_&&0==+e&&"+"!==n&&(_=!1),d=(_?"("===n?n:m:"-"===n||"("===n?"":n)+d,h=("s"===R?p[8+l.prefixExponent/3]:"")+h+(_&&"("===n?")":""),E)for(o=-1,s=e.length;++o<s;)if(48>(u=e.charCodeAt(o))||u>57){h=(46===u?f+e.slice(o+1):e.slice(o))+h,e=e.slice(0,o);break}}x&&!c&&(e=t(e,1/0));var q=d.length+e.length+h.length,T=q<y?new Array(y-q+1).join(r):"";switch(x&&c&&(e=t(T+e,T.length?y-h.length:1/0),T=""),i){case"<":e=d+e+h+T;break;case"=":e=d+T+e+h;break;case"^":e=T.slice(0,q=T.length>>1)+d+e+h+T.slice(q);break;default:e=T+d+e+h}return g(e)}return b=void 0===b?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),q.toString=function(){return e+""},q}return{format:y,formatPrefix:function(e,t){var i=y(((e=o.default(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(r.default(t)/3))),a=Math.pow(10,-n),s=p[8+n/3];return function(e){return i(a*e)+s}}}}})),parcelRequire.register("7eolL",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("8xeaJ");function i(e){return(e=r.formatDecimalParts(Math.abs(e)))?e[1]:NaN}})),parcelRequire.register("8xeaJ",(function(e,t){function r(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}$parcel$export(e.exports,"default",(function(){return r})),$parcel$export(e.exports,"formatDecimalParts",(function(){return i}))})),parcelRequire.register("5qceZ",(function(e,t){function r(e,t){return function(r,i){for(var n=r.length,o=[],a=0,s=e[0],l=0;n>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(r.substring(n-=s,n+s)),!((l+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("ei6me",(function(e,t){function r(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("ejA2S",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new n({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function n(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}})),parcelRequire.register("dsL6s",(function(e,t){function r(e){e:for(var t,r=e.length,i=1,n=-1;i<r;++i)switch(e[i]){case".":n=t=i;break;case"0":0===n&&(n=i),t=i;break;default:if(!+e[i])break e;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(t+1):e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("2795H",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("8xeaJ"),i=parcelRequire("5Qd8P"),n=parcelRequire("4dlEU"),o={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:r.default,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>n.default(100*e,t),r:n.default,s:i.default,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)}})),parcelRequire.register("5Qd8P",(function(e,t){$parcel$export(e.exports,"prefixExponent",(function(){return r})),$parcel$export(e.exports,"default",(function(){return n}));var r,i=parcelRequire("8xeaJ");function n(e,t){var n=i.formatDecimalParts(e,t);if(!n)return e+"";var o=n[0],a=n[1],s=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=o.length;return s===l?o:s>l?o+new Array(s-l+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+i.formatDecimalParts(e,Math.max(0,t+s-1))[0]}})),parcelRequire.register("4dlEU",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("8xeaJ");function i(e,t){var i=r.formatDecimalParts(e,t);if(!i)return e+"";var n=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}})),parcelRequire.register("7wMjC",(function(e,t){function r(e){return e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("6zHdC",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("7eolL");function i(e){return Math.max(0,-r.default(Math.abs(e)))}})),parcelRequire.register("2AVjn",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("7eolL");function i(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(r.default(t)/3)))-r.default(Math.abs(e)))}})),parcelRequire.register("64qvN",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("7eolL");function i(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,r.default(t)-r.default(e))+1}})),parcelRequire.register("2P2n1",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}));var r=parcelRequire("c3kHf"),i=parcelRequire("h3hJa"),n=parcelRequire("fPcNV"),o=parcelRequire("eLpLw");function a(e){var t=e.domain;return e.ticks=function(e){var i=t();return r.default(i[0],i[i.length-1],null==e?10:e)},e.tickFormat=function(e,r){var i=t();return o.default(i[0],i[i.length-1],null==e?10:e,r)},e.nice=function(i){null==i&&(i=10);var n,o,a=t(),s=0,l=a.length-1,u=a[s],c=a[l],p=10;for(c<u&&(o=u,u=c,c=o,o=s,s=l,l=o);p-- >0;){if((o=r.tickIncrement(u,c,i))===n)return a[s]=u,a[l]=c,t(a);if(o>0)u=Math.floor(u/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;u=Math.ceil(u*o)/o,c=Math.floor(c*o)/o}n=o}return e},e}function s(){var e=i.default();return e.copy=function(){return i.copy(e,s())},n.initRange.apply(e,arguments),a(e)}})),parcelRequire.register("6OFs4",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}));var r=parcelRequire("3S6Z2"),i=parcelRequire("fXLQL"),n=parcelRequire("9dWyx");const o=i.default(r.default),a=o.right;o.left,i.default(n.default).center;var s=a})),parcelRequire.register("3S6Z2",(function(e,t){function r(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("fXLQL",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("3S6Z2");function i(e){let t=e,i=e,n=e;function o(e,t,r=0,o=e.length){if(r<o){if(0!==i(t,t))return o;do{const i=r+o>>>1;n(e[i],t)<0?r=i+1:o=i}while(r<o)}return r}return 1===e.length&&(t=(t,r)=>e(t)-r,i=r.default,n=(t,i)=>r.default(e(t),i)),{left:o,center:function(e,r,i=0,n=e.length){const a=o(e,r,i,n-1);return a>i&&t(e[a-1],r)>-t(e[a],r)?a-1:a},right:function(e,t,r=0,o=e.length){if(r<o){if(0!==i(t,t))return o;do{const i=r+o>>>1;n(e[i],t)<=0?r=i+1:o=i}while(r<o)}return r}}}})),parcelRequire.register("9dWyx",(function(e,t){function r(e){return null===e?NaN:+e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("c3kHf",(function(e,t){$parcel$export(e.exports,"default",(function(){return o})),$parcel$export(e.exports,"tickIncrement",(function(){return a})),$parcel$export(e.exports,"tickStep",(function(){return s}));var r=Math.sqrt(50),i=Math.sqrt(10),n=Math.sqrt(2);function o(e,t,r){var i,n,o,s,l=-1;if(r=+r,(e=+e)===(t=+t)&&r>0)return[e];if((i=t<e)&&(n=e,e=t,t=n),0===(s=a(e,t,r))||!isFinite(s))return[];if(s>0){let r=Math.round(e/s),i=Math.round(t/s);for(r*s<e&&++r,i*s>t&&--i,o=new Array(n=i-r+1);++l<n;)o[l]=(r+l)*s}else{s=-s;let r=Math.round(e*s),i=Math.round(t*s);for(r/s<e&&++r,i/s>t&&--i,o=new Array(n=i-r+1);++l<n;)o[l]=(r+l)/s}return i&&o.reverse(),o}function a(e,t,o){var a=(t-e)/Math.max(0,o),s=Math.floor(Math.log(a)/Math.LN10),l=a/Math.pow(10,s);return s>=0?(l>=r?10:l>=i?5:l>=n?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(l>=r?10:l>=i?5:l>=n?2:1)}function s(e,t,o){var a=Math.abs(t-e)/Math.max(0,o),s=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),l=a/s;return l>=r?s*=10:l>=i?s*=5:l>=n&&(s*=2),t<e?-s:s}})),parcelRequire.register("h3hJa",(function(e,t){$parcel$export(e.exports,"copy",(function(){return h})),$parcel$export(e.exports,"default",(function(){return g}));var r=parcelRequire("6OFs4"),i=parcelRequire("3GRoZ"),n=parcelRequire("i1eLt"),o=parcelRequire("aDNIN"),a=parcelRequire("gJqjU"),s=parcelRequire("a2l24"),l=[0,1];function u(e){return e}function c(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:a.default(isNaN(t)?NaN:.5)}function p(e,t,r){var i=e[0],n=e[1],o=t[0],a=t[1];return n<i?(i=c(n,i),o=r(a,o)):(i=c(i,n),o=r(o,a)),function(e){return o(i(e))}}function d(e,t,i){var n=Math.min(e.length,t.length)-1,o=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)o[s]=c(e[s],e[s+1]),a[s]=i(t[s],t[s+1]);return function(t){var i=r.default(e,t,1,n)-1;return a[i](o[i](t))}}function h(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function f(){var e,t,r,a,c,h,f=l,g=l,_=i.default,m=u;function v(){var e,t,r,i=Math.min(f.length,g.length);return m!==u&&(e=f[0],t=f[i-1],e>t&&(r=e,e=t,t=r),m=function(r){return Math.max(e,Math.min(t,r))}),a=i>2?d:p,c=h=null,y}function y(t){return null==t||isNaN(t=+t)?r:(c||(c=a(f.map(e),g,_)))(e(m(t)))}return y.invert=function(r){return m(t((h||(h=a(g,f.map(e),n.default)))(r)))},y.domain=function(e){return arguments.length?(f=Array.from(e,s.default),v()):f.slice()},y.range=function(e){return arguments.length?(g=Array.from(e),v()):g.slice()},y.rangeRound=function(e){return g=Array.from(e),_=o.default,v()},y.clamp=function(e){return arguments.length?(m=!!e||u,v()):m!==u},y.interpolate=function(e){return arguments.length?(_=e,v()):_},y.unknown=function(e){return arguments.length?(r=e,y):r},function(r,i){return e=r,t=i,v()}}function g(){return f()(u,u)}})),parcelRequire.register("gJqjU",(function(e,t){function r(e){return function(){return e}}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("a2l24",(function(e,t){function r(e){return+e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("fPcNV",(function(e,t){function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}$parcel$export(e.exports,"initRange",(function(){return r}))})),parcelRequire.register("eLpLw",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}));var r=parcelRequire("c3kHf"),i=parcelRequire("ejA2S"),n=parcelRequire("2AVjn"),o=parcelRequire("hLpsd"),a=parcelRequire("64qvN"),s=parcelRequire("6zHdC");function l(e,t,l,u){var c,p=r.tickStep(e,t,l);switch((u=i.default(null==u?",f":u)).type){case"s":var d=Math.max(Math.abs(e),Math.abs(t));return null!=u.precision||isNaN(c=n.default(p,d))||(u.precision=c),o.formatPrefix(u,d);case"":case"e":case"g":case"p":case"r":null!=u.precision||isNaN(c=a.default(p,Math.max(Math.abs(e),Math.abs(t))))||(u.precision=c-("e"===u.type));break;case"f":case"%":null!=u.precision||isNaN(c=s.default(p))||(u.precision=c-2*("%"===u.type))}return o.format(u)}})),parcelRequire.register("kT6bD",(function(e,t){$parcel$export(e.exports,"default",(function(){return d}));var r=parcelRequire("diUJq"),i=parcelRequire("8mz0L"),n=parcelRequire("dmaiI");function o(e){return e.innerRadius}function a(e){return e.outerRadius}function s(e){return e.startAngle}function l(e){return e.endAngle}function u(e){return e&&e.padAngle}function c(e,t,r,i,o,a,s,l){var u=r-e,c=i-t,p=s-o,d=l-a,h=d*u-p*c;if(!(h*h<n.epsilon))return[e+(h=(p*(t-a)-d*(e-o))/h)*u,t+h*c]}function p(e,t,r,i,o,a,s){var l=e-r,u=t-i,c=(s?a:-a)/n.sqrt(l*l+u*u),p=c*u,d=-c*l,h=e+p,f=t+d,g=r+p,_=i+d,m=(h+g)/2,v=(f+_)/2,y=g-h,x=_-f,b=y*y+x*x,w=o-a,R=h*_-g*f,$=(x<0?-1:1)*n.sqrt(n.max(0,w*w*b-R*R)),C=(R*x-y*$)/b,S=(-R*y-x*$)/b,E=(R*x+y*$)/b,q=(-R*y+x*$)/b,T=C-m,I=S-v,L=E-m,A=q-v;return T*T+I*I>L*L+A*A&&(C=E,S=q),{cx:C,cy:S,x01:-p,y01:-d,x11:C*(o/w-1),y11:S*(o/w-1)}}function d(){var e=o,t=a,d=i.default(0),h=null,f=s,g=l,_=u,m=null;function v(){var i,o,a=+e.apply(this,arguments),s=+t.apply(this,arguments),l=f.apply(this,arguments)-n.halfPi,u=g.apply(this,arguments)-n.halfPi,v=n.abs(u-l),y=u>l;if(m||(m=i=r.default()),s<a&&(o=s,s=a,a=o),s>n.epsilon)if(v>n.tau-n.epsilon)m.moveTo(s*n.cos(l),s*n.sin(l)),m.arc(0,0,s,l,u,!y),a>n.epsilon&&(m.moveTo(a*n.cos(u),a*n.sin(u)),m.arc(0,0,a,u,l,y));else{var x,b,w=l,R=u,$=l,C=u,S=v,E=v,q=_.apply(this,arguments)/2,T=q>n.epsilon&&(h?+h.apply(this,arguments):n.sqrt(a*a+s*s)),I=n.min(n.abs(s-a)/2,+d.apply(this,arguments)),L=I,A=I;if(T>n.epsilon){var O=n.asin(T/a*n.sin(q)),P=n.asin(T/s*n.sin(q));(S-=2*O)>n.epsilon?($+=O*=y?1:-1,C-=O):(S=0,$=C=(l+u)/2),(E-=2*P)>n.epsilon?(w+=P*=y?1:-1,R-=P):(E=0,w=R=(l+u)/2)}var M=s*n.cos(w),F=s*n.sin(w),k=a*n.cos(C),D=a*n.sin(C);if(I>n.epsilon){var N,j=s*n.cos(R),G=s*n.sin(R),V=a*n.cos($),U=a*n.sin($);if(v<n.pi&&(N=c(M,F,V,U,j,G,k,D))){var B=M-N[0],W=F-N[1],Y=j-N[0],X=G-N[1],K=1/n.sin(n.acos((B*Y+W*X)/(n.sqrt(B*B+W*W)*n.sqrt(Y*Y+X*X)))/2),z=n.sqrt(N[0]*N[0]+N[1]*N[1]);L=n.min(I,(a-z)/(K-1)),A=n.min(I,(s-z)/(K+1))}}E>n.epsilon?A>n.epsilon?(x=p(V,U,M,F,s,A,y),b=p(j,G,k,D,s,A,y),m.moveTo(x.cx+x.x01,x.cy+x.y01),A<I?m.arc(x.cx,x.cy,A,n.atan2(x.y01,x.x01),n.atan2(b.y01,b.x01),!y):(m.arc(x.cx,x.cy,A,n.atan2(x.y01,x.x01),n.atan2(x.y11,x.x11),!y),m.arc(0,0,s,n.atan2(x.cy+x.y11,x.cx+x.x11),n.atan2(b.cy+b.y11,b.cx+b.x11),!y),m.arc(b.cx,b.cy,A,n.atan2(b.y11,b.x11),n.atan2(b.y01,b.x01),!y))):(m.moveTo(M,F),m.arc(0,0,s,w,R,!y)):m.moveTo(M,F),a>n.epsilon&&S>n.epsilon?L>n.epsilon?(x=p(k,D,j,G,a,-L,y),b=p(M,F,V,U,a,-L,y),m.lineTo(x.cx+x.x01,x.cy+x.y01),L<I?m.arc(x.cx,x.cy,L,n.atan2(x.y01,x.x01),n.atan2(b.y01,b.x01),!y):(m.arc(x.cx,x.cy,L,n.atan2(x.y01,x.x01),n.atan2(x.y11,x.x11),!y),m.arc(0,0,a,n.atan2(x.cy+x.y11,x.cx+x.x11),n.atan2(b.cy+b.y11,b.cx+b.x11),y),m.arc(b.cx,b.cy,L,n.atan2(b.y11,b.x11),n.atan2(b.y01,b.x01),!y))):m.arc(0,0,a,C,$,y):m.lineTo(k,D)}else m.moveTo(0,0);if(m.closePath(),i)return m=null,i+""||null}return v.centroid=function(){var r=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+f.apply(this,arguments)+ +g.apply(this,arguments))/2-n.pi/2;return[n.cos(i)*r,n.sin(i)*r]},v.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:i.default(+t),v):e},v.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:i.default(+e),v):t},v.cornerRadius=function(e){return arguments.length?(d="function"==typeof e?e:i.default(+e),v):d},v.padRadius=function(e){return arguments.length?(h=null==e?null:"function"==typeof e?e:i.default(+e),v):h},v.startAngle=function(e){return arguments.length?(f="function"==typeof e?e:i.default(+e),v):f},v.endAngle=function(e){return arguments.length?(g="function"==typeof e?e:i.default(+e),v):g},v.padAngle=function(e){return arguments.length?(_="function"==typeof e?e:i.default(+e),v):_},v.context=function(e){return arguments.length?(m=null==e?null:e,v):m},v}})),parcelRequire.register("diUJq",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}));const r=Math.PI,i=2*r,n=1e-6,o=i-n;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new a}a.prototype=s.prototype={constructor:a,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+i)},bezierCurveTo:function(e,t,r,i,n,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +i+","+(this._x1=+n)+","+(this._y1=+o)},arcTo:function(e,t,i,o,a){e=+e,t=+t,i=+i,o=+o,a=+a;var s=this._x1,l=this._y1,u=i-e,c=o-t,p=s-e,d=l-t,h=p*p+d*d;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>n)if(Math.abs(d*u-c*p)>n&&a){var f=i-s,g=o-l,_=u*u+c*c,m=f*f+g*g,v=Math.sqrt(_),y=Math.sqrt(h),x=a*Math.tan((r-Math.acos((_+h-m)/(2*v*y)))/2),b=x/y,w=x/v;Math.abs(b-1)>n&&(this._+="L"+(e+b*p)+","+(t+b*d)),this._+="A"+a+","+a+",0,0,"+ +(d*f>p*g)+","+(this._x1=e+w*u)+","+(this._y1=t+w*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,a,s,l,u){e=+e,t=+t,u=!!u;var c=(a=+a)*Math.cos(s),p=a*Math.sin(s),d=e+c,h=t+p,f=1^u,g=u?s-l:l-s;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+d+","+h:(Math.abs(this._x1-d)>n||Math.abs(this._y1-h)>n)&&(this._+="L"+d+","+h),a&&(g<0&&(g=g%i+i),g>o?this._+="A"+a+","+a+",0,1,"+f+","+(e-c)+","+(t-p)+"A"+a+","+a+",0,1,"+f+","+(this._x1=d)+","+(this._y1=h):g>n&&(this._+="A"+a+","+a+",0,"+ +(g>=r)+","+f+","+(this._x1=e+a*Math.cos(l))+","+(this._y1=t+a*Math.sin(l))))},rect:function(e,t,r,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +i+"h"+-r+"Z"},toString:function(){return this._}};var l=s})),parcelRequire.register("8mz0L",(function(e,t){function r(e){return function(){return e}}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("dmaiI",(function(e,t){$parcel$export(e.exports,"abs",(function(){return r})),$parcel$export(e.exports,"atan2",(function(){return i})),$parcel$export(e.exports,"cos",(function(){return n})),$parcel$export(e.exports,"max",(function(){return o})),$parcel$export(e.exports,"min",(function(){return a})),$parcel$export(e.exports,"sin",(function(){return s})),$parcel$export(e.exports,"sqrt",(function(){return l})),$parcel$export(e.exports,"epsilon",(function(){return u})),$parcel$export(e.exports,"pi",(function(){return c})),$parcel$export(e.exports,"halfPi",(function(){return p})),$parcel$export(e.exports,"tau",(function(){return d})),$parcel$export(e.exports,"acos",(function(){return h})),$parcel$export(e.exports,"asin",(function(){return f}));var r=Math.abs,i=Math.atan2,n=Math.cos,o=Math.max,a=Math.min,s=Math.sin,l=Math.sqrt,u=1e-12,c=Math.PI,p=c/2,d=2*c;function h(e){return e>1?0:e<-1?c:Math.acos(e)}function f(e){return e>=1?p:e<=-1?-p:Math.asin(e)}})),parcelRequire.register("9ir2Q",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("4duiE"),i=parcelRequire("gwRDl");function n(){return e=i.default().curve(r.curveRadialLinear),t=e.curve,e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(r.default(e)):t()._curve},e;var e,t}})),parcelRequire.register("4duiE",(function(e,t){$parcel$export(e.exports,"curveRadialLinear",(function(){return r})),$parcel$export(e.exports,"default",(function(){return n}));var r=n(parcelRequire("gPjBJ").default);function i(e){this._curve=e}function n(e){function t(t){return new i(e(t))}return t._curve=e,t}i.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}})),parcelRequire.register("gPjBJ",(function(e,t){function r(e){this._context=e}function i(e){return new r(e)}$parcel$export(e.exports,"default",(function(){return i})),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}})),parcelRequire.register("gwRDl",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}));var r=parcelRequire("diUJq"),i=parcelRequire("jnvCg"),n=parcelRequire("8mz0L"),o=parcelRequire("gPjBJ"),a=parcelRequire("bSVz4");function s(e,t){var s=n.default(!0),l=null,u=o.default,c=null;function p(n){var o,a,p,d=(n=i.default(n)).length,h=!1;for(null==l&&(c=u(p=r.default())),o=0;o<=d;++o)!(o<d&&s(a=n[o],o,n))===h&&((h=!h)?c.lineStart():c.lineEnd()),h&&c.point(+e(a,o,n),+t(a,o,n));if(p)return c=null,p+""||null}return e="function"==typeof e?e:void 0===e?a.x:n.default(e),t="function"==typeof t?t:void 0===t?a.y:n.default(t),p.x=function(t){return arguments.length?(e="function"==typeof t?t:n.default(+t),p):e},p.y=function(e){return arguments.length?(t="function"==typeof e?e:n.default(+e),p):t},p.defined=function(e){return arguments.length?(s="function"==typeof e?e:n.default(!!e),p):s},p.curve=function(e){return arguments.length?(u=e,null!=l&&(c=u(l)),p):u},p.context=function(e){return arguments.length?(null==e?l=c=null:c=u(l=e),p):l},p}})),parcelRequire.register("jnvCg",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));Array.prototype.slice;function r(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}})),parcelRequire.register("bSVz4",(function(e,t){function r(e){return e[0]}function i(e){return e[1]}$parcel$export(e.exports,"x",(function(){return r})),$parcel$export(e.exports,"y",(function(){return i}))})),parcelRequire.register("kAZqU",(function(e,t){parcelRequire("erlKu"),parcelRequire("7N3Dz")})),parcelRequire.register("erlKu",(function(e,t){parcelRequire("koJqn"),parcelRequire("3kcX3"),parcelRequire("5nww5"),parcelRequire("1xW6D"),parcelRequire("9UK5e");parcelRequire("g5lhT");parcelRequire("eoykp"),parcelRequire("kxmM6"),parcelRequire("5gyew"),parcelRequire("7N3Dz"),parcelRequire("bvlal")})),parcelRequire.register("kxmM6",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r=e=>()=>e})),parcelRequire.register("5gyew",(function(e,t){function r(e,{sourceEvent:t,target:r,transform:i,dispatch:n}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:n}})}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("7N3Dz",(function(e,t){function r(e,t,r){this.k=e,this.x=t,this.y=r}$parcel$export(e.exports,"Transform",(function(){return r})),$parcel$export(e.exports,"identity",(function(){return i})),r.prototype={constructor:r,scale:function(e){return 1===e?this:new r(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new r(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var i=new r(1,0,0);r.prototype})),parcelRequire.register("bvlal",(function(e,t){function r(e){e.stopImmediatePropagation()}function i(e){e.preventDefault(),e.stopImmediatePropagation()}$parcel$export(e.exports,"nopropagation",(function(){return r})),$parcel$export(e.exports,"default",(function(){return i}))})),parcelRequire.register("J6zb3",(function(e,t){e.exports=new URL("../images/"+parcelRequire("2ahYJ").resolve("1kwzG"),import.meta.url).toString()})),parcelRequire.register("3pQa2",(function(e,t){e.exports=new URL("../images/"+parcelRequire("2ahYJ").resolve("dqRlR"),import.meta.url).toString()})),parcelRequire.register("flNaf",(function(e,t){e.exports=new URL("../images/"+parcelRequire("2ahYJ").resolve("4wTpL"),import.meta.url).toString()})),parcelRequire.register("gf7gd",(function(e,t){e.exports=new URL("../images/"+parcelRequire("2ahYJ").resolve("lGY2g"),import.meta.url).toString()})),parcelRequire.register("bYIWw",(function(e,t){e.exports=new URL("../images/"+parcelRequire("2ahYJ").resolve("hR4ZM"),import.meta.url).toString()})),parcelRequire.register("gIMdM",(function(e,t){e.exports=new URL("../images/"+parcelRequire("2ahYJ").resolve("7ysDu"),import.meta.url).toString()})),parcelRequire.register("eUi0s",(function(e,t){$parcel$export(e.exports,"OverviewView",(function(){return n}));var r=parcelRequire("2kHOE");const i={rows:[{body:{view:"scrollview",scroll:"auto",body:{id:"ovw:infopanel_body",type:"clean",scroll:"y",css:{"background-color":"#fff"},rows:[{height:5},{view:"property",id:"ovw:su_details",css:"property_cnt",autoheight:!0,nameWidth:130,editable:!1,tooltip:{template:e=>"ovw:details_area"==e.id?e.value?appdata.sridTooltip:"":"ovw:details_physicalid"==e.id&&e.value||""},elements:[{type:"label",css:"property_label",label:__("Spatialunit Data")},{type:"text",name:"ovw:details_suid",id:"ovw:details_suid",label:__("ID")},{type:"text",name:"ovw:details_label",id:"ovw:details_label",label:__("Label/Name")},{type:"text",name:"ovw:details_area",id:"ovw:details_area",label:__("Area aprox.")+'<sup class="srid">*</sup>',css:"srid_value"},{type:"text",name:"ovw:details_landuse",id:"ovw:details_landuse",label:__("Landuse")},{type:"text",name:"ovw:details_surveyedon",id:"ovw:details_surveyedon",label:__("Surveyed on")},{type:"text",name:"ovw:details_rigthtype",id:"ovw:details_rigthtype",label:__("Right Type")},{type:"text",name:"ovw:details_physicalid",id:"ovw:details_physicalid",label:__("Physical ID")},{type:"text",name:"ovw:details_legalid",id:"ovw:details_legalid",label:__("Legal ID")}]},{height:10},{view:"property",id:"ovw:su_parties",css:"property_cnt",autoheight:!0,editable:!1,elements:[{type:"label",css:"property_label",label:__("Rightholders")},{type:"text",label:""}]},{height:10},{view:"property",id:"ovw:su_neighbours",css:"property_cnt",autoheight:!0,editable:!1,elements:[{type:"label",css:"property_label",label:__("Neighbours")},{type:"text",label:""}]},{height:10},{view:"property",id:"ovw:su_boundaries",css:"property_cnt",autoheight:!0,editable:!1,elements:[{type:"label",label:__("Boundary Status")},{type:"text",label:""}]},{height:10},{template:"",border:!1}]}}}]};var n={id:"overview-cnt",view:"accordion",type:"clean",cols:[{id:"ovw:navmap",view:"navmap",css:"border_right",basemapURL:appdata.basemap},{id:"ovw:infopanel",width:320,collapsed:!0,header:__("Information Panel"),body:i}],on:{onViewShow:()=>{r.OverviewCtrl.onViewShow()}},getController:()=>r.OverviewCtrl}})),parcelRequire.register("2kHOE",(function(e,t){$parcel$export(e.exports,"OverviewCtrl",(function(){return v}));var r=parcelRequire("8ibmv"),i=parcelRequire("2yt6N"),n=parcelRequire("04Tpc"),o=parcelRequire("fq6oh"),a=parcelRequire("2jgRH"),s=(r=parcelRequire("8ibmv"),parcelRequire("jKXwO")),l=parcelRequire("lKaPI"),u=parcelRequire("jYTea"),c=parcelRequire("bRCsC"),p=parcelRequire("1Pls2"),d=parcelRequire("6YHhF"),h=parcelRequire("f2OU0"),f=parcelRequire("dCXQG"),g=parcelRequire("l95NQ"),_=parcelRequire("geRS1"),m=parcelRequire("ae17k"),v={viewId:"overview-cnt",refreshView:!1,sridChanged:!1,switchBasemap:!1,navMap:null,mosaicLayer:null,conflictsLayer:null,spatialunitsLayer:null,boundaryStatusLayer:null,timelineWMSLayer:null,spatialunitConceptsLayer:null,selectInteraction:null,refreshZoom:!1,mapRendered:!1,initMap:function(e){this.navMap=e,this.navMap.on("click",(function(e){0==v.navMap.getFeaturesAtPixel(e.pixel).length&&$$("ovw:infopanel").collapse()})),this.mosaicLayer=new l.default({source:new u.default,title:"Mosaic",name:"mosaic",switcher:!0,visible:!1}),this.navMap.addLayer(this.mosaicLayer),this.conflictsLayer=new p.default({source:new c.default,title:"Overlaps",name:"conflcits",switcher:!0,visible:!1}),this.conflictsLayer.setVisible(!1),this.navMap.addLayer(this.conflictsLayer),this.spatialunitsLayer=new d.default({source:new h.default,title:"Spatialunits",name:"spatialunits",switcher:!1,style:i.mapStyle.spatialunitWithLabel("ogc_id",!1)}),this.navMap.addLayer(this.spatialunitsLayer),this.spatialunitsLayer.getSource().on("change",(function(){if(v.refreshZoom){var e=v.spatialunitsLayer.getSource().getExtent();v.navMap.getView().setCenter(_.getCenter(e)),v.navMap.getView().fit(e,v.navMap.getSize()),v.navMap.getView().setZoom(v.navMap.getView().getZoom()-.2),v.refreshZoom=!1}})),this.selectInteraction=new g.default({layers:[this.spatialunitsLayer],condition:m.click,style:i.mapStyle.selectedSpatialunitWithLabel("ogc_id")}),this.navMap.addInteraction(this.selectInteraction),this.selectInteraction.getFeatures().on("add",(function(e){v.onFeatureSelected(e.element)})),this.selectInteraction.getFeatures().on("remove",(function(){v.onFeatureUnselected()})),this.boundaryStatusLayer=new d.default({source:new h.default,title:"Boundary Status",name:"boundary_status",switcher:!0,style:i.mapStyle.boundaryStatus()}),this.boundaryStatusLayer.setVisible(!1),this.navMap.addLayer(this.boundaryStatusLayer),this.spatialunitConceptsLayer=new d.default({source:new h.default,name:"spatialunit_concepts",switcher:!1,style:i.mapStyle.spatialunitConcepts()}),this.navMap.addLayer(this.spatialunitConceptsLayer),this.timelineWMSLayer=new p.default({source:new c.default,name:"timelinewms",switcher:!1,visible:!1}),this.navMap.addLayer(this.timelineWMSLayer),this.timelineLayer=new d.default({source:new h.default,title:"Timeline",name:"timeline",switcher:!0,style:i.mapStyle.spatialunitConcepts()}),this.timelineLayer.setVisible(!1),this.navMap.addLayer(this.timelineLayer);let t="ovw";n.AddLegendControl(this.navMap,t),o.AddSearchControl(this.navMap,t,"onSelectionFromSearch"),s.AddSwitcherControl(this.navMap,t),$$("ovw:timeline_checkbox").attachEvent("onChange",(function(e){1==e&&v.showTimeline()})),this.mapRendered=!0},onViewShow:function(){if(this.switchBasemap&&($$("ovw:navmap").navMap.setBasemap(appdata.basemap),this.switchBasemap=!1),this.sridChanged&!this.refreshView&&(1==this.selectInteraction.getFeatures().getArray().length&&webix.message({type:"success",text:__("Some values were recalculated to reflect the SRID change"),expire:2e3}),this.sridChanged=!1),this.refreshView){this.mapRendered||this.initMap($$("ovw:navmap").navMap),this.spatialunitsLayer.getSource().clear(),this.selectInteraction.getFeatures().clear(),$$("ovw:infopanel").collapse();for(let e of $$("ovw:layer_switcher").queryView({view:"checkbox"},"all"))e.setValue(0),e.config.layer.setVisible(!1);appdata.mosaic&&(this.mosaicLayer.setSource(new u.default({url:appdata.wmsUrl,params:{LAYERS:"mosaic",TILED:!0,MOSAIC:"mosaic_"+appdata.dbparams.database.toLowerCase()}})),this.mosaicLayer.setVisible(!0)),this.conflictsLayer.setSource(new c.default({url:appdata.wmsUrl,params:{LAYERS:"conflicts",TILED:!0}})),this.refreshZoom=!0,webix.ajax().get(appdata.wfsUrl+"&typename=ffp:spatialunit").then((function(e){let t=(new f.default).readFeatures(e.json());v.spatialunitsLayer.getSource().addFeatures(t)})),this.boundaryStatusLayer.setSource(new h.default({format:new f.default,url:appdata.wfsUrl+"&typename=ffp:boundary_status"})),this.timelineWMSLayer.setSource(new c.default({url:appdata.wmsUrl,params:{LAYERS:"boundary_status",TILED:!0}})),$$("ovw:search_combo").getList().config.dataFeed="api/spatialunit/search/?"+appdata.querystring,this.refreshView=!1,this.sridChanged=!1}},onSelectionFromSearch:e=>{var t=v.spatialunitsLayer.getSource().getFeatures().filter((t=>t.getProperties().ogc_id==e));v.featureFromSearch=!0,v.selectInteraction.getFeatures().clear(),v.selectInteraction.getFeatures().push(t[0])},onFeatureSelected:e=>{var t=e.get("ogc_id");if(v.featureFromSearch){var i=v.selectInteraction.getFeatures().getArray()[0].getGeometry().getExtent();v.navMap.getView().setCenter(_.getCenter(i)),v.featureFromSearch=!1}v.spatialunitConceptsLayer.setSource(new h.default({format:new f.default,url:appdata.wfsUrl+"&typename=ffp:boundary_status&SU_ID="+t}));let n={su_id:t,srid:appdata.srid};webix.ajax().get("api/spatialunit/full/",{...appdata.dbparams,...n}).then((function(e){if(e.json().success){$$("ovw:infopanel").expand();var i=e.json();let l=i.details,u=Number(l.area_m2)<9e3?l.area_m2+"&nbsp;m<sup>2</sup>":(Number(l.area_m2)/1e4).toFixed(1)+"&nbsp;has";$$("ovw:su_details").setValues({"ovw:details_suid":l.objectid,"ovw:details_label":l.su_label,"ovw:details_area":u,"ovw:details_landuse":a.Codelist("landuse",l.landuse),"ovw:details_physicalid":l.physical_id?l.physical_id.join(", "):"","ovw:details_legalid":l.legal_id?l.legal_id:"","ovw:details_surveyedon":r.dateFormat_dMY(l.surveyed_on)});var n=[{type:"label",css:"property_label",label:__("Rightholders")}];0==i.parties.length?n.push({type:"text",label:""}):($$("ovw:su_details").setValues({"ovw:details_rigthtype":a.Codelist("righttype",i.parties[0].right_type)},!0),i.parties.forEach((function(e){n.push({type:"text",css:"property_value",label:e.id_number?r.idNumberFormat(e.id_number):"~",value:e.full_name})})));var o={view:"property",id:"ovw:su_parties",autoheight:!0,editable:!1,nameWidth:120,tooltip:"#value#",elements:n};webix.ui(o,$$("ovw:infopanel_body"),$$("ovw:su_parties"));n=[{type:"label",css:"property_label",label:__("Neighbours")}];0==i.neighbours.length?n.push({type:"text",label:""}):i.neighbours.forEach((function(e){n.push({type:"text",css:"property_value",label:e.neigh_suid,value:e.neigh_name})}));var s={view:"property",id:"ovw:su_neighbours",autoheight:!0,editable:!1,nameWidth:50,elements:n};webix.ui(s,$$("ovw:infopanel_body"),$$("ovw:su_neighbours"));n=[{type:"label",css:"property_section_label",label:__("Boundary Status")}];i.status.forEach((function(e){var r;n.push({type:"label",css:"property_label",label:t+" &ndash; "+e.su_id}),e.status_list.forEach((function(e){r=1==e.status?'<i class="mdi mdi-check-bold" style="color:#32CD32"></i>':0==e.status?'<i class="mdi mdi-cancel" style="color:#DC143C"></i>':'<i class="mdi mdi-help"></i>',n.push({type:"text",css:"property_boolean",label:r,value:e.party_name})}))}));s={view:"property",id:"ovw:su_boundaries",autoheight:!0,editable:!1,nameWidth:40,elements:n};webix.ui(s,$$("ovw:infopanel_body"),$$("ovw:su_boundaries"))}else r.showErrorMsg(null,e.json().message)}),(e=>{r.showErrorMsg(e,"")}))},onFeatureUnselected:()=>{v.spatialunitConceptsLayer.getSource().clear(),$$("ovw:su_details").setValues({"ovw:details_suid":"","ovw:details_label":"","ovw:details_area":"","ovw:details_landuse":"","ovw:details_rigthtype":"","ovw:details_surveyedon":""});var e={view:"property",id:"ovw:su_parties",autoheight:!0,editable:!1,elements:[{type:"label",css:"property_section_label",label:"&nbsp;"+__("Rightholders")},{type:"text",label:""}]};webix.ui(e,$$("ovw:infopanel_body"),$$("ovw:su_parties"));var t={view:"property",id:"ovw:su_neighbours",autoheight:!0,editable:!1,elements:[{type:"label",css:"property_section_label",label:"&nbsp;"+__("Neighbours")},{type:"text",label:""}]};webix.ui(t,$$("ovw:infopanel_body"),$$("ovw:su_neighbours"));t={view:"property",id:"ovw:su_boundaries",autoheight:!0,editable:!1,elements:[{type:"label",css:"property_section_label",label:"&nbsp;"+__("Neighbours")},{type:"text",label:""}]};webix.ui(t,$$("ovw:infopanel_body"),$$("ovw:su_boundaries"))},showTimeline:()=>{if(appdata.timeline){let e=appdata.wfsUrl+"&typename=ffp:timeline&condition=where status<>1";$$("ovw:layer_switcher").hide(),webix.ajax().get(e).then((function(e){var t=(new f.default).readFeatures(e.json());$$("nav:sidebar").disable(),$$("ovw:infopanel").disable(),$$("ovw:layer_switcher").disable(),$$("ovw:search_box").disable(),v.selectInteraction.setActive(!1),v.timelineWMSLayer.setVisible(!0);var r=0;var i=setInterval((function(){v.timelineLayer.getSource().addFeature(t[r]),r==t.length-1?(clearInterval(i),setTimeout((()=>{webix.message({type:"success",text:__("Timeline animation completed!!!"),expire:1e3}),v.timelineLayer.getSource().clear(),v.timelineWMSLayer.setVisible(!1),$$("nav:sidebar").enable(),$$("ovw:infopanel").enable(),$$("ovw:layer_switcher").enable(),$$("ovw:search_box").enable(),v.selectInteraction.setActive(!0),$$("ovw:timeline_checkbox").setValue(0)}),2e3)):r++}),30)}))}else webix.message({type:"info",text:__("No timeline records available yet!!!"),expire:1e3}),$$("ovw:timeline_checkbox").setValue(0)}}})),parcelRequire.register("04Tpc",(function(e,t){$parcel$export(e.exports,"AddLegendControl",(function(){return o}));var r=parcelRequire("a92wW"),i=parcelRequire("iJlFh"),n=parcelRequire("4nGvt");const o=(e,t)=>{var o='<hr width="48" size="2" noshade align="left" style="display:inline-block; border-color:',a='&nbsp;&nbsp;<span style="position:relative; bottom:5px; color:#F0F8FF">',s='<hr width="7" size="3" noshade align="left" style="display:inline-block; border-color:',l=s+'_dash_;">'+s+'#4B0082;">';l+=l+s+'_dash_;">',webix.ui({view:"popup",id:t+":legend",css:"legend_popup",width:285,height:205,body:{template:function(){var e=`<div class="legend-header"> &ndash; ${__("Boundary Status")} &ndash; </div>`;e+=o+i.ConceptColor(1)+';">'+a+__(r.Concepts[1])+"</span><br />";for(let t=2;t<5;t++)e+=o+i.ConceptColor(t)+';">'+a+__(r.Concepts[t])+"</span><br />"+l.replaceAll("_dash_",i.ConceptColor(t+3))+a+__(r.Concepts[t+3])+"</span><br />";return e+=o+i.ConceptColor(9)+';">'+a+__(r.Concepts[9])+"</span><br />"}}});let u=webix.html.create("button",{id:t+":legend_button"},'<i class="mdi mdi-format-list-bulleted"></i>');u.addEventListener("click",(function(){var e=webix.html.offset(document.getElementById(t+":legend_div"));$$(t+":legend").show({x:e.x,y:e.y-210})}));let c=webix.html.create("div",{id:t+":legend_div",class:"legend_control ol-unselectable ol-control"});return c.appendChild(u),e.addControl(new n.default({element:c})),webix.TooltipControl.addTooltip(t+":legend_button",__("Click to show the legend")),!0}})),parcelRequire.register("a92wW",(function(e,t){$parcel$export(e.exports,"Concepts",(function(){return r}));const r={1:"No Data",2:"Approval in Progress",3:"Approved",4:"Needs Revision",5:"Being Signed (with restrictions)",6:"Signed (with restrictions)",7:"Invalid",9:"With Title"}})),parcelRequire.register("fq6oh",(function(e,t){$parcel$export(e.exports,"AddSearchControl",(function(){return i}));var r=parcelRequire("4nGvt");const i=(e,t,i)=>{webix.ui({view:"window",id:t+":search_box",css:"map_search_popup",head:!1,autofocus:!0,width:400,height:45,body:{rows:[{view:"combo",id:t+":search_combo",placeholder:`${__("Enter search term")}...`,css:"map-searchcombo",options:{keyPressTimeout:300,body:{css:"search-popup_body",template:"#spatialunit_id# - #value# - cc: #id_number# - #spatialunit_name# ",dataFeed:"api/spatialunit/search/?"+appdata.querystring,on:{onAfterLoad:function(){0==this.count()&&console.log(this.getValue())}}},on:{onHide:function(){var e=$$(t+":search_combo").getValue();if(e.toString().length>0){var r=this.getList().getItem(e);$$(t+":search_box").hide(),$$($$("nav:sidebar").getSelectedItem().id+"-cnt").config.getController()[i](parseInt(r.spatialunit_id))}}}},on:{onFocus:function(){$$(t+":search_combo").getInputNode().select()}}}]}}),webix.html.addCss($$(t+":search_combo").getPopup().getNode(),"search-popup");var n=webix.html.create("button",{id:t+":searchbox_button"},'<i class="mdi mdi-feature-search-outline"></i>'),o=webix.html.create("div",{id:t+":searchbox_div",class:"search_control ol-unselectable ol-control"});return o.appendChild(n),e.addControl(new r.default({element:o})),e.on("click",(function(){$$(t+":search_box").isVisible()&&$$(t+":search_box").hide()})),webix.event(t+":searchbox_div","click",(function(){let e=webix.html.offset(document.getElementById(t+":searchbox_div"));$$(t+":search_box").show({x:e.x,y:e.y+30})}),!1),webix.TooltipControl.addTooltip(t+":searchbox_button",__("Search for parcels")),!0}})),parcelRequire.register("lKaPI",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}),(function(e){return a=e}));var r,i=parcelRequire("28ozy"),n=parcelRequire("jVsaR"),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.createRenderer=function(){return new n.default(this)},t}(i.default)})),parcelRequire.register("28ozy",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}),(function(e){return s=e}));var r,i=parcelRequire("khniA"),n=parcelRequire("axvnM"),o=parcelRequire("lOEcB"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=function(e){function t(t){var r=this,i=t||{},n=o.assign({},i);return delete n.preload,delete n.useInterimTilesOnError,(r=e.call(this,n)||this).on,r.once,r.un,r.setPreload(void 0!==i.preload?i.preload:0),r.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),r}return a(t,e),t.prototype.getPreload=function(){return this.get(n.default.PRELOAD)},t.prototype.setPreload=function(e){this.set(n.default.PRELOAD,e)},t.prototype.getUseInterimTilesOnError=function(){return this.get(n.default.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(e){this.set(n.default.USE_INTERIM_TILES_ON_ERROR,e)},t}(i.default)})),parcelRequire.register("axvnM",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}})),parcelRequire.register("jVsaR",(function(e,t){$parcel$export(e.exports,"default",(function(){return _}),(function(e){return _=e}));var r,i=parcelRequire("77WDR"),n=parcelRequire("exN1H"),o=parcelRequire("99gaQ"),a=parcelRequire("fwKtB"),s=parcelRequire("lXQa3"),l=parcelRequire("lOEcB"),u=parcelRequire("geRS1"),c=parcelRequire("889Bv"),p=parcelRequire("cR5xV"),d=parcelRequire("b3vZc"),h=parcelRequire("l89p7"),f=(s=parcelRequire("lXQa3"),r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),g=function(e){function t(t){var r=e.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=u.createEmpty(),r.tmpTileRange_=new n.default(0,0,0,0),r}return f(t,e),t.prototype.isDrawableTile=function(e){var t=this.getLayer(),r=e.getState(),i=t.getUseInterimTilesOnError();return r==o.default.LOADED||r==o.default.EMPTY||r==o.default.ERROR&&!i},t.prototype.getTile=function(e,t,r,i){var n=i.pixelRatio,a=i.viewState.projection,s=this.getLayer(),l=s.getSource().getTile(e,t,r,n,a);return l.getState()==o.default.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):l.setState(o.default.LOADED)),this.isDrawableTile(l)||(l=l.getInterimTile()),l},t.prototype.loadedTileCallback=function(t,r,i){return!!this.isDrawableTile(i)&&e.prototype.loadedTileCallback.call(this,t,r,i)},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,t){var r=e.layerStatesArray[e.layerIndex],i=e.viewState,n=i.projection,f=i.resolution,g=i.center,_=i.rotation,m=e.pixelRatio,v=this.getLayer(),y=v.getSource(),x=y.getRevision(),b=y.getTileGridForProjection(n),w=b.getZForResolution(f,y.zDirection),R=b.getResolution(w),$=e.extent,C=r.extent&&p.fromUserExtent(r.extent,n);C&&($=u.getIntersection($,p.fromUserExtent(r.extent,n)));var S=y.getTilePixelRatio(m),E=Math.round(e.size[0]*S),q=Math.round(e.size[1]*S);if(_){var T=Math.round(Math.sqrt(E*E+q*q));E=T,q=T}var I=R*E/2/S,L=R*q/2/S,A=[g[0]-I,g[1]-L,g[0]+I,g[1]+L],O=b.getTileRangeForExtentAndZ($,w),P={};P[w]={};var M=this.createLoadedTileFinder(y,n,P),F=this.tmpExtent,k=this.tmpTileRange_;this.newTiles_=!1;for(var D=O.minX;D<=O.maxX;++D)for(var N=O.minY;N<=O.maxY;++N){var j=this.getTile(w,D,N,e);if(this.isDrawableTile(j)){var G=d.getUid(this);if(j.getState()==o.default.LOADED){P[w][j.tileCoord.toString()]=j;var V=j.inTransition(G);this.newTiles_||!V&&-1!==this.renderedTiles.indexOf(j)||(this.newTiles_=!0)}if(1===j.getAlpha(G,e.time))continue}var U=b.getTileCoordChildTileRange(j.tileCoord,k,F),B=!1;U&&(B=M(w+1,U)),B||b.forEachTileCoordParentTileRange(j.tileCoord,M,k,F)}var W=R/f;s.compose(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/S,1/S,_,-E/2,-q/2);var Y=s.toString(this.pixelTransform);this.useContainer(t,Y,r.opacity,this.getBackground(e));var X=this.context,K=X.canvas;s.makeInverse(this.inversePixelTransform,this.pixelTransform),s.compose(this.tempTransform,E/2,q/2,W,W,0,-E/2,-q/2),K.width!=E||K.height!=q?(K.width=E,K.height=q):this.containerReused||X.clearRect(0,0,E,q),C&&this.clipUnrotated(X,e,C),y.getInterpolate()||l.assign(X,a.IMAGE_SMOOTHING_DISABLED),this.preRender(X,e),this.renderedTiles.length=0;var z,H,Z,J=Object.keys(P).map(Number);J.sort(h.numberSafeCompareFunction),1!==r.opacity||this.containerReused&&!y.getOpaque(e.viewState.projection)?(z=[],H=[]):J=J.reverse();for(var Q=J.length-1;Q>=0;--Q){var ee=J[Q],te=y.getTilePixelSize(ee,m,n),re=b.getResolution(ee)/R,ie=te[0]*re*W,ne=te[1]*re*W,oe=b.getTileCoordForCoordAndZ(u.getTopLeft(A),ee),ae=b.getTileCoordExtent(oe),se=s.apply(this.tempTransform,[S*(ae[0]-A[0])/R,S*(A[3]-ae[3])/R]),le=S*y.getGutterForProjection(n),ue=P[ee];for(var ce in ue){var pe=(j=ue[ce]).tileCoord,de=oe[1]-pe[1],he=Math.round(se[0]-(de-1)*ie),fe=oe[2]-pe[2],ge=Math.round(se[1]-(fe-1)*ne),_e=he-(D=Math.round(se[0]-de*ie)),me=ge-(N=Math.round(se[1]-fe*ne)),ve=w===ee;if(!(V=ve&&1!==j.getAlpha(d.getUid(this),e.time)))if(z){X.save(),Z=[D,N,D+_e,N,D+_e,N+me,D,N+me];for(var ye=0,xe=z.length;ye<xe;++ye)if(w!==ee&&ee<H[ye]){var be=z[ye];X.beginPath(),X.moveTo(Z[0],Z[1]),X.lineTo(Z[2],Z[3]),X.lineTo(Z[4],Z[5]),X.lineTo(Z[6],Z[7]),X.moveTo(be[6],be[7]),X.lineTo(be[4],be[5]),X.lineTo(be[2],be[3]),X.lineTo(be[0],be[1]),X.clip()}z.push(Z),H.push(ee)}else X.clearRect(D,N,_e,me);this.drawTileImage(j,e,D,N,_e,me,le,ve),z&&!V?(X.restore(),this.renderedTiles.unshift(j)):this.renderedTiles.push(j),this.updateUsedTiles(e.usedTiles,y,j)}}this.renderedRevision=x,this.renderedResolution=R,this.extentChanged=!this.renderedExtent_||!u.equals(this.renderedExtent_,A),this.renderedExtent_=A,this.renderedPixelRatio=m,this.renderedProjection=n,this.manageTilePyramid(e,y,b,m,n,$,w,v.getPreload()),this.scheduleExpireCache(e,y),this.postRender(X,e),r.extent&&X.restore(),l.assign(X,a.IMAGE_SMOOTHING_ENABLED),Y!==K.style.transform&&(K.style.transform=Y);var we=c.cssOpacity(r.opacity),Re=this.container;return we!==Re.style.opacity&&(Re.style.opacity=we),this.container},t.prototype.drawTileImage=function(e,t,r,i,n,o,a,s){var l=this.getTileImage(e);if(l){var u=d.getUid(this),c=s?e.getAlpha(u,t.time):1,p=c!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,r,i,n,o),p&&this.context.restore(),1!==c?t.animate=!0:s&&e.endTransition(u)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var r=function(e,t,r){var i=d.getUid(e);i in r.usedTiles&&e.expireCache(r.viewState.projection,r.usedTiles[i])}.bind(null,t);e.postRenderFunctions.push(r)}},t.prototype.updateUsedTiles=function(e,t,r){var i=d.getUid(t);i in e||(e[i]={}),e[i][r.getKey()]=!0},t.prototype.manageTilePyramid=function(e,t,r,i,n,a,s,l,u){var c=d.getUid(t);c in e.wantedTiles||(e.wantedTiles[c]={});var p,h,f,g,_,m,v=e.wantedTiles[c],y=e.tileQueue,x=0;for(m=r.getMinZoom();m<=s;++m)for(h=r.getTileRangeForExtentAndZ(a,m,h),f=r.getResolution(m),g=h.minX;g<=h.maxX;++g)for(_=h.minY;_<=h.maxY;++_)s-m<=l?(++x,(p=t.getTile(m,g,_,i,n)).getState()==o.default.IDLE&&(v[p.getKey()]=!0,y.isKeyQueued(p.getKey())||y.enqueue([p,c,r.getTileCoordCenter(p.tileCoord),f])),void 0!==u&&u(p)):t.useTile(m,g,_,n);t.updateCacheSize(x,n)},t}(i.default);g.prototype.getLayer;var _=g})),parcelRequire.register("exN1H",(function(e,t){$parcel$export(e.exports,"createOrUpdate",(function(){return i})),$parcel$export(e.exports,"default",(function(){return n}));var r=function(){function e(e,t,r,i){this.minX=e,this.maxX=t,this.minY=r,this.maxY=i}return e.prototype.contains=function(e){return this.containsXY(e[1],e[2])},e.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},e.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},e.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},e.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},e}();function i(e,t,i,n,o){return void 0!==o?(o.minX=e,o.maxX=t,o.minY=i,o.maxY=n,o):new r(e,t,i,n)}var n=r})),parcelRequire.register("99gaQ",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}})),parcelRequire.register("jYTea",(function(e,t){$parcel$export(e.exports,"default",(function(){return m}),(function(e){return m=e}));var r,i=parcelRequire("3iMq3"),n=parcelRequire("fDnLQ"),o=parcelRequire("yzwKM"),a=parcelRequire("j119T"),s=parcelRequire("59Hdm"),l=parcelRequire("lOEcB"),u=parcelRequire("geRS1"),c=parcelRequire("3R7f8"),p=parcelRequire("2v4mn"),d=parcelRequire("6UKTV"),h=parcelRequire("cR5xV"),f=parcelRequire("8GG6h"),g=parcelRequire("8jOKF"),_=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=function(e){function t(t){var r=this,i=t||{},n=void 0===i.imageSmoothing||i.imageSmoothing;void 0!==i.interpolate&&(n=i.interpolate);var o=i.params||{},a=!("TRANSPARENT"in o)||o.TRANSPARENT;return(r=e.call(this,{attributions:i.attributions,attributionsCollapsible:i.attributionsCollapsible,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:n,opaque:!a,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,zDirection:i.zDirection})||this).gutter_=void 0!==i.gutter?i.gutter:0,r.params_=o,r.v13_=!0,r.serverType_=i.serverType,r.hidpi_=void 0===i.hidpi||i.hidpi,r.tmpExtent_=u.createEmpty(),r.updateV13_(),r.setKey(r.getKeyForParams_()),r}return _(t,e),t.prototype.getFeatureInfoUrl=function(e,t,r,n){var o=h.get(r),a=this.getProjection(),s=this.getTileGrid();s||(s=this.getTileGridForProjection(o));var d=s.getZForResolution(t,this.zDirection),f=s.getTileCoordForCoordAndZ(e,d);if(!(s.getResolutions().length<=f[0])){var g=s.getResolution(f[0]),_=s.getTileCoordExtent(f,this.tmpExtent_),m=c.toSize(s.getTileSize(f[0]),this.tmpSize),v=this.gutter_;0!==v&&(m=c.buffer(m,v,this.tmpSize),_=u.buffer(_,g*v,_)),a&&a!==o&&(g=p.calculateSourceResolution(a,o,e,g),_=h.transformExtent(_,o,a),e=h.transform(e,o,a));var y={SERVICE:"WMS",VERSION:i.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};l.assign(y,this.params_,n);var x=Math.floor((e[0]-_[0])/g),b=Math.floor((_[3]-e[1])/g);return y[this.v13_?"I":"X"]=x,y[this.v13_?"J":"Y"]=b,this.getRequestUrl_(f,m,_,1,a||o,y)}},t.prototype.getLegendUrl=function(e,t){if(void 0!==this.urls[0]){var r={SERVICE:"WMS",VERSION:i.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;r.LAYER=n}if(void 0!==e){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=e*o/28e-5}return l.assign(r,t),a.appendParams(this.urls[0],r)}},t.prototype.getGutter=function(){return this.gutter_},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(e,t,r,i,n,l){var u=this.urls;if(u){if(l.WIDTH=t[0],l.HEIGHT=t[1],l[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(l.STYLES=""),1!=i)switch(this.serverType_){case o.default.GEOSERVER:var c=90*i+.5|0;"FORMAT_OPTIONS"in l?l.FORMAT_OPTIONS+=";dpi:"+c:l.FORMAT_OPTIONS="dpi:"+c;break;case o.default.MAPSERVER:l.MAP_RESOLUTION=90*i;break;case o.default.CARMENTA_SERVER:case o.default.QGIS:l.DPI=90*i;break;default:s.assert(!1,52)}var p,d=n.getAxisOrientation(),h=r;if(this.v13_&&"ne"==d.substr(0,2)){var _=void 0;_=r[0],h[0]=r[1],h[1]=_,_=r[2],h[2]=r[3],h[3]=_}if(l.BBOX=h.join(","),1==u.length)p=u[0];else p=u[f.modulo(g.hash(e),u.length)];return a.appendParams(p,l)}},t.prototype.getTilePixelRatio=function(e){return this.hidpi_&&void 0!==this.serverType_?e:1},t.prototype.getKeyForParams_=function(){var e=0,t=[];for(var r in this.params_)t[e++]=r+"-"+this.params_[r];return t.join("/")},t.prototype.updateParams=function(e){l.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())},t.prototype.updateV13_=function(){var e=this.params_.VERSION||i.DEFAULT_WMS_VERSION;this.v13_=d.compareVersions(e,"1.3")>=0},t.prototype.tileUrlFunction=function(e,t,r){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(r)),!(n.getResolutions().length<=e[0])){1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);var o=n.getResolution(e[0]),a=n.getTileCoordExtent(e,this.tmpExtent_),s=c.toSize(n.getTileSize(e[0]),this.tmpSize),p=this.gutter_;0!==p&&(s=c.buffer(s,p,this.tmpSize),a=u.buffer(a,o*p,a)),1!=t&&(s=c.scale(s,t,this.tmpSize));var d={SERVICE:"WMS",VERSION:i.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return l.assign(d,this.params_),this.getRequestUrl_(e,s,a,t,r,d)}},t}(n.default)})),parcelRequire.register("fDnLQ",(function(e,t){$parcel$export(e.exports,"default",(function(){return _}),(function(e){return _=e}));var r,i=parcelRequire("7Ry8n"),n=parcelRequire("8atKH"),o=parcelRequire("16cCo"),a=parcelRequire("buG01"),s=parcelRequire("99gaQ"),l=parcelRequire("lHyQ5"),u=parcelRequire("eL70X"),c=parcelRequire("cR5xV"),p=parcelRequire("8jOKF"),d=parcelRequire("i0Mkc"),h=parcelRequire("b3vZc"),f=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function g(e,t){e.getImage().src=t}var _=function(e){function t(t){var r=this,i=void 0===t.imageSmoothing||t.imageSmoothing;return void 0!==t.interpolate&&(i=t.interpolate),(r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:g,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:i,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this).crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,r.tileClass=void 0!==t.tileClass?t.tileClass:n.default,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return f(t,e),t.prototype.canExpireCache=function(){if(!u.ENABLE_RASTER_REPROJECTION)return e.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},t.prototype.expireCache=function(t,r){if(u.ENABLE_RASTER_REPROJECTION){var i=this.getTileCacheForProjection(t);for(var n in this.tileCache.expireCache(this.tileCache==i?r:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[n];o.expireCache(o==i?r:{})}}else e.prototype.expireCache.call(this,t,r)},t.prototype.getGutterForProjection=function(e){return u.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!c.equivalent(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var t=e.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},t.prototype.getOpaque=function(t){return!(u.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!c.equivalent(this.getProjection(),t))&&e.prototype.getOpaque.call(this,t)},t.prototype.getTileGridForProjection=function(t){if(!u.ENABLE_RASTER_REPROJECTION)return e.prototype.getTileGridForProjection.call(this,t);var r=this.getProjection();if(!this.tileGrid||r&&!c.equivalent(r,t)){var i=h.getUid(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=d.getForProjection(t)),this.tileGridForProjection[i]}return this.tileGrid},t.prototype.getTileCacheForProjection=function(t){if(!u.ENABLE_RASTER_REPROJECTION)return e.prototype.getTileCacheForProjection.call(this,t);var r=this.getProjection();if(!r||c.equivalent(r,t))return this.tileCache;var i=h.getUid(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new a.default(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},t.prototype.createTile_=function(e,t,r,n,o,a){var l=[e,t,r],u=this.getTileCoordForTileUrlFunction(l,o),c=u?this.tileUrlFunction(u,n,o):void 0,p=new this.tileClass(l,void 0!==c?s.default.IDLE:s.default.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=a,p.addEventListener(i.default.CHANGE,this.handleTileChange.bind(this)),p},t.prototype.getTile=function(e,t,r,i,n){var a=this.getProjection();if(u.ENABLE_RASTER_REPROJECTION&&a&&n&&!c.equivalent(a,n)){var s=this.getTileCacheForProjection(n),l=[e,t,r],d=void 0,h=p.getKey(l);s.containsKey(h)&&(d=s.get(h));var f=this.getKey();if(d&&d.key==f)return d;var g=this.getTileGridForProjection(a),_=this.getTileGridForProjection(n),m=this.getTileCoordForTileUrlFunction(l,n),v=new o.default(a,g,n,_,l,m,this.getTilePixelRatio(i),this.getGutter(),function(e,t,r,i){return this.getTileInternal(e,t,r,i,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return v.key=f,d?(v.interimTile=d,v.refreshInterimChain(),s.replace(h,v)):s.set(h,v),v}return this.getTileInternal(e,t,r,i,a||n)},t.prototype.getTileInternal=function(e,t,r,i,n){var o=null,a=p.getKeyZXY(e,t,r),l=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=l){var u=o;o=this.createTile_(e,t,r,i,n,l),u.getState()==s.default.IDLE?o.interimTile=u.interimTile:o.interimTile=u,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(e,t,r,i,n,l),this.tileCache.set(a,o);return o},t.prototype.setRenderReprojectionEdges=function(e){if(u.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,t){if(u.ENABLE_RASTER_REPROJECTION){var r=c.get(e);if(r){var i=h.getUid(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=t)}}},t}(l.default)})),parcelRequire.register("8atKH",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}),(function(e){return l=e}));var r,i=parcelRequire("9lxgC"),n=parcelRequire("99gaQ"),o=parcelRequire("1Rvcq"),a=parcelRequire("2nKin"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});var l=function(e){function t(t,r,i,n,o,a){var s=e.call(this,t,r,a)||this;return s.crossOrigin_=n,s.src_=i,s.key=i,s.image_=new Image,null!==n&&(s.image_.crossOrigin=n),s.unlisten_=null,s.tileLoadFunction_=o,s}return s(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(e){this.image_=e,this.state=n.default.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){var e;this.state=n.default.ERROR,this.unlistenImage_(),this.image_=((e=o.createCanvasContext2D(1,1)).fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=n.default.LOADED:this.state=n.default.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==n.default.ERROR&&(this.state=n.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==n.default.IDLE&&(this.state=n.default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=a.listenImage(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(i.default)})),parcelRequire.register("9lxgC",(function(e,t){$parcel$export(e.exports,"default",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("hJvy5"),n=parcelRequire("7Ry8n"),o=parcelRequire("99gaQ"),a=parcelRequire("b3vZc"),s=parcelRequire("hNRnK"),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(t,r,i){var n=e.call(this)||this,o=i||{};return n.tileCoord=t,n.state=r,n.interimTile=null,n.key="",n.transition_=void 0===o.transition?250:o.transition,n.transitionStarts_={},n.interpolate=!!o.interpolate,n}return l(t,e),t.prototype.changed=function(){this.dispatchEvent(n.default.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==o.default.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==o.default.LOADED){e.interimTile=null;break}e.getState()==o.default.LOADING?t=e:e.getState()==o.default.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){if(this.state!==o.default.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},t.prototype.load=function(){a.abstract()},t.prototype.getAlpha=function(e,t){if(!this.transition_)return 1;var r=this.transitionStarts_[e];if(r){if(-1===r)return 1}else r=t,this.transitionStarts_[e]=r;var i=t-r+1e3/60;return i>=this.transition_?1:s.easeIn(i/this.transition_)},t.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(i.default)})),parcelRequire.register("16cCo",(function(e,t){$parcel$export(e.exports,"default",(function(){return h}),(function(e){return h=e}));var r,i=parcelRequire("eL70X"),n=parcelRequire("7Ry8n"),o=parcelRequire("9lxgC"),a=parcelRequire("99gaQ"),s=parcelRequire("gxrmM"),l=parcelRequire("2v4mn"),u=parcelRequire("8GG6h"),c=parcelRequire("geRS1"),p=parcelRequire("9eKdp"),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=function(e){function t(t,r,n,o,p,d,h,f,g,_,m,v){var y=e.call(this,p,a.default.IDLE,{interpolate:!!v})||this;y.renderEdges_=void 0!==m&&m,y.pixelRatio_=h,y.gutter_=f,y.canvas_=null,y.sourceTileGrid_=r,y.targetTileGrid_=o,y.wrappedTileCoord_=d||p,y.sourceTiles_=[],y.sourcesListenerKeys_=null,y.sourceZ_=0;var x=o.getTileCoordExtent(y.wrappedTileCoord_),b=y.targetTileGrid_.getExtent(),w=y.sourceTileGrid_.getExtent(),R=b?c.getIntersection(x,b):x;if(0===c.getArea(R))return y.state=a.default.EMPTY,y;var $=t.getExtent();$&&(w=w?c.getIntersection(w,$):$);var C=o.getResolution(y.wrappedTileCoord_[0]),S=l.calculateSourceExtentResolution(t,n,R,C);if(!isFinite(S)||S<=0)return y.state=a.default.EMPTY,y;var E=void 0!==_?_:i.ERROR_THRESHOLD;if(y.triangulation_=new s.default(t,n,R,w,S*E,C),0===y.triangulation_.getTriangles().length)return y.state=a.default.EMPTY,y;y.sourceZ_=r.getZForResolution(S);var q=y.triangulation_.calculateSourceExtent();if(w&&(t.canWrapX()?(q[1]=u.clamp(q[1],w[1],w[3]),q[3]=u.clamp(q[3],w[1],w[3])):q=c.getIntersection(q,w)),c.getArea(q)){for(var T=r.getTileRangeForExtentAndZ(q,y.sourceZ_),I=T.minX;I<=T.maxX;I++)for(var L=T.minY;L<=T.maxY;L++){var A=g(y.sourceZ_,I,L,h);A&&y.sourceTiles_.push(A)}0===y.sourceTiles_.length&&(y.state=a.default.EMPTY)}else y.state=a.default.EMPTY;return y}return d(t,e),t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(t,r,i){t&&t.getState()==a.default.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=a.default.ERROR;else{var t=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(t),i="number"==typeof r?r:r[0],n="number"==typeof r?r:r[1],o=this.targetTileGrid_.getResolution(t),s=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=l.render(i,n,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,u,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=a.default.LOADED}this.changed()},t.prototype.load=function(){if(this.state==a.default.IDLE){this.state=a.default.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t,r,i){var o=t.getState();if(o==a.default.IDLE||o==a.default.LOADING){e++;var s=p.listen(t,n.default.CHANGE,(function(r){var i=t.getState();i!=a.default.LOADED&&i!=a.default.ERROR&&i!=a.default.EMPTY||(p.unlistenByKey(s),0===--e&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(s)}}.bind(this)),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e,t,r){e.getState()==a.default.IDLE&&e.load()}))}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(p.unlistenByKey),this.sourcesListenerKeys_=null},t}(o.default)})),parcelRequire.register("buG01",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}),(function(e){return s=e}));var r,i=parcelRequire("6PzhR"),n=parcelRequire("8jOKF"),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.expireCache=function(e){for(;this.canExpireCache();){if(this.peekLast().getKey()in e)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=this.peekFirstKey(),t=n.fromKey(e)[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(n.getKey(e.tileCoord)),e.release())}.bind(this))}},t}(i.default),s=a})),parcelRequire.register("6PzhR",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("59Hdm"),i=function(){function e(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},e.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},e.prototype.get=function(e,t){var i=this.entries_[e];return r.assert(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_},e.prototype.remove=function(e){var t=this.entries_[e];return r.assert(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.key_;return t},e.prototype.getValues=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.value_;return t},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},e.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},e.prototype.set=function(e,t){r.assert(!(e in this.entries_),16);var i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_},e.prototype.setSize=function(e){this.highWaterMark=e},e}()})),parcelRequire.register("8jOKF",(function(e,t){function r(e,t,r,i){return void 0!==i?(i[0]=e,i[1]=t,i[2]=r,i):[e,t,r]}function i(e,t,r){return e+"/"+t+"/"+r}function n(e){return i(e[0],e[1],e[2])}function o(e){return e.split("/").map(Number)}function a(e){return(e[1]<<e[0])+e[2]}function s(e,t){var r=e[0],i=e[1],n=e[2];if(t.getMinZoom()>r||r>t.getMaxZoom())return!1;var o=t.getFullTileRange(r);return!o||o.containsXY(i,n)}$parcel$export(e.exports,"createOrUpdate",(function(){return r})),$parcel$export(e.exports,"getKeyZXY",(function(){return i})),$parcel$export(e.exports,"getKey",(function(){return n})),$parcel$export(e.exports,"fromKey",(function(){return o})),$parcel$export(e.exports,"hash",(function(){return a})),$parcel$export(e.exports,"withinExtentAndZ",(function(){return s}))})),parcelRequire.register("lHyQ5",(function(e,t){$parcel$export(e.exports,"default",(function(){return c}),(function(e){return c=e}));var r,i=parcelRequire("fLPH7"),n=parcelRequire("aD4mE"),o=parcelRequire("99gaQ"),a=parcelRequire("40k7X"),s=parcelRequire("8jOKF"),l=parcelRequire("b3vZc"),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e){function t(r){var i=e.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,opaque:r.opaque,projection:r.projection,state:r.state,tileGrid:r.tileGrid,tilePixelRatio:r.tilePixelRatio,wrapX:r.wrapX,transition:r.transition,interpolate:r.interpolate,key:r.key,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this;return i.generateTileUrlFunction_=i.tileUrlFunction===t.prototype.tileUrlFunction,i.tileLoadFunction=r.tileLoadFunction,r.tileUrlFunction&&(i.tileUrlFunction=r.tileUrlFunction),i.urls=null,r.urls?i.setUrls(r.urls):r.url&&i.setUrl(r.url),i.tileLoadingKeys_={},i}return u(t,e),t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var t,r=e.target,a=l.getUid(r),s=r.getState();s==o.default.LOADING?(this.tileLoadingKeys_[a]=!0,t=i.default.TILELOADSTART):a in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[a],t=s==o.default.ERROR?i.default.TILELOADERROR:s==o.default.LOADED?i.default.TILELOADEND:void 0),null!=t&&this.dispatchEvent(new n.TileSourceEvent(t,r))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()},t.prototype.setUrl=function(e){var t=a.expandUrl(e);this.urls=t,this.setUrls(t)},t.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(a.createFromTemplates(e,this.tileGrid),t):this.setKey(t)},t.prototype.tileUrlFunction=function(e,t,r){},t.prototype.useTile=function(e,t,r){var i=s.getKeyZXY(e,t,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)},t}(n.default)})),parcelRequire.register("fLPH7",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}})),parcelRequire.register("aD4mE",(function(e,t){$parcel$export(e.exports,"TileSourceEvent",(function(){return g}),(function(e){return g=e})),$parcel$export(e.exports,"default",(function(){return _}),(function(e){return _=e}));var r,i=parcelRequire("jkZCX"),n=parcelRequire("bJgzg"),o=parcelRequire("buG01"),a=parcelRequire("99gaQ"),s=parcelRequire("b3vZc"),l=parcelRequire("59Hdm"),u=parcelRequire("cR5xV"),c=parcelRequire("8jOKF"),p=parcelRequire("i0Mkc"),d=parcelRequire("3R7f8"),h=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),f=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;r.on,r.once,r.un,r.opaque_=void 0!==t.opaque&&t.opaque,r.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,r.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;var i=t.tileGrid;return i&&d.toSize(i.getTileSize(i.getMinZoom()),[256,256]),r.tileCache=new o.default(t.cacheSize||0),r.tmpSize=[0,0],r.key_=t.key||"",r.tileOptions={transition:t.transition,interpolate:t.interpolate},r.zDirection=t.zDirection?t.zDirection:0,r}return h(t,e),t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,t){var r=this.getTileCacheForProjection(e);r&&r.expireCache(t)},t.prototype.forEachLoadedTile=function(e,t,r,i){var n=this.getTileCacheForProjection(e);if(!n)return!1;for(var o,s,l,u=!0,p=r.minX;p<=r.maxX;++p)for(var d=r.minY;d<=r.maxY;++d)s=c.getKeyZXY(t,p,d),l=!1,n.containsKey(s)&&(l=(o=n.get(s)).getState()===a.default.LOADED)&&(l=!1!==i(o)),l||(u=!1);return u},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},t.prototype.getTile=function(e,t,r,i,n){return s.abstract()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:p.getForProjection(e)},t.prototype.getTileCacheForProjection=function(e){return l.assert(u.equivalent(this.getProjection(),e),68),this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,t,r){var i=this.getTileGridForProjection(r),n=this.getTilePixelRatio(t),o=d.toSize(i.getTileSize(e),this.tmpSize);return 1==n?o:d.scale(o,n,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,t){var r=void 0!==t?t:this.getProjection(),i=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(e=p.wrapX(i,e,r)),c.withinExtentAndZ(e,i)?e:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(e,t){var r=this.getTileCacheForProjection(t);e>r.highWaterMark&&(r.highWaterMark=e)},t.prototype.useTile=function(e,t,r,i){},t}(n.default),g=function(e){function t(t,r){var i=e.call(this,t)||this;return i.tile=r,i}return h(t,e),t}(i.default),_=f})),parcelRequire.register("i0Mkc",(function(e,t){$parcel$export(e.exports,"getForProjection",(function(){return u})),$parcel$export(e.exports,"wrapX",(function(){return c}));var r=parcelRequire("64Que"),i=parcelRequire("1qG3K"),n=parcelRequire("56Kgw"),o=parcelRequire("lxfkW"),a=parcelRequire("cR5xV"),s=(n=parcelRequire("56Kgw"),parcelRequire("geRS1")),l=parcelRequire("3R7f8");function u(e){var t=e.getDefaultTileGrid();return t||(t=function(e,t,n,o){return function(e,t,n,o){var a=void 0!==o?o:r.default.TOP_LEFT,l=p(e,t,n);return new i.default({extent:e,origin:s.getCorner(e,a),resolutions:l,tileSize:n})}(d(e),t,n,o)}(e),e.setDefaultTileGrid(t)),t}function c(e,t,r){var i=t[0],n=e.getTileCoordCenter(t),o=d(r);if(s.containsCoordinate(o,n))return t;var a=s.getWidth(o),l=Math.ceil((o[0]-n[0])/a);return n[0]+=a*l,e.getTileCoordForCoordAndZ(n,i)}function p(e,t,r,i){for(var n=void 0!==t?t:o.DEFAULT_MAX_ZOOM,a=s.getHeight(e),u=s.getWidth(e),c=l.toSize(void 0!==r?r:o.DEFAULT_TILE_SIZE),p=i>0?i:Math.max(u/c[0],a/c[1]),d=n+1,h=new Array(d),f=0;f<d;++f)h[f]=p/Math.pow(2,f);return h}function d(e){var t=(e=a.get(e)).getExtent();if(!t){var r=180*n.METERS_PER_UNIT[n.default.DEGREES]/e.getMetersPerUnit();t=s.createOrUpdate(-r,-r,r,r)}return t}})),parcelRequire.register("1qG3K",(function(e,t){$parcel$export(e.exports,"default",(function(){return p}));var r=parcelRequire("exN1H"),i=parcelRequire("lxfkW"),n=parcelRequire("59Hdm"),o=parcelRequire("8GG6h"),a=parcelRequire("geRS1"),s=parcelRequire("8jOKF"),l=parcelRequire("l89p7"),u=parcelRequire("3R7f8"),c=[0,0,0],p=function(){function e(e){var t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,n.assert(l.isSorted(this.resolutions_,(function(e,t){return t-e}),!0),17),!e.origins)for(var o=0,s=this.resolutions_.length-1;o<s;++o)if(t){if(this.resolutions_[o]/this.resolutions_[o+1]!==t){t=void 0;break}}else t=this.resolutions_[o]/this.resolutions_[o+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,n.assert(this.origins_.length==this.resolutions_.length,20));var u=e.extent;void 0===u||this.origin_||this.origins_||(this.origin_=a.getTopLeft(u)),n.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,n.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:i.DEFAULT_TILE_SIZE,n.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==u?u:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map((function(e,t){var i=new r.default(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(u){var n=this.getTileRangeForExtentAndZ(u,t);i.minX=Math.max(n.minX,i.minX),i.maxX=Math.min(n.maxX,i.maxX),i.minY=Math.max(n.minY,i.minY),i.maxY=Math.min(n.maxY,i.maxY)}return i}),this):u&&this.calculateTileRanges_(u)}return e.prototype.forEachTileCoord=function(e,t,r){for(var i=this.getTileRangeForExtentAndZ(e,t),n=i.minX,o=i.maxX;n<=o;++n)for(var a=i.minY,s=i.maxY;a<=s;++a)r([t,n,a])},e.prototype.forEachTileCoordParentTileRange=function(e,t,i,n){var o,a,s,l=null,u=e[0]-1;for(2===this.zoomFactor_?(a=e[1],s=e[2]):l=this.getTileCoordExtent(e,n);u>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),s=Math.floor(s/2),o=r.createOrUpdate(a,a,s,s,i)):o=this.getTileRangeForExtentAndZ(l,u,i),t(u,o))return!0;--u}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},e.prototype.getResolution=function(e){return this.resolutions_[e]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(e,t,i){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*e[1],o=2*e[2];return r.createOrUpdate(n,n+1,o,o+1,t)}var a=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e[0]+1,t)}return null},e.prototype.getTileRangeForTileCoordAndZ=function(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;var n=e[0],o=e[1],a=e[2];if(t===n)return r.createOrUpdate(o,a,o,a,i);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,t-n),l=Math.floor(o*s),u=Math.floor(a*s);if(t<n)return r.createOrUpdate(l,l,u,u,i);var c=Math.floor(s*(o+1))-1,p=Math.floor(s*(a+1))-1;return r.createOrUpdate(l,c,u,p,i)}var d=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(d,t,i)},e.prototype.getTileRangeExtent=function(e,t,r){var i=this.getOrigin(e),n=this.getResolution(e),o=u.toSize(this.getTileSize(e),this.tmpSize_),s=i[0]+t.minX*o[0]*n,l=i[0]+(t.maxX+1)*o[0]*n,c=i[1]+t.minY*o[1]*n,p=i[1]+(t.maxY+1)*o[1]*n;return a.createOrUpdate(s,c,l,p,r)},e.prototype.getTileRangeForExtentAndZ=function(e,t,i){var n=c;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,n);var o=n[1],a=n[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,n),r.createOrUpdate(o,n[1],a,n[2],i)},e.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=u.toSize(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*r,t[1]-(e[2]+.5)*i[1]*r]},e.prototype.getTileCoordExtent=function(e,t){var r=this.getOrigin(e[0]),i=this.getResolution(e[0]),n=u.toSize(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*n[0]*i,s=r[1]-(e[2]+1)*n[1]*i,l=o+n[0]*i,c=s+n[1]*i;return a.createOrUpdate(o,s,l,c,t)},e.prototype.getTileCoordForCoordAndResolution=function(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)},e.prototype.getTileCoordForXYAndResolution_=function(e,t,r,i,n){var a=this.getZForResolution(r),l=r/this.getResolution(a),c=this.getOrigin(a),p=u.toSize(this.getTileSize(a),this.tmpSize_),d=l*(e-c[0])/r/p[0],h=l*(c[1]-t)/r/p[1];return i?(d=o.ceil(d,5)-1,h=o.ceil(h,5)-1):(d=o.floor(d,5),h=o.floor(h,5)),s.createOrUpdate(a,d,h,n)},e.prototype.getTileCoordForXYAndZ_=function(e,t,r,i,n){var a=this.getOrigin(r),l=this.getResolution(r),c=u.toSize(this.getTileSize(r),this.tmpSize_),p=(e-a[0])/l/c[0],d=(a[1]-t)/l/c[1];return i?(p=o.ceil(p,5)-1,d=o.ceil(d,5)-1):(p=o.floor(p,5),d=o.floor(d,5)),s.createOrUpdate(r,p,d,n)},e.prototype.getTileCoordForCoordAndZ=function(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)},e.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},e.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},e.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},e.prototype.getZForResolution=function(e,t){var r=l.linearFindNearest(this.resolutions_,e,t||0);return o.clamp(r,this.minZoom,this.maxZoom)},e.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,r=new Array(t),i=this.minZoom;i<t;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r},e}()})),parcelRequire.register("lxfkW",(function(e,t){$parcel$export(e.exports,"DEFAULT_MAX_ZOOM",(function(){return r})),$parcel$export(e.exports,"DEFAULT_TILE_SIZE",(function(){return i}));var r=42,i=256})),parcelRequire.register("40k7X",(function(e,t){$parcel$export(e.exports,"createFromTemplates",(function(){return a})),$parcel$export(e.exports,"createFromTileUrlFunctions",(function(){return s})),$parcel$export(e.exports,"expandUrl",(function(){return l}));var r=parcelRequire("59Hdm"),i=parcelRequire("8GG6h"),n=parcelRequire("8jOKF");function o(e,t){var i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,a=/\{-y\}/g;return function(s,l,u){return s?e.replace(i,s[0].toString()).replace(n,s[1].toString()).replace(o,s[2].toString()).replace(a,(function(){var e=s[0],i=t.getFullTileRange(e);return r.assert(i,55),(i.getHeight()-s[2]-1).toString()})):void 0}}function a(e,t){for(var r=e.length,i=new Array(r),n=0;n<r;++n)i[n]=o(e[n],t);return s(i)}function s(e){return 1===e.length?e[0]:function(t,r,o){if(t){var a=n.hash(t),s=i.modulo(a,e.length);return e[s](t,r,o)}}}function l(e){var t=[],r=/\{([a-z])-([a-z])\}/.exec(e);if(r){var i=r[1].charCodeAt(0),n=r[2].charCodeAt(0),o=void 0;for(o=i;o<=n;++o)t.push(e.replace(r[0],String.fromCharCode(o)));return t}if(r=/\{(\d+)-(\d+)\}/.exec(e)){for(var a=parseInt(r[2],10),s=parseInt(r[1],10);s<=a;s++)t.push(e.replace(r[0],s.toString()));return t}return t.push(e),t}})),parcelRequire.register("8FKCO",(function(e,t){$parcel$export(e.exports,"ApprovalView",(function(){return a}));var r=parcelRequire("gDMFZ"),i=parcelRequire("lmtwS"),n=parcelRequire("2GoEL"),o=parcelRequire("6irKh"),a={id:"approval-cnt",view:"multiview",animate:!1,cells:[{id:"apv:identification",type:"wide",css:{"background-color":"#fff"},cols:[{},{margin:15,rows:[{},i.PartyForm,{}]},{}]},{id:"apv:approval",type:"wide",css:{"background-color":"#fff"},rows:[{id:"app:navmap",view:"navmap",basemapURL:appdata.basemap,ctrl:r.ApprovalCtrl.mapCtrl,readyfn:"initMap"},{id:"apv:approval_forms",view:"multiview",hidden:!0,animate:!1,cells:[n.PartyGrid,o.SignatureForm]},{view:"toolbar",id:"apv:map_toolbar",css:"webix_dark",height:40,cols:[{},{view:"button",width:50,id:"apv:map-back_btn",label:"",type:"icon",icon:"mdi mdi-arrow-left-bold",tooltip:__("Return to the party identity form"),click:()=>{r.ApprovalCtrl.approvalParties=new Array,r.ApprovalCtrl.mapCtrl.approvalLayer.getSource().clear(),r.ApprovalCtrl.mapCtrl.selectionInteraction.getFeatures().clear(),r.ApprovalCtrl.mapCtrl.selectionCount=0,$$("approval-cnt").setValue("apv:identification"),$$("editor-cnt")&&$$("editor-cnt").enable()}},{width:10},{view:"text",id:"apv:map_party_name",width:300,value:"",inputAlign:"center",readonly:!0},{width:10},{view:"button",width:50,id:"apv:map-next_btn",label:"",type:"icon",icon:"mdi mdi-arrow-right-bold",tooltip:function(){return 0==r.ApprovalCtrl.mapCtrl.selectionCount?__("Please select one spatialunit to continue"):r.ApprovalCtrl.mapCtrl.selectionCount>1?__("Please select only one spatialunit"):__("Click to process the selected spatialunit")},click:()=>{1==r.ApprovalCtrl.mapCtrl.selectionCount&&($$("app:srid_form").disable(),r.ApprovalCtrl.onSpatialunitSelected())}},{}]}]}],getController:()=>r.ApprovalCtrl}})),parcelRequire.register("lmtwS",(function(e,t){$parcel$export(e.exports,"PartyForm",(function(){return p}),(function(e){return p=e}));var r=parcelRequire("5dAlt"),i=parcelRequire("2jgRH"),n=parcelRequire("8ibmv");const o=new Date((new Date).getFullYear()-18,(new Date).getMonth(),(new Date).getDate()),a={type:"space",id:"apv:search_cnt",paddingY:10,css:"gui_panel",rows:[{view:"combo",id:"pf:party_search",label:__("Search..."),labelPosition:"top",placeholder:__("Type the rightholder's name or ID number"),suggest:{keyPressTimeout:500,id:"pf:search_list",on:{onHide:()=>r.PartyFormCtrl.onSuggestHide()},body:{template:`[#count#x] - #value# - ${__("cc")}: #id_number# `,dataFeed:"api/party/search/?"+appdata.dbparams,on:{onBeforeLoad:()=>r.PartyFormCtrl.beforeListLoad(),onAfterLoad:()=>{(void 0).count()}}}},on:{onKeyPress:r.PartyFormCtrl.onComboKeyPress,onFocus:function(){this.getInputNode().select()}}}]},s={type:"space",id:"apv:partylist_cnt",hidden:!0,padding:15,css:{"background-color":"#fff"},rows:[{height:30,cols:[{type:"clean",id:"apv:partylist_cnt_label",template:"<br/><b>&nbsp;"+__("Parties already identified for spatialunit number")+": </b>"},{type:"clean",view:"button",value:__("Return"),width:100,click:()=>{$$("approval-cnt").setValue("apv:approval")}}]},{view:"datatable",id:"apv:partylist_grid",autoheight:!0,autowidth:!0,columns:[{id:"id_number",header:{text:__("ID Number"),height:20},width:150},{id:"full_name",header:__("Full Name"),width:350}],data:[]}]},l={view:"form",id:"apv:party_form",borderless:!0,elementsConfig:{labelWidth:120,readonly:!0,required:!0,labelPosition:"top",invalidMessage:__("This field cannot be empty"),bottomPadding:18,css:"disabled-input",on:{onChange:function(){this.validate()},onItemClick:e=>{$$(e).config.readonly&&webix.message({type:"debug",text:__("Enable editing to change values"),expire:1e3})}}},rules:{"pf-phone_number":e=>!e||webix.rules.isNumber(e)},elements:[{margin:15,rows:[{margin:10,cols:[{width:300,rows:[{view:"text",id:"pf-first_name",name:"pf-first_name",label:__("First Name"),placeholder:__("First Name")},{view:"text",id:"pf-last_name",name:"pf-last_name",label:__("Last Name"),placeholder:__("Last Name")},{view:"datepicker",id:"pf-date_of_birth",name:"pf-date_of_birth",label:__("Date of Birth"),placeholder:__("Date of Birth"),timepicker:!1,stringResult:!0,format:"%d-%M-%Y",suggest:{type:"calendar",body:{date:o,maxDate:o}}},{view:"text",id:"pf-id_number",name:"pf-id_number",label:__("ID Number"),editor:"text",validate:webix.rules.isNumber,placeholder:__("ID Number"),invalidMessage:__("This field cannot be empty & must be a number")},{view:"richselect",id:"pf-gender",name:"pf-gender",label:__("Gender"),placeholder:__("Gender"),value:"",options:[{id:2,value:i.Codelist("gender",2)},{id:1,value:i.Codelist("gender",1)}]},{view:"text",id:"pf-phone_number",name:"pf-phone_number",label:__("Phone Number"),placeholder:__("Phone Number"),required:!1,invalidMessage:__("This field must be a number")},{view:"checkbox",id:"pf-date_checked",name:"pf-date_checked",labelWidth:20,disabled:!0,required:!1,labelRight:__("Data checked on: "),value:!1,on:{onChange:e=>{r.PartyFormCtrl.appEvent&&r.PartyFormCtrl.toggleDataChecked(e)},onItemClick:e=>{$$(e).config.readonly&&webix.message({type:"debug",text:__("Enable editing to change values"),expire:1e3})}}}]}]}]}]},u={padding:10,width:450,rows:[{},{view:"tabbar",id:"pf:attachment_tab",type:"bottom",multiview:!0,tooltip:"#tooltip#",options:[{id:"pf:facephoto",tooltip:__("Face Photo"),value:'<span class="mdi mdi-account-box-multiple"></span>'},{id:"pf:iddoc",tooltip:__("Identity Card"),value:'<span class="mdi mdi-card-account-details-outline"></span>'},{id:"pf:fingerprint",tooltip:__("Fingerprint"),value:'<span class="mdi mdi-fingerprint"></span>'}],on:{onChange:function(e,t){$$(t+"_btn").hide(),$$(e+"_btn").show()}}},{height:300,view:"multiview",id:"pf:attachment_cnt",animate:!1,cells:[{id:"pf:facephoto",rows:[{id:"pf:facephoto_carousel",view:"carousel",navigation:{type:"side"},cols:[{data:{src:"blank.png",alt:""},template:n.attachmentTemplate}]}]},{id:"pf:iddoc",rows:[{id:"pf:iddoc_carousel",view:"carousel",navigation:{type:"side"},cols:[{data:{src:"blank.png",alt:""},template:n.attachmentTemplate}]}]},{id:"pf:fingerprint",template:n.attachmentTemplate,data:{src:"coming-soon.png",alt:"",class:"party"}}]},{view:"toolbar",height:38,padding:2,elements:[{},{view:"button",id:"pf:facephoto_btn",css:"toolbar_button",label:__("Add Face Photo"),disabled:!0,width:200,popup:{view:"popup",id:"pf:facephoto_menu",width:150,body:{view:"list",data:[{id:"upload_facephoto",value:'<i class="fa fa-upload" aria-hidden="true"></i>&emsp;'+__("Upload Photo")},{id:"take_facephoto",value:'<i class="fa fa-camera" aria-hidden="true"></i>&emsp;'+__("Take Photo")}],template:"#value#",autoheight:!0,select:!0,on:{onAfterSelect:e=>{$$("pf:facephoto_menu").hide(),$$("pf:facephoto_menu").getChildViews()[0].unselectAll(),e.includes("upload_")?$$("approval-cnt").config.getController().uploadAttachment(e):$$("approval-cnt").config.getController().captureAttachment(e)}}}}},{view:"button",id:"pf:iddoc_btn",css:"toolbar_button",label:__("Add ID Photo"),disabled:!0,hidden:!0,width:200,popup:{view:"popup",id:"pf:iddoc_menu",width:150,body:{view:"list",data:[{id:"upload_iddoc",value:'<i class="fa fa-upload" aria-hidden="true"></i>&emsp;'+__("Upload Photo")},{id:"take_iddoc",value:'<i class="fa fa-camera" aria-hidden="true"></i>&emsp;'+__("Take Photo")}],template:"#value#",autoheight:!0,select:!0,on:{onAfterSelect:e=>{$$("pf:iddoc_menu").hide(),$$("pf:iddoc_menu").getChildViews()[0].unselectAll(),e.includes("upload_")?$$("approval-cnt").config.getController().uploadAttachment(e):$$("approval-cnt").config.getController().captureAttachment(e)}}}}},{view:"button",id:"pf:fingerprint_btn",css:"toolbar_button",label:__("Add FingerPrint"),disabled:!0,hidden:!0,width:200,click:()=>{console.log("Comming soon...")}},{}]},{}]},c={type:"space",id:"apv:buttons_cnt",padding:10,css:{"background-color":"#fff"},cols:[{view:"toggle",id:"pf:edit_btn",type:"icon",css:"toolbar_button",onLabel:__("Save"),offLabel:" "+__("Edit"),onIcon:"mdi mdi-check-outline",offIcon:"mdi mdi-account-edit-outline",disabled:!0,formIsValid:!0,width:110,height:40,click:function(){let e=$$("approval-cnt").config.getController();e.partyDataFromDB?e.partyDataFromDB=!1:this.config.formIsValid=$$("apv:party_form").validate(),e.onEditButtonToggle(0==this.getValue(),this)}},{view:"button",id:"pf:cancel_btn",css:"toolbar_button",type:"icon",label:__("Cancel"),icon:"mdi mdi-account-remove-outline",disabled:!0,width:110,height:40,click:()=>$$("approval-cnt").config.getController().onCancelButtonClick()},{},{view:"checkbox",id:"pf:identity_checked",css:"editable_input right_mark",name:"pf:identity_checked",label:"&thinsp;",labelRight:__("Identity Validated"),labelWidth:22,width:170,disabled:!0,required:!0,value:0,click:function(e){r.PartyFormCtrl.onIdentytyValidated(1==$$(e).getValue())}},{},{view:"button",id:"pf:approval_btn",css:"toolbar_button",label:__("Approve Boundaries"),autowidth:!0,height:35,disabled:!0,click:function(){$$("editor-cnt")&&$$("editor-cnt").disable(),$$("approval-cnt").config.getController().onApprovalButtonClick()}}]},p={id:"partyform_cnt",rows:[{view:"toolbar",css:"webix_dark",cols:[{view:"label",align:"center",label:__("Citizen Details")}]},a,s,{type:"space",id:"apv:form_cnt",css:"gui_panel",cols:[l,u]},c],getController:()=>r.PartyFormCtrl}})),parcelRequire.register("5dAlt",(function(e,t){$parcel$export(e.exports,"PartyFormCtrl",(function(){return n}));var r=parcelRequire("8ibmv"),i=parcelRequire("gDMFZ"),n={appEvent:!0,onSuggestHide:()=>{let e=$$("pf:party_search").getValue();if(e){let t=$$("pf:search_list").getList().getItem(e);t&&n.onPartySelected(t.id_number,t.oid_list[0])}},beforeListLoad:()=>{let e=$$("pf:party_search").getText();if(""==e||"["==e[0]||e.length<3)return!1},onComboKeyPress:e=>{-1!=$$("pf:party_search").getText().indexOf("cc:")&&(38==e&&40==e||27!=e&&13!=e&&(n.resetPartyForm(),$$("pf:search_list").getBody().clearAll()))},resetPartyForm:e=>{e||($$("pf:party_search").setValue(null),$$("pf:search_list").getList().clearAll()),$$("apv:party_form").clear(),$$("apv:party_form").clearValidation();let t=$$("pf:attachment_tab");t.getOption("pf:facephoto").value='<span class="mdi mdi-account-box-multiple"></span>',t.getOption("pf:iddoc").value='<span class="mdi mdi-card-account-details-outline"></span>',t.refresh(),$$("pf:attachment_cnt").setValue("pf:facephoto");try{$$("pf:attachment_tab").setValue("pf:facephoto")}catch(e){}let o=[{data:{src:r.blankImg,alt:""},template:r.attachmentTemplate}],a=[{data:{src:r.blankImg,alt:""},template:r.attachmentTemplate}];webix.ui(o,$$("pf:facephoto_carousel")),webix.ui(a,$$("pf:iddoc_carousel")),i.ApprovalCtrl.currentParty=null,i.ApprovalCtrl.partyDataFromDB=!0,i.ApprovalCtrl.newAttachments={facephoto:!1,iddoc:!1,fingerprint:!1},n.appEvent=!0,i.ApprovalCtrl.checkPartyChecked=!1,$$("pf:edit_btn").disable()},onPartySelected:(e,t)=>{i.ApprovalCtrl.currentParty&&n.resetPartyForm(!0);var r={objectid:t,id_number:e};webix.ajax().get("api/party/data/",{...appdata.dbparams,...r}).then((e=>{e.json().success?(i.ApprovalCtrl.currentParty=e.json().records[0],null!=t&&(i.ApprovalCtrl.currentParty.oid_list=$$("pf:search_list").getList().getItem($$("pf:party_search").getValue()).oid_list),i.ApprovalCtrl.showPartyData()):showErrorMsg(null,e.json().message)}),(e=>{showErrorMsg(e,"")}))},toggleDataChecked:e=>{let t=`<span class="pending">&nbsp; <i>${__("Pending")}...</i></span>`;1==e&&0==i.ApprovalCtrl.currentParty.checked_on&&($$("apv:party_form").validate()?$$("pf:facephoto_carousel").getChildViews()[0].getChildViews()[0].config.data.src==r.blankImg?(n.appEvent=!1,$$("pf-date_checked").setValue(0),i.ApprovalCtrl.checkPartyChecked=!0,i.ApprovalCtrl.requestPartyAttachment("facephoto")):$$("pf:iddoc_carousel").getChildViews()[0].getChildViews()[0].config.data.src==r.blankImg?(n.appEvent=!1,$$("pf-date_checked").setValue(0),i.ApprovalCtrl.checkPartyChecked=!0,i.ApprovalCtrl.requestPartyAttachment("iddoc")):(t="<b>"+r.dateFormat_dMY(new Date)+"</b>",i.ApprovalCtrl.checkPartyChecked=!0):$$("pf-date_checked").setValue(0)),$$("pf-date_checked").define("labelRight",__("Data checked on: ")+t),$$("pf-date_checked").refresh()},onIdentytyValidated:function(e){i.ApprovalCtrl.currentParty.validated=e,e?($$("apv:search_cnt").disable(),$$("pf:approval_btn").enable(),$$("pf:edit_btn").disable()):($$("apv:search_cnt").enable(),$$("pf:approval_btn").disable(),$$("pf:edit_btn").enable())}}})),parcelRequire.register("2GoEL",(function(e,t){$parcel$export(e.exports,"PartyGrid",(function(){return o}));var r=parcelRequire("gDMFZ"),i=parcelRequire("8ibmv"),n=parcelRequire("9dJVC");const o={id:"apv:partgrid_cnt",height:180,borderless:!0,cols:[{width:280,rows:[{id:"ipg:su_details",view:"property",editable:!1,nameWidth:120,tooltip:{template:e=>"ipg:details_area"==e.id&&e.value?appdata.sridTooltip:""},elements:[{type:"label",label:"&nbsp;"+__("Spatialunit Data")},{type:"text",name:"ipg:details_suid",id:"ipg:details_suid",label:__("ID")},{type:"text",name:"ipg:details_label",id:"ipg:details_label",label:__("Label/Name")},{type:"text",name:"ipg:details_area",id:"ipg:details_area",label:__("Area aprox.")+'<sup class="srid">*</sup>',css:"srid_value"},{type:"text",name:"ipg:details_physicalid",id:"ipg:details_physicalid",label:__("Physical ID")},{type:"date",name:"ipg:details_type",id:"ipg:details_type",label:__("Type")}]},{view:"button",value:__("Return"),autowidth:!0,align:"center",css:"button_border",click:r.ApprovalCtrl.resetInspectionForms}]},{borderless:!0,view:"resizer"},{rows:[{id:"apv:party_grid",view:"datatable",select:"row",multiselect:!0,clipboard:"selection",columns:[{id:"ipg:check",header:{text:__("Status"),css:{"text-align":"center"},height:25},width:80,css:{"text-align":"center"},template:e=>-1===r.ApprovalCtrl.approvalParties.findIndex((t=>t.id_number==e.id_number))?'<div class="webix_el_button"><button class="webixtype_base checkButton"><i class="mdi mdi-checkbox-blank-outline"></i></button></div>':'<i class="mdi mdi-checkbox-marked-outline"></i>'},{id:"ipg:full_name",map:"full_name",header:__("Full Name"),fillspace:!0},{id:"ipg:party_id",map:"id_number",header:__("ID Number"),width:110,format:e=>"null"==e?__("---"):i.idNumberFormat(e),css:{"text-align":"right"}},{id:"sign",header:{text:'<i class="mdi mdi-signature-freehand"></i>',css:{"text-align":"center"}},width:80,template:function(e){var t="webixtype_base signButton",i=__("Sign");return-1===r.ApprovalCtrl.approvalParties.findIndex((t=>t.id_number==e.id_number))&&(t+=" no_id_yet",i=__("check")),'<div class="webix_el_button"><button class="'+t+'">'+i+"</button></div>"}}],onClick:{signButton:function(e,t){var i=this.getItem(t);if(-1===r.ApprovalCtrl.approvalParties.findIndex((e=>e.id_number==i.id_number)))return webix.alert({text:__("Please verify the identity of")+"<br /><i>"+i.full_name+"</i><br />"+__("to enable signing"),type:"alert-error"}),!1;r.ApprovalCtrl.onShowSignForm(i)},checkButton:function(e,t){if(!this.getItem(t).id_number)return webix.alert({text:__("Cannot proceed without the<br />ID Number of")+"<br /><i>"+this.getItem(t).full_name,type:"alert-error"}),!1;r.ApprovalCtrl.onIdCheckButtonClick(this.getItem(t))}},on:{"data->onStoreUpdated":function(){this.data.each((function(e,t){e.index=t+1,e.index%2==0&&(e.$css="odd_row")}))}}},{cols:[{},{view:"button",value:__("Right Details"),autowidth:!0,align:"center",css:"button_border",click:()=>{n.RightsWindow.show()}},{}]}]},{width:7},{id:"apv:neighbours_grid",view:"datatable",width:300,select:"row",columns:[{id:"ipg:neigh_suid",map:"neigh_suid",header:{text:__("Parcel"),height:25},width:60,css:{"text-align":"center"}},{id:"ipg:neigh_name",map:"neigh_name",header:__("Neighbour Name"),fillspace:!0,template:e=>e.neigh_name?e.neigh_name:__("---")}]}]}})),parcelRequire.register("9dJVC",(function(e,t){$parcel$export(e.exports,"RightsWindow",(function(){return o}));var r=parcelRequire("2jgRH"),i=parcelRequire("dVyh1"),n=parcelRequire("434UG");const o=webix.ui({view:"window",id:"right_details_window",position:"center",css:"webix_dark",head:{view:"toolbar",cols:[{id:"rw:label",view:"label",label:"&nbsp;"+__("Right Information for Spatialunit")+" &rarr; "},{view:"icon",icon:"mdi mdi-close",click:n.RightsCtrl.onCancelRightEdits}]},width:740,height:600,modal:!0,move:!0,body:{type:"space",cols:[{width:0,rows:[{view:"property",id:"rw:right_details",width:0,nameWidth:140,autoheight:!0,elements:[{label:__("General Details"),type:"label",css:"property_label"},{id:"rw:right_type",type:"select",label:__("Type"),css:"right_details",options:r.codes[appdata.lang].righttype},{id:"rw:right_source",type:"select",label:__("Source"),css:"right_details",options:r.codes[appdata.lang].rightsource},{id:"rw:right_validsince",type:"date",label:__("Valid Since"),css:"right_details",format:webix.Date.dateToStr("%d-%M-%Y")},{id:"rw:right_description",type:"popup",label:__("Description"),css:"right_details",popup:{view:"popup",css:"select_popup",body:{view:"textarea",placeholder:__("Right description"),width:280,height:100}}}],on:{onAfterEditStop:()=>{n.RightsCtrl.rightData.edited=!0,$$("rw:save_btn").enable()},onAfterEditStart:e=>{if("rw:right_validsince"==e){let e=$$("rw:right_details").getEditor().getPopup();e.getBody().define("maxDate",new Date),e.getBody().refresh()}}}},{view:"property",id:"rw:attachment_counter",autoheight:!0,nameWidth:140,editable:!1,elements:[{id:"rw:attachment_sets",label:__("Attachment Sets"),type:"text"},{id:"rw:attachment_count",label:__("No. Attachments"),type:"text"}]},{},{view:"property",id:"rw:attachment_details",autoheight:!0,elements:[{id:"rw:attachments_title",type:"label",label:__("Attachment Set"),css:"property_label"},{id:"rw:attachment_type",type:"select",label:__("Type"),css:"right_details",options:r.codes[appdata.lang].rightattachment},{id:"rw:attachment_notes",type:"popup",label:__("Notes"),css:"right_details",popup:{view:"popup",css:"select_popup",body:{view:"textarea",placeholder:__("Type attachments notes"),width:280,height:80}}}],on:{onBeforeEditStart:e=>{"rw:attachments_title"!=e&&($$("rw:carousel").disable(),$$("rw:button_cnt1").disable(),$$("rw:button_cnt2").disable())},onAfterEditStop:(e,t)=>{n.RightsCtrl.onRightAttachmentEdit(e.value,t.config.id),$$("rw:carousel").enable(),$$("rw:button_cnt1").enable(),$$("rw:button_cnt2").enable(),$$("rw:save_btn").enable()}}},{view:"property",id:"rw:image_counter",autoheight:!0,editable:!1,elements:[{id:"rw:image_count",label:__("Image"),type:"text"}]},{},{type:"wide",id:"rw:button_cnt1",css:{"background-color":"#fff"},padding:4,height:40,cols:[{},{view:"button",label:__("Upload Attachment"),autowidth:!0,css:"blue_button",click:()=>{i.FileUploader.fileDialog({att_type:"att_right",callback:n.RightsCtrl.addRightAttachment})}},{}]},{type:"wide",id:"rw:button_cnt2",css:{"background-color":"#fff"},padding:4,height:40,cols:[{view:"button",label:__("Close"),autowidth:!0,css:"blue_button",click:n.RightsCtrl.onCancelRightEdits},{},{view:"button",id:"rw:save_btn",label:__("Save"),autowidth:!0,disabled:!0,css:"blue_button",click:n.RightsCtrl.updateRightDetails}]}]},{view:"carousel",id:"rw:carousel",width:420,css:"webix_dark",navigation:{type:"side"},on:{onShow:function(e){n.RightsCtrl.onShowRightAttachment(e)}}}]},on:{onShow:function(){n.RightsCtrl.onRightDetailsWindowShow()}},getController:()=>n.RightsCtrl})})),parcelRequire.register("434UG",(function(e,t){$parcel$export(e.exports,"RightsCtrl",(function(){return o}));var r=parcelRequire("2jgRH"),i=parcelRequire("8ibmv"),n=parcelRequire("gDMFZ"),o={rightData:null,rightAttSet:null,onRightDetailsWindowShow:()=>{var e={su_id:n.ApprovalCtrl.spatialunitData.details.id};webix.ajax().get("api/rights/details/",{...appdata.dbparams,...e}).then((function(e){if(e.json().success){o.rightData={...e.json(),newAttachments:!1,edited:!1,newAttachments:!1,newAttType:null,newAttNotes:null},delete o.rightData.success;let a=o.rightData;var t="&nbsp;"+__("Right Information for Spatialunit")+" &rarr; "+n.ApprovalCtrl.spatialunitData.details.id;n.ApprovalCtrl.spatialunitData.details.su_label&&(t+=" &ndash; "+n.ApprovalCtrl.spatialunitData.details.su_label),$$("rw:label").define("label",t),$$("rw:label").refresh(),$$("rw:attachment_counter").setValues({"rw:attachment_sets":a.attachments.length,"rw:attachment_count":a.attachments.reduce(((e,t)=>e+t.images.length),0)}),console.log("678"),$$("rw:right_details").setValues({"rw:right_type":a.details.right_type,"rw:right_source":a.details.right_source,"rw:right_validsince":a.details.valid_since,"rw:right_description":a.details.description||""});var r=new Array;if(o.rightAttSet=0,a.attachments.length>0){o.rightAttSet=1,$$("rw:attachment_details").getItem("rw:attachments_title").label=__("Attachment Set")+" 1"+__(" of ")+a.attachments.length,$$("rw:attachment_details").refresh(),$$("rw:attachment_details").setValues({"rw:attachment_type":a.attachments[0].attachment_type,"rw:attachment_notes":a.attachments[0].notes.toLowerCase()}),$$("rw:image_counter").setValues({"rw:image_count":"1"+__(" of ")+a.attachments[0].images.length});let e=0;a.attachments.forEach((t=>{e++;let n=0;t.images.forEach((t=>{n++,r.push({id:t.attachmentid,template:i.attachmentTemplate,css:"right_attachment_cnt",newAtt:!1,set:e,index:n,data:{id:t.attachmentid,src:"api/attachment/?"+appdata.querystring+"&att_class=right&global_id="+t.globalid,class:"right",alt:t.globalid}})}))}))}else r.push({data:{src:"images/blank.gif",alt:""},template:i.attachmentTemplate}),$$("rw:attachment_details").disable();webix.ui(r,$$("rw:carousel"))}else i.showErrorMsg(null,e.json().message)}),(e=>{i.showErrorMsg(e,"")}))},onRightAttachmentEdit:(e,t)=>{t="rw:attachment_notes"==t?"notes":"attachment_type",o.rightData.newAttachments&&o.rightAttSet==$$("rw:attachment_counter").getValues()["rw:attachment_sets"]?"notes"==t?o.rightData.newAttNotes=e:o.rightData.newAttType=e:o.rightData.attachments[o.rightAttSet-1][t]=e,o.rightData.edited=!0},addRightAttachment:function(e){let t=o.rightData;var n=Math.floor(2e4*Math.random())+1e4;let a=$$("rw:carousel").queryView({newAtt:!0},"all").length+1,s=null;s=t.newAttachments?o.rightAttSet:t.attachments.length+1,$$("rw:carousel").addView({id:n,template:i.attachmentTemplate,css:"right_attachment_cnt",newAtt:!0,set:s,index:a,data:{id:n,src:"images/uploads/"+e+".jpg",class:"right",alt:e}}),t.newAttachments?($$("rw:carousel").setActive(n),$$("rw:attachment_counter").setValues({"rw:attachment_sets":s,"rw:attachment_count":$$("rw:carousel").getChildViews()[0].getChildViews().length})):(t.newAttachments=!0,t.edited=!0,$$("rw:save_btn").enable(),$$("rw:attachment_popup")?$$("rw:attachment_popup").show():webix.ui({view:"popup",id:"rw:attachment_popup",width:250,modal:!0,position:"center",css:{background:"#f4f6fa"},body:{rows:[{view:"label",label:__("Please specify the type of attachment")},{view:"combo",id:"rw:atttype_combo",value:0,options:{body:{data:Object.entries(r.codes[appdata.lang].rightattachment).map((([e,t])=>({id:e,value:t}))),on:{onItemClick:function(e){t.newAttType=e,$$("rw:attachment_details").setValues({"rw:attachment_type":e}),$$("rw:attachment_popup").hide();let r=$$("rw:carousel").getChildViews()[0].getChildViews(),i=r[r.length-1];$$("rw:attachment_counter").setValues({"rw:attachment_sets":i.config.set,"rw:attachment_count":0==t.attachments.length?1:$$("rw:carousel").getChildViews()[0].getChildViews().length}),$$("rw:carousel").setActive(i.config.id)}}}}}]}}).show())},onShowRightAttachment:function(e){"images/blank.gif"==$$("rw:carousel").getChildViews()[0].getChildViews()[0].config.data.src&&($$("rw:attachment_details").enable(),$$("rw:carousel").removeView($$("rw:carousel").getChildViews()[0].getChildViews()[0].config.id));var t=$$("rw:carousel").queryView({id:e}).config;let r=$$("rw:attachment_counter").getValues()["rw:attachment_sets"];t.set!=o.rightAttSet&&($$("rw:attachment_details").getItem("rw:attachments_title").label=__("Attachment Set:")+" "+String(t.set)+__(" of ")+r,$$("rw:attachment_details").refresh(),o.rightAttSet=t.set);let i=o.rightData;t.set==r&&i.newAttachments?($$("rw:attachment_details").setValues({"rw:attachment_type":i.newAttType,"rw:attachment_notes":null==i.newAttNotes?"":i.newAttNotes}),$$("rw:image_counter").setValues({"rw:image_count":" "+t.index+__(" of ")+$$("rw:carousel").queryView({newAtt:!0},"all").length})):($$("rw:attachment_details").setValues({"rw:attachment_type":i.attachments[t.set-1].attachment_type,"rw:attachment_notes":i.attachments[t.set-1].notes}),$$("rw:image_counter").setValues({"rw:image_count":" "+t.index+__(" of ")+i.attachments[t.set-1].images.length}))},onCancelRightEdits:function(){o.rightData.edited||o.rightData.newAttachments?webix.confirm({title:__("Warning"),ok:__("Yes"),cancel:__("No"),text:__("There are unsaved changes. Are you sure you want to leave?")}).then((function(){o.resetRightDetailsWindow()})):o.resetRightDetailsWindow()},resetRightDetailsWindow:()=>{$$("right_details_window").getBody().removeView("rw:carousel");let e={view:"carousel",id:"rw:carousel",width:420,css:"webix_dark",navigation:{type:"side"},on:{onShow:function(e){o.onShowRightAttachment(e)}}};$$("right_details_window").getBody().addView(e),$$("rw:right_details").clear(),$$("rw:attachment_counter").clear(),$$("rw:attachment_details").clear(),$$("rw:image_counter").clear(),$$("rw:save_btn").disable(),$$("rw:attachment_details").getItem("rw:attachments_title").label=__("Attachments Details"),o.rightAttSet=null,$$("right_details_window").hide()},updateRightDetails:function(){var e=new Object;let t=o.rightData;if(e.data=$$("rw:right_details").getValues(),e.data["rw:right_validsince"]=i.dateFormat_mdY(e.data["rw:right_validsince"]),e.right_id=t.details.right_id,e.new_attachments=t.newAttachments,t.attachments.length>0&&(e.att_data=new Array,t.attachments.forEach((t=>{e.att_data.push({attachment_type:t.attachment_type,description:t.notes,globalid:t.rel_globalid})}))),t.newAttachments){e.new_attdata={type:t.newAttType,description:t.newAttNotes},e.added_attachments=new Array;for(let t of $$("rw:carousel").queryView({newAtt:!0},"all"))e.added_attachments.push({globalid:t.data.alt})}$$("right_details_window").disable(),webix.ajax().post("api/rights/update/",{...appdata.dbparams,...e}).then((function(e){e.json().success?webix.alert({title:"Success",text:__("The changes have been saved..."),ok:"Continue"}).then((()=>{$$("right_details_window").enable(),o.resetRightDetailsWindow()})):($$("right_details_window").enable(),i.showErrorMsg(null,e.json().message))}),(e=>{$$("right_details_window").enable(),i.showErrorMsg(e,"")}))}}})),parcelRequire.register("2FfFR",(function(e,t){$parcel$export(e.exports,"CertificatesView",(function(){return a}));var r=parcelRequire("2yt6N"),i=parcelRequire("8e9kg");const n={height:80,type:"clean",cols:[{type:"clean",template:`<img class="ceetificate_image" src="${new URL(parcelRequire("8asvh"))}" alt="&nbsp;" />`},{type:"clean",css:"certificate_title",template:"<span>ACTA DE COLINDANCIA</span>"},{type:"clean",template:`<div><img class="ceetificate_image" style="float: right;" src="${new URL(parcelRequire("3LX0D"))}" alt="&nbsp;"/></div>`}]},o={height:75.4,type:"line",cols:[{field:"crt:surveyor_txt",template:()=>`<div><b>Levanto:</b>&nbsp;&nbsp;<span class="crt_value">${i.CertificatesCtrl.surveyorValue||""}</span></div>\n                    <div style="padding-top:35px;"><b>Fecha:</b>&nbsp;&nbsp;<span class="crt_value">${i.CertificatesCtrl.surveyDate||""}</span></div>`},{field:"crt:obs_txt",template:()=>`<div><b>Observaciones:</b><br />\n            <span class="crt_value">${i.CertificatesCtrl.obsValue||""}</span></div>`}]};var a={id:"certificates-cnt",type:"space",cols:[{width:300,minWidth:300,rows:[{css:{background:"#fff"}},{type:"form",id:"crt:params_form$1",borderless:!0,rows:[{view:"text",id:"crt:search",required:!1,label:__("Spatialunit ID"),labelPosition:"top",css:"dropdown",placeholder:__("Search..."),suggest:{id:"crt:search_list",fitMaster:!1,width:450,textValue:"spatialunit_id",body:{template:"#spatialunit_id# - #value# - cc: #id_number# - #spatialunit_name# ",dataFeed:"api/spatialunit/search/?"+appdata.querystring,on:{onBeforeLoad:()=>{},onBeforeSelect:e=>!1,onItemClick:e=>{i.CertificatesCtrl.retrieveData($$("crt:search_list").getList().getItem(e))}}}}},{view:"combo",id:"crt:party",required:!1,label:__("Party")+":",labelWidth:75,on:{onChange:function(e){i.CertificatesCtrl.userEvent?($$("crt:fullname_txt").setValue(this.getInputNode().value),$$("crt:idnumber_txt").setValue(this.getValue())):i.CertificatesCtrl.userEvent=!0}},css:"crt_field_group",bottomPadding:8},{cols:[{view:"checkbox",required:!1,width:170,label:__("Elements")+":",labelWidth:80,labelRight:__("Basemap"),topPadding:-5,bottomPadding:-5,click:e=>{$$("crt:navmap").navMap.getLayers().getArray()[0].setVisible(1==$$(e).getValue())}},{view:"checkbox",labelWidth:0,label:"",labelRight:__("Graticule"),topPadding:-5,bottomPadding:-5,value:1,click:e=>{i.CertificatesCtrl.switchGraticle($$(e).getValue())}}]},{cols:[{view:"checkbox",width:170,label:__("Neighbours")+":",labelWidth:80,labelRight:__("Name"),bottomPadding:-5,value:1,click:e=>{i.CertificatesCtrl.neighName=0!=$$(e).getValue(),i.CertificatesCtrl.neighboursLayer.setStyle(r.mapStyle.crt_neighbours(i.CertificatesCtrl.neighName,i.CertificatesCtrl.neighLabel,i.CertificatesCtrl.neighboursData))}},{view:"checkbox",labelWidth:0,label:"",labelRight:__("Label"),bottomPadding:-5,click:e=>{i.CertificatesCtrl.neighLabel=0!=$$(e).getValue(),i.CertificatesCtrl.neighboursLayer.setStyle(r.mapStyle.crt_neighbours(i.CertificatesCtrl.neighName,i.CertificatesCtrl.neighLabel,i.CertificatesCtrl.neighboursData))}}]},{cols:[{view:"label",width:81,label:__("Layers")+":",bottomPadding:-5},{view:"checkbox",id:"crt:roads",width:90,labelWidth:0,label:"",labelRight:__("Roads"),bottomPadding:-5,disabled:!appdata.basedata.roads,click:e=>{i.CertificatesCtrl.roadsLayer.setVisible(1==$$(e).getValue())}},{view:"checkbox",id:"crt:tiles100k",labelWidth:0,label:"",labelRight:__("100k Tiles"),bottomPadding:-5,click:e=>{i.CertificatesCtrl.cartoLayer.setVisible(1==$$(e).getValue())}}]}]},{type:"clean",css:{background:"#fff"},cols:[{},{view:"toggle",id:"crt:map_toggle",width:150,disabled:!0,offLabel:__("Activate Map"),onLabel:__("Return to Form"),tooltip:e=>0==$$(e.id).getValue()?__("Click to zoom in/out, pan or rotate the map"):__("Clik to return to the form"),on:{onChange:function(){1==this.getValue()?($$("crt:params_form$1").disable(),$$("crt:params_form$2").disable(),webix.html.addCss($$("crt:navmap").getNode(),"crtmap_interaction")):($$("crt:params_form$1").enable(),$$("crt:params_form$2").enable(),webix.html.removeCss($$("crt:navmap").getNode(),"crtmap_interaction"))}}},{}]},{view:"form",id:"crt:params_form$2",borderless:!0,elementsConfig:{on:{onChange:function(e){this.validate(),i.CertificatesCtrl.onFieldEdit(this,e)}}},elements:[{css:"crt_field_group",height:1},{view:"text",id:"crt:municipality",name:"crt:municipality",label:__("Municipality")+":",labelWidth:90,required:!0},{view:"text",id:"crt:village",name:"crt:village",label:__("Village")+":",labelWidth:90,required:!0},{view:"text",id:"crt:surveyor",name:"crt:surveyor",label:__("Surveyor")+":",labelWidth:90,required:!0},{view:"textarea",id:"crt:obs",label:__("Observations")+":",labelPosition:"top",attributes:{maxlength:180},height:95},{view:"textarea",id:"crt:disclaimer",name:"crt:disclaimer",label:__("Disclaimer")+":",labelPosition:"top",height:150,attributes:{maxlength:380},value:appdata.disclaimer,required:!0},{cols:[{view:"button",id:"crt:reset",disabled:!0,label:"Reset",click:i.CertificatesCtrl.resetFields},{},{view:"button",id:"crt:print",disabled:!0,label:"Print",click:()=>{i.CertificatesCtrl.print()}}]}]},{css:{background:"#fff"}}]},{type:"clean",borderless:!0,cols:[{view:"scrollview",scroll:"y",type:"clean",borderless:!0,body:{cols:[{css:"print_area"},{width:850,minWidth:850,id:"crt:pages",type:"clean",borderless:!0,rows:[{id:"crt:page_1",type:"form",css:"print_area",cols:[{id:"crt:page_1-cnt",css:"crt_disabled",disabled:!0,type:"form",rows:[n,{css:"spatialunit_data",type:"form",cols:[{view:"form",type:"clean",id:"crt:details_left",css:"details_form",width:410,borderless:!0,elementsConfig:{height:25,css:"crt_value"},rows:[{view:"text",id:"crt:municipality_txt",name:"crt:municipality_txt",label:"Municipio:",labelWidth:140},{view:"text",id:"crt:fullname_txt",name:"crt:fullname_txt",label:"Nombre del Interesado:",labelWidth:140},{id:"crt:sulabel_txt",name:"crt:sulabel_txt",view:"text",label:"Nombre del Predio:",labelWidth:140},{view:"text",id:"crt:legalid_txt",name:"crt:legalid_txt",label:"Folio de Matricula:",labelWidth:140}]},{view:"form",type:"clean",id:"crt:details_right",css:"details_form",borderless:!0,elementsConfig:{height:25,css:"crt_value"},rows:[{view:"text",id:"crt:village_txt",name:"crt:village_txt",label:"Vereda:",labelWidth:105},{view:"text",id:"crt:idnumber_txt",name:"crt:idnumber_txt",label:"Documento:",format:"1,111",labelWidth:105},{view:"text",id:"crt:physicalid_txt",name:"crt:physicalid_txt",label:"Cédula Catastral:",labelWidth:105},{view:"text",id:"crt:requestcode_txt",name:"crt:requestcode_txt",label:"Request Code:",labelWidth:105,readonly:!1}]}]},{id:"crt:navmap",view:"navmap",css:"crt_navmap_controls",type:"line",basemapURL:"igacCarto",height:360,ctrl:i.CertificatesCtrl,readyfn:"initMap"},{type:"line",rows:[{id:"crt:signatures1-cnt",height:346.84,type:"clean",rows:[{id:"crt:disclaimer_txt$1",height:70,template:()=>`<p class="disclaimer">${i.CertificatesCtrl.disclaimerText}</p>`},{id:"crt:signatures$1",type:"clean",rows:[{template:"&nbsp;"}]}]},o]}]}]},{id:"crt:page_2",type:"form",hidden:!0,css:"print_area",cols:[{id:"crt:page_2-cnt",css:"crt_disabled",disabled:!0,type:"form",rows:[n,{type:"line",rows:[{id:"crt:signatures2-cnt",type:"clean",rows:[{id:"crt:disclaimer_txt$2",height:70,template:()=>`<p class="disclaimer">${i.CertificatesCtrl.disclaimerText}</p>`},{height:770,id:"crt:signatures$2",type:"clean",rows:[{template:"&nbsp;"}]}]},o]}]}]},{id:"crt:page_3",css:"print_area",hidden:!0,height:130,template:'<canvas id="crt_signature_canvas" width=900 height=390></canvas>'}]},{css:"print_area"}]}}]}],getController:()=>i.CertificatesCtrl}})),parcelRequire.register("8e9kg",(function(e,t){$parcel$export(e.exports,"CertificatesCtrl",(function(){return v}));var r=parcelRequire("dVClE"),i=parcelRequire("8otni"),n=parcelRequire("2yt6N"),o=parcelRequire("8ibmv"),a=parcelRequire("lKaPI"),s=parcelRequire("335T3"),l=parcelRequire("gcCqg"),u=parcelRequire("4q2HB"),c=parcelRequire("6YHhF"),p=parcelRequire("f2OU0"),d=parcelRequire("1Pls2"),h=parcelRequire("bRCsC"),f=parcelRequire("dCXQG"),g=parcelRequire("d38C1"),_=parcelRequire("geRS1"),m=parcelRequire("cR5xV"),v={navMap:null,cartoLayer:null,graticuleLayer:null,neighboursLayer:null,roadsLayer:null,spatialunitLayer:null,applyDeclutter:!0,needsCentering:!1,signaturePad:null,obsValue:null,surveyorValue:null,surveyDate:null,disclaimerText:appdata.disclaimer,userEvent:!0,neighLabel:!1,neighName:!0,neighboursData:!0,initMap:function(){this.navMap=$$("crt:navmap").navMap,this.navMap.getLayers().getArray()[0].setVisible(!1),this.navMap.getControls().getArray()[0].element.style.display="none",this.navMap.getControls().getArray()[1].element.getElementsByClassName("ol-compass")[0].innerHTML="↑",this.navMap.getControls().getArray()[1].autoHide_=!1;{let t=m.get("EPSG:3857"),r=t.getExtent(),i=_.getWidth(r)/256,n=new Array(18),o=new Array(18);for(var e=0;e<18;++e)n[e]=i/Math.pow(2,e),o[e]=e;this.cartoLayer=new a.default({source:new s.default({url:"https://gw-geoportal-test.igac.gov.co/cartografia100k/service",layer:"cartografia_100k",matrixSet:"gmwm",format:"image/png",projection:t,tileGrid:new l.default({origin:_.getTopLeft(r),resolutions:n,matrixIds:o}),style:"default"}),minZoom:10,title:"Carto 100K",name:"carto100K",switcher:!1,visible:!1}),this.navMap.getControls().getArray()[2].setCollapsed(!1),this.navMap.getControls().getArray()[2].setCollapsible(!1),this.navMap.getLayers().getArray()[0].getSource().setAttributions('Basemap Tiles &copy; <a href="#">IGAC</a>.')}this.graticuleLayer=new u.default({strokeStyle:new g.default({color:"rgba(180, 180, 180, 0.9)",width:1}),showLabels:!0,lonLabelPosition:0,intervals:appdata.gratciculeIntervals,wrapX:!1}),this.neighboursLayer=new c.default({source:new p.default,name:"neighbours",declutter:this.applyDeclutter}),this.roadsLayer=new d.default({source:new h.default({url:appdata.wmsUrl,params:{LAYERS:"roads",TILED:!0}}),minZoom:12,title:"Roads",name:"roads",switcher:!1,visible:!1}),this.spatialunitLayer=new c.default({source:new p.default,name:"spatialunit",style:n.mapStyle.crt_spatialunit()}),this.navMap.getLayers().extend([this.cartoLayer,this.graticuleLayer,this.roadsLayer,this.neighboursLayer,this.spatialunitLayer]),this.spatialunitLayer.getSource().on("change",(function(){let e=v;if(e.spatialunitLayer.getSource().getFeatures().length>0){var t=e.spatialunitLayer.getSource().getExtent(),r=e.neighboursLayer.getSource().getExtent(),i=[Math.min(t[0],r[0]),Math.min(t[1],r[1]),Math.max(t[2],r[2]),Math.max(t[3],r[3])];e.navMap.getView().setCenter(_.getCenter(i)),e.navMap.getView().fit(i,e.navMap.getSize()),e.navMap.getView().setZoom(e.navMap.getView().getZoom()-.2)}})),this.navMap.getView().setMaxZoom(19)},onFieldEdit:(e,t)=>{"crt:municipality"!=e.config.id&&"crt:village"!=e.config.id||$$(e.config.id+"_txt").setValue(t),"crt:surveyor"==e.config.id&&(v.surveyorValue=t,$$("crt:page_1").queryView({field:"crt:surveyor_txt"}).refresh(),$$("crt:page_2").queryView({field:"crt:surveyor_txt"}).refresh()),"crt:obs"==e.config.id&&(v.obsValue=t,$$("crt:page_1").queryView({field:"crt:obs_txt"}).refresh(),$$("crt:page_2").queryView({field:"crt:obs_txt"}).refresh()),"crt:disclaimer"==e.config.id&&(v.disclaimerText=t,$$("crt:disclaimer_txt$1").refresh(),$$("crt:disclaimer_txt$2").refresh())},resetFields:()=>{let e=[{template:"&nbsp;"}];webix.ui(e,$$("crt:signatures$1")),webix.ui(e,$$("crt:signatures$2")),$$("crt:page_2").hide(),$$("crt:details_right").clear(),$$("crt:details_left").clear(),v.surveyDate=null,$$("crt:page_1").queryView({field:"crt:surveyor_txt"}).refresh(),$$("crt:page_2").queryView({field:"crt:surveyor_txt"}).refresh(),$$("crt:party").getList()&&$$("crt:party").getList().clearAll(),$$("crt:party").setValue(null),$$("crt:search_list").getList().clearAll(),$$("crt:search").setValue(null),$$("crt:municipality").setValue(null),$$("crt:village").setValue(null),$$("crt:obs").setValue(null),v.spatialunitLayer.getSource().clear(),v.neighboursLayer.getSource().clear(),v.navMap.getView().setCenter([0,0]),v.navMap.getView().setZoom(2),v.navMap.getView().setRotation(0),$$("crt:search").enable(),$$("crt:reset").disable(),$$("crt:print").disable(),$$("crt:map_toggle").disable(),$$("crt:params_form$2").clearValidation(),$$("crt:map_toggle").setValue(0)},switchGraticle:e=>{let t=v.navMap.getControls().getArray();0==e?(t[1].element.classList.remove("ol-hidden"),v.graticuleLayer.setVisible(!1)):(t[1].element.classList.add("ol-hidden"),v.graticuleLayer.setVisible(!0))},getGeometries:(e,t)=>{let r=v,i=t.map((e=>e.su_id));0==i.length&&(i=[0]);var o=`${appdata.wfsUrl}&typename=ffp:neighbours&SUIDS=${i}`;r.neighboursData=t,r.neighboursLayer.setStyle(n.mapStyle.crt_neighbours(r.neighName,r.neighLabel,t)),webix.ajax().get(o).then((function(t){var i=(new f.default).readFeatures(t.json());r.neighboursLayer.getSource().addFeatures(i),o=`${appdata.wfsUrl}&typename=ffp:crt_spatialunit&SU_ID=${e.spatialunit_id}`,webix.ajax().get(o).then((function(e){let t=(new f.default).readFeatures(e.json());r.spatialunitLayer.getSource().addFeatures(t)}))}))},retrieveData:e=>{let t={su_id:e.spatialunit_id,srid:appdata.srid,getlocation:appdata.basedata.villages};webix.ajax().get("api/certificate/",{...appdata.dbparams,...t}).then((function(t){t.json().success?v.populateCertificate(e,t.json()):o.showErrorMsg(null,t.json().message)}),(e=>{o.showErrorMsg(e,"")}))},populateCertificate:(e,t)=>{v.getGeometries(e,t.status);let n=t.parties.find((t=>t.party_id==e.party_id));var a=new Array;for(let e of t.parties)a.push({id:e.id_number,value:e.full_name});$$("crt:party").define("options",a),$$("crt:party").refresh(),v.userEvent=!1,$$("crt:party").setValue(e.id_number);let s=t.location.municipality_name;s&&$$("crt:municipality").setValue(s),$$("crt:details_left").setValues({"crt:municipality_txt":s,"crt:fullname_txt":n.full_name,"crt:sulabel_txt":t.details.su_label,"crt:legalid_txt":t.details.legal_id});let l=t.location.village_name;l&&$$("crt:village").setValue(l),$$("crt:details_right").setValues({"crt:village_txt":l,"crt:idnumber_txt":n.id_number||"","crt:physicalid_txt":t.details.physical_id}),t.details.gps_bearer&&$$("crt:obs").setValue('El contacto de la visita fue "'+t.details.gps_bearer+'"'),v.surveyDate=o.dateFormat_dMY(t.details.surveyed_on),$$("crt:page_1").queryView({field:"crt:surveyor_txt"}).refresh(),$$("crt:page_2").queryView({field:"crt:surveyor_txt"}).refresh(),$$("crt:page_3").show();var u=document.getElementById("crt_signature_canvas");v.signaturePad=new r.default(u,{}),v.signaturePad.off(),$$("crt:page_3").hide();let c=0;var p,d;let h=new Array,f=new Array;for(let e of t.status)for(let t of e.status_list){if(c+=1,v.signaturePad.clear(),t.signature&&t.status){let e;e="points"in JSON.parse(t.signature)[0]?JSON.parse(t.signature):o.updateSignatureDataStructure(JSON.parse(t.signature)),v.signaturePad.fromData(e),p=i.cropSignatureCanvas(u)}else p=o.blankImg;d={type:"clean",cols:[{width:340,template:`<div><b>${c}- Nombre:</b>&nbsp;&nbsp;<span class="crt_value">${t.full_name}</span></div>\n                        <div style="padding-left:15px; padding-top:4px;"><span><b>Predio:</b></span>&nbsp;&nbsp;<span class="crt_value">${e.spatialunit_name}</span></div>`},{width:150,template:`<b>C.C.:</b>&nbsp;&nbsp;<span class="crt_value">${t.id_number||""}</span>`},{width:48,template:'<div style="padding-top:15px;"><b>Firma:</b></div>'},{template:`<div class="crt_signature"><img src="${p}" /></div>`}]},6!=c&&(d.height=45),c<=6?h.push(d):f.push(d)}c<=6&&h.push({template:"&nbsp;"}),webix.ui(h,$$("crt:signatures$1")),c>6&&($$("crt:page_2").show(),f.push({template:"&nbsp;"}),webix.ui(f,$$("crt:signatures$2"))),$$("crt:search").disable(),$$("crt:reset").enable(),$$("crt:print").enable(),$$("crt:map_toggle").enable()},print:()=>{$$("crt:params_form$2").validate()&&($$("crt:page_2").isVisible()?($$("crt:page_3").show(),webix.print($$("crt:pages"),{paper:"letter",margin:0}),$$("crt:page_3").hide()):webix.print($$("crt:page_1"),{paper:"letter",margin:0}))}}})),parcelRequire.register("8otni",(function(e,t){$parcel$export(e.exports,"cropSignatureCanvas",(function(){return r}));const r=function(e){var t=document.createElement("canvas"),r=t.getContext("2d");t.width=e.width,t.height=e.height,r.drawImage(e,0,0);var i,n,o,a=t.width,s=t.height,l={x:[],y:[]},u=r.getImageData(0,0,t.width,t.height);for(n=0;n<s;n++)for(i=0;i<a;i++)o=4*(n*a+i),u.data[o+3]>0&&(l.x.push(i),l.y.push(n));l.x.sort((function(e,t){return e-t})),l.y.sort((function(e,t){return e-t}));var c=l.x.length-1;a=l.x[c]-l.x[0],s=l.y[c]-l.y[0];var p=r.getImageData(l.x[0],l.y[0],a,s);return t.width=a,t.height=s,r.putImageData(p,0,0),t.toDataURL()}})),parcelRequire.register("335T3",(function(e,t){$parcel$export(e.exports,"default",(function(){return h}),(function(e){return h=e})),$parcel$export(e.exports,"optionsFromCapabilities",(function(){return f}),(function(e){return f=e}));var r,i=parcelRequire("fDnLQ"),n=parcelRequire("FIb3Z"),o=parcelRequire("j119T"),a=parcelRequire("lOEcB"),s=parcelRequire("geRS1"),l=parcelRequire("gcCqg"),u=parcelRequire("40k7X"),c=parcelRequire("cR5xV"),p=parcelRequire("l89p7"),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=function(e){function t(t){var r=this,i=void 0===t.imageSmoothing||t.imageSmoothing;void 0!==t.interpolate&&(i=t.interpolate);var o=void 0!==t.requestEncoding?t.requestEncoding:n.default.KVP,a=t.tileGrid,s=t.urls;return void 0===s&&void 0!==t.url&&(s=u.expandUrl(t.url)),(r=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:i,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:a,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:s,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition,zDirection:t.zDirection})||this).version_=void 0!==t.version?t.version:"1.0.0",r.format_=void 0!==t.format?t.format:"image/jpeg",r.dimensions_=void 0!==t.dimensions?t.dimensions:{},r.layer_=t.layer,r.matrixSet_=t.matrixSet,r.style_=t.style,r.requestEncoding_=o,r.setKey(r.getKeyForDimensions_()),s&&s.length>0&&(r.tileUrlFunction=u.createFromTileUrlFunctions(s.map(r.createFromWMTSTemplate.bind(r)))),r}return d(t,e),t.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(u.createFromTileUrlFunctions(e.map(this.createFromWMTSTemplate.bind(this))),t)},t.prototype.getDimensions=function(){return this.dimensions_},t.prototype.getFormat=function(){return this.format_},t.prototype.getLayer=function(){return this.layer_},t.prototype.getMatrixSet=function(){return this.matrixSet_},t.prototype.getRequestEncoding=function(){return this.requestEncoding_},t.prototype.getStyle=function(){return this.style_},t.prototype.getVersion=function(){return this.version_},t.prototype.getKeyForDimensions_=function(){var e=0,t=[];for(var r in this.dimensions_)t[e++]=r+"-"+this.dimensions_[r];return t.join("/")},t.prototype.updateDimensions=function(e){a.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())},t.prototype.createFromWMTSTemplate=function(e){var t=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};t==n.default.KVP&&a.assign(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=t==n.default.KVP?o.appendParams(e,r):e.replace(/\{(\w+?)\}/g,(function(e,t){return t.toLowerCase()in r?r[t.toLowerCase()]:e}));var i=this.tileGrid,s=this.dimensions_;return function(r,l,u){if(r){var c={TileMatrix:i.getMatrixId(r[0]),TileCol:r[1],TileRow:r[2]};a.assign(c,s);var p=e;return p=t==n.default.KVP?o.appendParams(p,c):p.replace(/\{(\w+?)\}/g,(function(e,t){return c[t]}))}}},t}(i.default);function f(e,t){var r=e.Contents.Layer,i=p.find(r,(function(e,r,i){return e.Identifier==t.layer}));if(null===i)return null;var o,a=e.Contents.TileMatrixSet;(o=i.TileMatrixSetLink.length>1?"projection"in t?p.findIndex(i.TileMatrixSetLink,(function(e,r,i){var n=p.find(a,(function(t){return t.Identifier==e.TileMatrixSet})).SupportedCRS,o=c.get(n),s=c.get(t.projection);return o&&s?c.equivalent(o,s):n==t.projection})):p.findIndex(i.TileMatrixSetLink,(function(e,r,i){return e.TileMatrixSet==t.matrixSet})):0)<0&&(o=0);var u=i.TileMatrixSetLink[o].TileMatrixSet,d=i.TileMatrixSetLink[o].TileMatrixSetLimits,h=i.Format[0];"format"in t&&(h=t.format),(o=p.findIndex(i.Style,(function(e,r,i){return"style"in t?e.Title==t.style:e.isDefault})))<0&&(o=0);var f=i.Style[o].Identifier,g={};"Dimension"in i&&i.Dimension.forEach((function(e,t,r){var i=e.Identifier,n=e.Default;void 0===n&&(n=e.Value[0]),g[i]=n}));var _,m=e.Contents.TileMatrixSet,v=p.find(m,(function(e,t,r){return e.Identifier==u})),y=v.SupportedCRS;if(y&&(_=c.get(y)),"projection"in t){var x=c.get(t.projection);x&&(_&&!c.equivalent(x,_)||(_=x))}var b=!1,w="ne"==_.getAxisOrientation().substr(0,2),R=v.TileMatrix[0],$={MinTileCol:0,MinTileRow:0,MaxTileCol:R.MatrixWidth-1,MaxTileRow:R.MatrixHeight-1};if(d){$=d[d.length-1];var C=p.find(v.TileMatrix,(function(e){return e.Identifier===$.TileMatrix||v.Identifier+":"+e.Identifier===$.TileMatrix}));C&&(R=C)}var S=28e-5*R.ScaleDenominator/_.getMetersPerUnit(),E=w?[R.TopLeftCorner[1],R.TopLeftCorner[0]]:R.TopLeftCorner,q=R.TileWidth*S,T=R.TileHeight*S,I=v.BoundingBox,L=[E[0]+q*$.MinTileCol,E[1]-T*(1+$.MaxTileRow),E[0]+q*(1+$.MaxTileCol),E[1]-T*$.MinTileRow];if(void 0!==I&&!s.containsExtent(I,L)){var A=i.WGS84BoundingBox,O=c.get("EPSG:4326").getExtent();if(L=I,A)b=A[0]===O[0]&&A[2]===O[2];else{var P=c.transformExtent(I,v.SupportedCRS,"EPSG:4326");b=P[0]-1e-10<=O[0]&&P[2]+1e-10>=O[2]}}var M=l.createFromCapabilitiesMatrixSet(v,L,d),F=[],k=t.requestEncoding;if(k=void 0!==k?k:"","OperationsMetadata"in e&&"GetTile"in e.OperationsMetadata)for(var D=e.OperationsMetadata.GetTile.DCP.HTTP.Get,N=0,j=D.length;N<j;++N)if(D[N].Constraint){var G=p.find(D[N].Constraint,(function(e){return"GetEncoding"==e.name})).AllowedValues.Value;if(""===k&&(k=G[0]),k!==n.default.KVP)break;p.includes(G,n.default.KVP)&&F.push(D[N].href)}else D[N].href&&(k=n.default.KVP,F.push(D[N].href));return 0===F.length&&(k=n.default.REST,i.ResourceURL.forEach((function(e){"tile"===e.resourceType&&(h=e.format,F.push(e.template))}))),{urls:F,layer:t.layer,matrixSet:u,format:h,projection:_,requestEncoding:k,tileGrid:M,style:f,dimensions:g,wrapX:b,crossOrigin:t.crossOrigin}}})),parcelRequire.register("FIb3Z",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={KVP:"KVP",REST:"REST"}})),parcelRequire.register("gcCqg",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}),(function(e){return l=e})),$parcel$export(e.exports,"createFromCapabilitiesMatrixSet",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("1qG3K"),n=parcelRequire("l89p7"),o=parcelRequire("cR5xV"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=function(e){function t(t){var r=e.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})||this;return r.matrixIds_=t.matrixIds,r}return a(t,e),t.prototype.getMatrixId=function(e){return this.matrixIds_[e]},t.prototype.getMatrixIds=function(){return this.matrixIds_},t}(i.default),l=s;function u(e,t,r){var i=[],a=[],l=[],u=[],c=[],p=void 0!==r?r:[],d=e.SupportedCRS,h=o.get(d),f=h.getMetersPerUnit(),g="ne"==h.getAxisOrientation().substr(0,2);return e.TileMatrix.sort((function(e,t){return t.ScaleDenominator-e.ScaleDenominator})),e.TileMatrix.forEach((function(t){if(!(p.length>0)||n.find(p,(function(r){return t.Identifier==r.TileMatrix||-1===t.Identifier.indexOf(":")&&e.Identifier+":"+t.Identifier===r.TileMatrix}))){a.push(t.Identifier);var r=28e-5*t.ScaleDenominator/f,o=t.TileWidth,s=t.TileHeight;g?l.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):l.push(t.TopLeftCorner),i.push(r),u.push(o==s?o:[o,s]),c.push([t.MatrixWidth,t.MatrixHeight])}})),new s({extent:t,origins:l,resolutions:i,matrixIds:a,tileSizes:u,sizes:c})}})),parcelRequire.register("4q2HB",(function(e,t){$parcel$export(e.exports,"default",(function(){return C}),(function(e){return C=e}));var r,i=parcelRequire("5kGze"),n=parcelRequire("5ipJe"),o=parcelRequire("iKbY7"),a=parcelRequire("1gTaY"),s=parcelRequire("8D7GI"),l=parcelRequire("1YCpD"),u=parcelRequire("1QtZq"),c=parcelRequire("d38C1"),p=parcelRequire("fIQfh"),d=parcelRequire("e8Opo"),h=parcelRequire("6YHhF"),f=parcelRequire("f2OU0"),g=parcelRequire("geRS1"),_=parcelRequire("lOEcB"),m=parcelRequire("8GG6h"),v=parcelRequire("akCpq"),y=parcelRequire("cR5xV"),x=parcelRequire("1ZU8c"),b=parcelRequire("jJIGn"),w=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),R=new c.default({color:"rgba(0,0,0,0.2)"}),$=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],C=function(e){function t(t){var r=this,o=t||{},s=_.assign({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},o);return delete s.maxLines,delete s.strokeStyle,delete s.targetSize,delete s.showLabels,delete s.lonLabelFormatter,delete s.latLabelFormatter,delete s.lonLabelPosition,delete s.latLabelPosition,delete s.lonLabelStyle,delete s.latLabelStyle,delete s.intervals,(r=e.call(this,s)||this).projection_=null,r.maxLat_=1/0,r.maxLon_=1/0,r.minLat_=-1/0,r.minLon_=-1/0,r.maxX_=1/0,r.maxY_=1/0,r.minX_=-1/0,r.minY_=-1/0,r.targetSize_=void 0!==o.targetSize?o.targetSize:100,r.maxLines_=void 0!==o.maxLines?o.maxLines:100,r.meridians_=[],r.parallels_=[],r.strokeStyle_=void 0!==o.strokeStyle?o.strokeStyle:R,r.fromLonLatTransform_=void 0,r.toLonLatTransform_=void 0,r.projectionCenterLonLat_=null,r.bottomLeft_=null,r.bottomRight_=null,r.topLeft_=null,r.topRight_=null,r.meridiansLabels_=null,r.parallelsLabels_=null,o.showLabels&&(r.lonLabelFormatter_=null==o.lonLabelFormatter?v.degreesToStringHDMS.bind(r,"EW"):o.lonLabelFormatter,r.latLabelFormatter_=null==o.latLabelFormatter?v.degreesToStringHDMS.bind(r,"NS"):o.latLabelFormatter,r.lonLabelPosition_=null==o.lonLabelPosition?0:o.lonLabelPosition,r.latLabelPosition_=null==o.latLabelPosition?1:o.latLabelPosition,r.lonLabelStyleBase_=new p.default({text:void 0!==o.lonLabelStyle?o.lonLabelStyle.clone():new d.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new a.default({color:"rgba(0,0,0,1)"}),stroke:new c.default({color:"rgba(255,255,255,1)",width:3})})}),r.lonLabelStyle_=function(e){var t=e.get("graticule_label");return this.lonLabelStyleBase_.getText().setText(t),this.lonLabelStyleBase_}.bind(r),r.latLabelStyleBase_=new p.default({text:void 0!==o.latLabelStyle?o.latLabelStyle.clone():new d.default({font:"12px Calibri,sans-serif",textAlign:"right",fill:new a.default({color:"rgba(0,0,0,1)"}),stroke:new c.default({color:"rgba(255,255,255,1)",width:3})})}),r.latLabelStyle_=function(e){var t=e.get("graticule_label");return this.latLabelStyleBase_.getText().setText(t),this.latLabelStyleBase_}.bind(r),r.meridiansLabels_=[],r.parallelsLabels_=[],r.addEventListener(n.default.POSTRENDER,r.drawLabels_.bind(r))),r.intervals_=void 0!==o.intervals?o.intervals:$,r.setSource(new f.default({loader:r.loaderFunction.bind(r),strategy:r.strategyFunction.bind(r),features:new i.default,overlaps:!1,useSpatialIndex:!1,wrapX:o.wrapX})),r.featurePool_=[],r.lineStyle_=new p.default({stroke:r.strokeStyle_}),r.loadedExtent_=null,r.renderedExtent_=null,r.setRenderOrder(null),r}return w(t,e),t.prototype.strategyFunction=function(e,t){var r=e.slice();return this.projection_&&this.getSource().getWrapX()&&g.wrapX(r,this.projection_),this.loadedExtent_&&(g.approximatelyEquals(this.loadedExtent_,r,t)?r=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_)),[r]},t.prototype.loaderFunction=function(e,t,r){this.loadedExtent_=e;var i=this.getSource(),n=this.getExtent()||[-1/0,-1/0,1/0,1/0],a=g.getIntersection(n,e);if(!(this.renderedExtent_&&g.equals(this.renderedExtent_,a)||(this.renderedExtent_=a,g.isEmpty(a)))){var s=g.getCenter(a),l=t*t/4;(!this.projection_||!y.equivalent(this.projection_,r))&&this.updateProjectionInfo_(r),this.createGraticule_(a,s,t,l);var u,c=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(c+=this.meridians_.length),this.parallelsLabels_&&(c+=this.parallels_.length);c>this.featurePool_.length;)u=new o.default,this.featurePool_.push(u);var p=i.getFeaturesCollection();p.clear();var d,h,f=0;for(d=0,h=this.meridians_.length;d<h;++d)(u=this.featurePool_[f++]).setGeometry(this.meridians_[d]),u.setStyle(this.lineStyle_),p.push(u);for(d=0,h=this.parallels_.length;d<h;++d)(u=this.featurePool_[f++]).setGeometry(this.parallels_[d]),u.setStyle(this.lineStyle_),p.push(u)}},t.prototype.addMeridian_=function(e,t,r,i,n,o){var a=this.getMeridian_(e,t,r,i,o);if(g.intersects(a.getExtent(),n)){if(this.meridiansLabels_){var s=this.lonLabelFormatter_(e);o in this.meridiansLabels_?this.meridiansLabels_[o].text=s:this.meridiansLabels_[o]={geom:new u.default([]),text:s}}this.meridians_[o++]=a}return o},t.prototype.addParallel_=function(e,t,r,i,n,o){var a=this.getParallel_(e,t,r,i,o);if(g.intersects(a.getExtent(),n)){if(this.parallelsLabels_){var s=this.latLabelFormatter_(e);o in this.parallelsLabels_?this.parallelsLabels_[o].text=s:this.parallelsLabels_[o]={geom:new u.default([]),text:s}}this.parallels_[o++]=a}return o},t.prototype.drawLabels_=function(e){var t=e.frameState.viewState.rotation,r=e.frameState.extent,i=g.getCenter(r),n=r;if(t){var o=g.getWidth(r),a=g.getHeight(r),s=Math.abs(Math.cos(t)),l=Math.abs(Math.sin(t)),u=(l*a-s*o)/(l*l-s*s),c=(l*o-s*a)/(l*l-s*s);n=[i[0]-u/2,i[1]-c/2,i[0]+u/2,i[1]+c/2]}var p=0,d=0,h=this.latLabelPosition_<.5,f=this.projection_.getExtent(),_=g.getWidth(f);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!g.containsExtent(f,r)&&(p=Math.floor((r[0]-f[0])/_),d=Math.ceil((r[2]-f[2])/_),h=h!==Math.abs(t)>Math.PI/2);for(var m=x.getVectorContext(e),v=p;v<=d;++v){var y=this.meridians_.length+this.parallels_.length,b=void 0,w=void 0,R=void 0,$=void 0;if(this.meridiansLabels_)for(w=0,R=this.meridiansLabels_.length;w<R;++w){var C=this.meridians_[w];if(t||0!==v)(S=C.clone()).translate(v*_,0),S.rotate(-t,i),($=this.getMeridianPoint_(S,n,w)).rotate(t,i);else $=this.getMeridianPoint_(C,r,w);(b=this.featurePool_[y++]).setGeometry($),b.set("graticule_label",this.meridiansLabels_[w].text),m.drawFeature(b,this.lonLabelStyle_(b))}if(this.parallelsLabels_&&(v===p&&h||v===d&&!h))for(w=0,R=this.parallels_.length;w<R;++w){var S;C=this.parallels_[w];if(t||0!==v)(S=C.clone()).translate(v*_,0),S.rotate(-t,i),($=this.getParallelPoint_(S,n,w)).rotate(t,i);else $=this.getParallelPoint_(C,r,w);(b=this.featurePool_[y++]).setGeometry($),b.set("graticule_label",this.parallelsLabels_[w].text),m.drawFeature(b,this.latLabelStyle_(b))}}},t.prototype.createGraticule_=function(e,t,r,i){var n=this.getInterval_(r);if(-1==n)return this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var o=!1,a=this.projection_.getExtent(),s=g.getWidth(a);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!g.containsExtent(a,e)&&(g.getWidth(e)>=s?(e[0]=a[0],e[2]=a[2]):o=!0);var l=[m.clamp(t[0],this.minX_,this.maxX_),m.clamp(t[1],this.minY_,this.maxY_)],u=this.toLonLatTransform_(l);isNaN(u[1])&&(u[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);var c,p,d,h,f=m.clamp(u[0],this.minLon_,this.maxLon_),_=m.clamp(u[1],this.minLat_,this.maxLat_),v=this.maxLines_,y=e;o||(y=[m.clamp(e[0],this.minX_,this.maxX_),m.clamp(e[1],this.minY_,this.maxY_),m.clamp(e[2],this.minX_,this.maxX_),m.clamp(e[3],this.minY_,this.maxY_)]);var x=g.applyTransform(y,this.toLonLatTransform_,void 0,8),b=x[3],w=x[2],R=x[1],$=x[0];if(o||(g.containsCoordinate(y,this.bottomLeft_)&&($=this.minLon_,R=this.minLat_),g.containsCoordinate(y,this.bottomRight_)&&(w=this.maxLon_,R=this.minLat_),g.containsCoordinate(y,this.topLeft_)&&($=this.minLon_,b=this.maxLat_),g.containsCoordinate(y,this.topRight_)&&(w=this.maxLon_,b=this.maxLat_),b=m.clamp(b,_,this.maxLat_),w=m.clamp(w,f,this.maxLon_),R=m.clamp(R,this.minLat_,_),$=m.clamp($,this.minLon_,f)),f=Math.floor(f/n)*n,h=m.clamp(f,this.minLon_,this.maxLon_),p=this.addMeridian_(h,R,b,i,e,0),c=0,o)for(;(h-=n)>=$&&c++<v;)p=this.addMeridian_(h,R,b,i,e,p);else for(;h!=this.minLon_&&c++<v;)h=Math.max(h-n,this.minLon_),p=this.addMeridian_(h,R,b,i,e,p);if(h=m.clamp(f,this.minLon_,this.maxLon_),c=0,o)for(;(h+=n)<=w&&c++<v;)p=this.addMeridian_(h,R,b,i,e,p);else for(;h!=this.maxLon_&&c++<v;)h=Math.min(h+n,this.maxLon_),p=this.addMeridian_(h,R,b,i,e,p);for(this.meridians_.length=p,this.meridiansLabels_&&(this.meridiansLabels_.length=p),_=Math.floor(_/n)*n,d=m.clamp(_,this.minLat_,this.maxLat_),p=this.addParallel_(d,$,w,i,e,0),c=0;d!=this.minLat_&&c++<v;)d=Math.max(d-n,this.minLat_),p=this.addParallel_(d,$,w,i,e,p);for(d=m.clamp(_,this.minLat_,this.maxLat_),c=0;d!=this.maxLat_&&c++<v;)d=Math.min(d+n,this.maxLat_),p=this.addParallel_(d,$,w,i,e,p);this.parallels_.length=p,this.parallelsLabels_&&(this.parallelsLabels_.length=p)},t.prototype.getInterval_=function(e){for(var t=this.projectionCenterLonLat_[0],r=this.projectionCenterLonLat_[1],i=-1,n=Math.pow(this.targetSize_*e,2),o=[],a=[],s=0,l=this.intervals_.length;s<l;++s){var u=m.clamp(this.intervals_[s]/2,0,90),c=m.clamp(r,-90+u,90-u);if(o[0]=t-u,o[1]=c-u,a[0]=t+u,a[1]=c+u,this.fromLonLatTransform_(o,o),this.fromLonLatTransform_(a,a),Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)<=n)break;i=this.intervals_[s]}return i},t.prototype.getMeridian_=function(e,t,r,i,n){var o=b.meridian(e,t,r,this.projection_,i),a=this.meridians_[n];return a?(a.setFlatCoordinates(s.default.XY,o),a.changed()):(a=new l.default(o,s.default.XY),this.meridians_[n]=a),a},t.prototype.getMeridianPoint_=function(e,t,r){var i=e.getFlatCoordinates(),n=1,o=i.length-1;i[n]>i[o]&&(n=o,o=1);var a=Math.max(t[1],i[n]),s=Math.min(t[3],i[o]),l=m.clamp(t[1]+Math.abs(t[1]-t[3])*this.lonLabelPosition_,a,s),u=[i[n-1]+(i[o-1]-i[n-1])*(l-i[n])/(i[o]-i[n]),l],c=this.meridiansLabels_[r].geom;return c.setCoordinates(u),c},t.prototype.getMeridians=function(){return this.meridians_},t.prototype.getParallel_=function(e,t,r,i,n){var o=b.parallel(e,t,r,this.projection_,i),a=this.parallels_[n];return a?(a.setFlatCoordinates(s.default.XY,o),a.changed()):a=new l.default(o,s.default.XY),a},t.prototype.getParallelPoint_=function(e,t,r){var i=e.getFlatCoordinates(),n=0,o=i.length-2;i[n]>i[o]&&(n=o,o=0);var a=Math.max(t[0],i[n]),s=Math.min(t[2],i[o]),l=m.clamp(t[0]+Math.abs(t[0]-t[2])*this.latLabelPosition_,a,s),u=[l,i[n+1]+(i[o+1]-i[n+1])*(l-i[n])/(i[o]-i[n])],c=this.parallelsLabels_[r].geom;return c.setCoordinates(u),c},t.prototype.getParallels=function(){return this.parallels_},t.prototype.updateProjectionInfo_=function(e){var t=y.get("EPSG:4326"),r=e.getWorldExtent();this.maxLat_=r[3],this.maxLon_=r[2],this.minLat_=r[1],this.minLon_=r[0];var i=y.getTransform(e,t);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=i;else{var n=this.minLon_+this.maxLon_/2;this.maxLon_+=360,this.toLonLatTransform_=function(e,t,r){for(var o=r||2,a=i(e,t,o),s=0,l=a.length;s<l;s+=o)a[s]<n&&(a[s]+=360);return a}}this.fromLonLatTransform_=y.getTransform(t,e);var o=g.applyTransform([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=o[0],this.maxX_=o[2],this.minY_=o[1],this.maxY_=o[3],this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]),this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]),this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]),this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]),this.projectionCenterLonLat_=this.toLonLatTransform_(g.getCenter(e.getExtent())),isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_),this.projection_=e},t}(h.default)})),parcelRequire.register("1ZU8c",(function(e,t){$parcel$export(e.exports,"getVectorContext",(function(){return a}));var r=parcelRequire("itdRy"),i=(parcelRequire("anhQL"),parcelRequire("lXQa3")),n=parcelRequire("lNieJ"),o=parcelRequire("cR5xV");function a(e){if(!(e.context instanceof CanvasRenderingContext2D))throw new Error("Only works for render events from Canvas 2D layers");var t,a=e.inversePixelTransform[0],s=e.frameState,l=i.multiply(e.inversePixelTransform.slice(),s.coordinateToPixelTransform),u=n.getSquaredTolerance(s.viewState.resolution,a),c=o.getUserProjection();return c&&(t=o.getTransformFromProjections(c,s.viewState.projection)),new r.default(e.context,a,s.extent,l,s.viewState.rotation,u,t)}})),parcelRequire.register("jJIGn",(function(e,t){$parcel$export(e.exports,"meridian",(function(){return o})),$parcel$export(e.exports,"parallel",(function(){return a}));var r=parcelRequire("cR5xV"),i=parcelRequire("8GG6h");function n(e,t,r){for(var n,o,a,s,l,u,c=[],p=e(0),d=e(1),h=t(p),f=t(d),g=[d,p],_=[f,h],m=[1,0],v={},y=1e5;--y>0&&m.length>0;)a=m.pop(),p=g.pop(),h=_.pop(),(u=a.toString())in v||(c.push(h[0],h[1]),v[u]=!0),s=m.pop(),d=g.pop(),f=_.pop(),o=t(n=e(l=(a+s)/2)),i.squaredSegmentDistance(o[0],o[1],h[0],h[1],f[0],f[1])<r?(c.push(f[0],f[1]),v[u=s.toString()]=!0):(m.push(s,l,l,a),_.push(f,o,o,h),g.push(d,n,n,p));return c}function o(e,t,i,o,a){var s=r.get("EPSG:4326");return n((function(r){return[e,t+(i-t)*r]}),r.getTransform(s,o),a)}function a(e,t,i,o,a){var s=r.get("EPSG:4326");return n((function(r){return[t+(i-t)*r,e]}),r.getTransform(s,o),a)}})),parcelRequire.register("8asvh",(function(e,t){e.exports=new URL("../images/certificates/"+parcelRequire("2ahYJ").resolve("5h026"),import.meta.url).toString()})),parcelRequire.register("3LX0D",(function(e,t){e.exports=new URL("../images/certificates/"+parcelRequire("2ahYJ").resolve("afySb"),import.meta.url).toString()})),parcelRequire.register("k3jVN",(function(e,t){$parcel$export(e.exports,"EditorView",(function(){return n}));var r=parcelRequire("gOcIe"),i=parcelRequire("uNfTl"),n={id:"editor-cnt",rows:[{cols:[{id:"edt:infopanel",width:400,rows:[{view:"datatable",id:"edt:grid1",height:230,tooltip:!0,scroll:"y",columns:[{id:"edt:grid1_suid",header:__("ID"),width:70,sort:"number",tooltip:!1},{id:"edt:grid1_label",header:__("Label/Name"),fillspace:!0,sort:"string"},{id:"edt:grid1_area",header:__("Area aprox.")+'<sup class="srid">*</sup>',width:100,sort:"string",tooltip:()=>appdata.sridTooltip}]},{view:"toolbar",cols:[{},{view:"button",type:"icon",icon:"mdi mdi-account-plus-outline ",id:"edt:addparty_btn",label:__("Add Party"),autowidth:!0,disabled:!0,click:()=>{i.AddPartyWindow.show()}},{},{view:"button",type:"icon",icon:"mdi  mdi-vector-polyline-plus",id:"edt:edit_btn",label:__("Edit Boundaries"),autowidth:!0,disabled:!0,click:()=>{r.EditorCtrl.onBoundaryEdit()}},{}]},{view:"datatable",id:"edt:grid2",tooltip:!0,scroll:"y",select:"row",scheme:{$change:function(e){"*"==e["edt:grid2_new"]&&(e.$css="party_highlight")}},columns:[{id:"edt:grid2_ids",header:{text:__("Parties"),colspan:3},width:160,tooltip:!1},{id:"edt:grid2_name",header:!1,fillspace:!0,sort:"string"},{id:"edt:grid2_new",header:!1,width:10}],on:{}},{view:"toolbar",cols:[{},{view:"button",type:"icon",icon:"mdi mdi-content-save-edit-outline",id:"edt:save_btn",label:__("Save"),width:100,disabled:!0,click:()=>{r.EditorCtrl.onSaveButtonClick()}},{},{view:"button",type:"icon",icon:"mdi mdi-close-box-outline",id:"edt:cancel_btn",label:__("Cancel"),width:100,disabled:!0,click:()=>{r.EditorCtrl.onCancelButtonClick()}},{}]}]},{rows:[{id:"edt:navmap",view:"navmap",basemapURL:appdata.basemap},{id:"edt:advance",view:"toolbar",hidden:!0,cols:[{},{view:"button",type:"icon",label:__("Merge"),icon:"mdi mdi-vector-union",autowidth:!0},{}]}]}]}],on:{onViewShow:()=>{r.EditorCtrl.onViewShow()}},getController:()=>r.EditorCtrl}})),parcelRequire.register("gOcIe",(function(e,t){$parcel$export(e.exports,"EditorCtrl",(function(){return w}));var r=parcelRequire("8ibmv"),n=(r=parcelRequire("8ibmv"),parcelRequire("2yt6N")),o=parcelRequire("jKXwO"),a=parcelRequire("4kWzq"),s=parcelRequire("lKaPI"),l=parcelRequire("jYTea"),u=parcelRequire("6YHhF"),c=parcelRequire("f2OU0"),p=parcelRequire("dCXQG"),d=parcelRequire("iKbY7"),h=parcelRequire("1QtZq"),f=parcelRequire("1F2PW"),g=parcelRequire("cR5xV"),_=parcelRequire("geRS1");parcelRequire("2I4BS");var m=parcelRequire("l95NQ"),v=parcelRequire("bXTQW"),y=parcelRequire("itXN2"),x=parcelRequire("ae17k"),b=parcelRequire("3EOAW"),w={refreshView:!1,mapRendered:!1,sridChanged:!1,switchBasemap:!1,navMap:null,mosaicLayer:null,spatialunitsLayer:null,boundariesLayer:null,verticesLayer:null,validityLayer:null,selection:null,editSelection:null,modifyFeatues:null,selectedRecords:new Array,newParties:new Array,editing:!1,featuresChanged:!1,currPolyFeatures:null,currLineFeatures:null,currPointFeatures:null,polyVertex:null,lineVertex:null,splitSegment:null,featureSet:null,newNodeCheck:null,delVertex:!1,changeLog:new Array,undoAction:!1,updatedRecords:null,showAdvanceFunctions:()=>{$$("edt:advance").isVisible()?$$("edt:advance").hide():$$("edt:advance").show()},onViewShow:function(){this.switchBasemap&&($$("edt:navmap").navMap.setBasemap(appdata.basemap),this.switchBasemap=!1),this.refreshView&&(this.mapRendered||this.initMap($$("edt:navmap").navMap),w.spatialunitsLayer.getSource().clear(),w.boundariesLayer.getSource().clear(),w.verticesLayer.getSource().clear(),webix.ajax().get(appdata.wfsUrl+"&typename=ffp:spatialunit").then((function(e){let t=(new p.default).readFeatures(e.json());for(let e of t)e.setId(e.get("ogc_id"));w.spatialunitsLayer.getSource().addFeatures(t);var r=w.spatialunitsLayer.getSource().getExtent();w.navMap.getView().setCenter(_.getCenter(r)),w.navMap.getView().fit(r,w.navMap.getSize()),w.navMap.getView().setZoom(w.navMap.getView().getZoom()-.2),w.boundariesLayer.setSource(new c.default({format:new p.default,url:appdata.wfsUrl+"&typename=ffp:boundaries&SRID="+appdata.srid}))})),$$("edt:grid1").clearAll(),$$("edt:grid2").clearAll()),this.refreshView=!1,this.sridChanged&&(this.selection.getFeatures().clear(),this.editSelection.getFeatures().clear())},initMap:function(e){this.navMap=e,this.mosaicLayer=new s.default({source:new l.default,title:"Mosaic",name:"mosaic",switcher:!0,visible:!1}),this.navMap.addLayer(this.mosaicLayer),this.spatialunitsLayer=new u.default({source:new c.default,title:"Spatialunits",name:"spatialunits",switcher:!1,style:n.mapStyle.neighbourWithId()}),this.navMap.addLayer(this.spatialunitsLayer),this.boundariesLayer=new u.default({source:new c.default,title:"Boundaries",name:"boundaries",switcher:!1,style:null}),this.navMap.addLayer(this.boundariesLayer),this.verticesLayer=new u.default({source:new c.default,title:"Surveyed Points",name:"surveypoints",switcher:!1,style:n.mapStyle.vertexEdit()}),this.navMap.addLayer(this.verticesLayer),this.validityLayer=new u.default({source:new c.default,title:"Validity",name:"validity",switcher:!1,style:n.mapStyle.invalidFeature()}),this.navMap.addLayer(this.validityLayer),this.selection=new m.default({layers:[this.spatialunitsLayer],wrapX:!1,style:n.mapStyle.selectedSpatialunitWithLabel("ogc_id")}),this.navMap.addInteraction(this.selection),this.selection.getFeatures().on("add",(function(e){w.onFeatureAdded(e.element)})),this.selection.getFeatures().on("remove",(function(e){w.onFeatureRemoved(e.element),e.element.on("change",null)})),this.editSelection=new m.default({layers:[this.boundariesLayer],wrapX:!1,style:n.mapStyle.boundaryEdit()}),this.navMap.addInteraction(this.editSelection),this.editSelection.setActive(!1),this.editSelection.getFeatures().on("add",(function(e){e.element.on("change",(function(e){w.editing&&(b.redrawFeatures(w,e),w.featuresChanged=!0,$$("edt:save_btn").enable(),$$("approval-cnt").disable())}))})),this.editSelection.getFeatures().on("remove",(function(e){e.element.on("change",null)})),this.modifyFeatues=new v.default({features:this.editSelection.getFeatures(),condition:e=>{if(w.featureSet=w.navMap.getFeaturesAtPixel(e.pixel,{layerFilter:e=>"boundaries"===e.get("name")}),w.featureSet.length>0){w.newNodeCheck={checked:!1,ok:null};let t=b._checkEditable(w,e.coordinate);return t.idx<0||t.ok}return!1},insertVertexCondition:function(e){if(x.altKeyOnly(e)){if(b._addNodeCheck(w,e),!w.newNodeCheck.ok){let e=w.modifyFeatues.getOverlay().getStyle();w.modifyFeatues.getOverlay().setStyle(n.mapStyle.editNotOk),setTimeout((()=>{w.modifyFeatues.getOverlay().setStyle(e)}),1e3)}return w.newNodeCheck.ok}return!1},deleteCondition:function(e){if(x.altShiftKeysOnly(e)&&x.click(e)){return b._checkdeletable(w,e)?(w.delVertex=!0,!0):(webix.message({type:"info",text:__("Anchor points cannot be deleted!!!"),expire:500}),!1)}return!1},style:function(e){let t=b._checkEditable(w,e.getGeometry().getCoordinates());return t.idx<0?n.mapStyle.modify:t.ok?n.mapStyle.editOk:n.mapStyle.editNotOk}}),this.modifyFeatues.setActive(!1),this.navMap.addInteraction(this.modifyFeatues),this.modifyFeatues.on("modifystart",(e=>{w.changeLog.push({revision:w.changeLog.length,records:JSON.parse(JSON.stringify(w.selectedRecords))}),document.getElementById("edt:undo_disabled_div").classList.add("hidden_control"),b.modifiedVertexValues(w,e)})),this.modifyFeatues.on("modifyend",(e=>{w.delVertex&&(w.delVertex=!1),w.featureSet=null,w.lineVertex=null,w.polyVertex=null,w.splitSegment=null}));const t=new y.default({source:this.spatialunitsLayer.getSource(),pixelTolerance:appdata.snapDistance});this.navMap.addInteraction(t);appdata.mosaic&&(this.mosaicLayer.setSource(new l.default({url:appdata.wmsUrl,params:{LAYERS:"mosaic",TILED:!0,MOSAIC:"mosaic_"+appdata.dbparams.database.toLowerCase()}})),this.mosaicLayer.setVisible(!0),o.AddSwitcherControl(this.navMap,"edt")),a.AddUndoAction(this.navMap,"edt",this.undoChanges),this.mapRendered=!0},onBoundaryEdit:function(){if(this.selection.getFeatures().getArray().length<1)webix.message({type:"info",text:__("Please select at least one spatualunit!!!"),expire:2e3});else{this.editing=!0,this.modifyFeatues.setActive(!0),this.selection.setActive(!1),this.currPolyFeatures=new Array;for(let e of this.selection.getFeatures().getArray())this.currPolyFeatures.push(e.clone());this.currLineFeatures=new Array;for(let e of this.editSelection.getFeatures().getArray())this.currLineFeatures.push(e.clone()),b.displayVertices(w,e);let e;this.currPointFeatures=new Array,this.editSelection.getFeatures().getArray().forEach((e=>{this.currPointFeatures.push(...e.getGeometry().getCoordinates())}));for(let t of this.selectedRecords)for(let r in t.points)e=this.currPointFeatures.filter((e=>e.join()==t.coords[r].join())).length,"A"==t.points[r].label?2*t.points[r].count==e&&(t.editable[r]=!0):t.points[r].count==e&&(t.editable[r]=!0);$$("edt:cancel_btn").enable(),$$("edt:edit_btn").disable(),$$("edt:addparty_btn").disable(),$$("app:srid_form").disable()}},onFeatureAdded:function(e){let t=e.get("ogc_id"),i={su_id:t,srid:appdata.srid};webix.ajax().get("api/spatialunit/edit/",{...appdata.dbparams,...i}).then((function(i){if(i.json().success){let r=w.boundariesLayer.getSource().getFeatures().filter((e=>e.get("su_id")==t&&("1"==e.get("status")||"4"==e.get("status")||"7"==e.get("status")||""==e.get("status"))));w.editSelection.getFeatures().extend(r);let n,o=new Array;for(let e of r)n={bnd_id:e.get("ogc_id"),coords:e.getGeometry().getCoordinates(),status:new Array(e.getGeometry().getCoordinates().length).fill(0)},o.push(n);let a=e.getGeometry().getCoordinates()[0].length,s=new Array(a-1).fill(0),l=new Array(a-1).fill(!1),u=e.getGeometry().getCoordinates()[0];w.selectedRecords.push({...i.json(),coords:u,status:s,editable:l,boundaries:o}),w.displayDetails(),1==w.selectedRecords.length?$$("edt:addparty_btn").enable():$$("edt:addparty_btn").disable(),$$("edt:edit_btn").enable()}else r.showErrorMsg(null,i.json().message)}),(e=>{r.showErrorMsg(e,"")}))},onFeatureRemoved:function(e){this.selectedRecords=this.selectedRecords.filter((t=>t.details.id!=e.get("ogc_id")));let t=[];this.editSelection.getFeatures().getArray().forEach((r=>{r.get("su_id")==e.get("ogc_id")&&t.push(r)}));for(let e of t)this.editSelection.getFeatures().remove(e);1==this.selectedRecords.length?$$("edt:addparty_btn").enable():$$("edt:addparty_btn").disable(),$$("edt:edit_btn").disable(),0==this.selectedRecords.length?($$("edt:grid1").clearAll(),$$("edt:grid2").clearAll()):this.displayDetails()},displayDetails:function(){$$("edt:grid1").clearAll(),$$("edt:grid2").clearAll();for(let e of this.selectedRecords){$$("edt:grid1").add({"edt:grid1_suid":e.details.id,"edt:grid1_label":e.details.su_label,"edt:grid1_area":r.formatArea(e.details.area_m2)});for(let t of e.parties)$$("edt:grid2").add({"edt:grid2_ids":`[ ${e.details.id} ]${t.id_number?` - ${r.idNumberFormat(t.id_number)}`:""} `,"edt:grid2_name":t.full_name,id:t.objectid})}},onCancelButtonClick:function(){this.editing=!1,this.verticesLayer.getSource().clear();for(let e in this.currPolyFeatures){let t=this.currPolyFeatures[e];this.spatialunitsLayer.getSource().getFeatures().find((e=>e.get("ogc_id")==t.get("ogc_id"))).setGeometry(t.getGeometry())}for(let e in this.currLineFeatures){let t=this.currLineFeatures[e];this.boundariesLayer.getSource().getFeatures().find((e=>e.get("ogc_id")==t.get("ogc_id"))).setGeometry(t.getGeometry())}this.selectedRecords=new Array,this.lineVertex=null,this.polyVertex=null,this.splitSegment=null,this.featureSet=null,this.currPolyFeatures=null,this.currlineFeatures=null,this.currPointFeatures=null,this.newNodeCheck=null,this.validityLayer.getSource().clear(),this.editSelection.getFeatures().clear(),this.selection.getFeatures().clear(),this.featuresChanged=!1,this.modifyFeatues.setActive(!1),this.selection.setActive(!0),this.changeLog=new Array,this.newParties=new Array,$$("edt:cancel_btn").disable(),$$("edt:save_btn").disable(),$$("approval-cnt").enable(),$$("app:srid_form").enable(),document.getElementById("edt:undo_disabled_div").classList.remove("hidden_control")},onSaveButtonClick:function(){if(this.featuresChanged){this.updatedRecords=new Array;for(let e of this.selectedRecords){let t,r=new Array,i=new Array,n=0;for(let o in e.points)o=Number(o),e.coords[o][0]=Number(e.coords[o][0].toFixed(2)),e.coords[o][1]=Number(e.coords[o][1].toFixed(2)),9==e.status[o]?null!=e.points[o].pto&&i.push(e.points[o]):(n++,t=0==e.status[o]?{pto:e.points[o].pto,status:e.status[o],wgscoords:e.points[o].wgscoords,coords:e.coords[o],label:e.points[o].label,pto_list:e.points[o].pto_list,num_pto:n}:{pto:2==e.status[o]?null:e.points[o].pto,status:e.status[o],wgscoords:g.transform(e.coords[o],"EPSG:3857","EPSG:4326"),coords:e.coords[o],label:2==e.status[o]?"T":e.points[o].label,pto_list:e.points[o].pto_list,num_pto:n},r.push(t));this.updatedRecords.push({points:r,removed_points:i,su_id:e.details.id,globalid:e.details.globalid})}var e=new Object;e.records=this.updatedRecords,webix.ajax().post("api/spatialunit/check/",{...appdata.dbparams,...e}).then((function(t){if(t.json().success){let r,i,n,o=!0;for(let e of t.json().validity)e.isvalid||(i=e.location.replace("POINT(","").replace(")","").split(" "),r=new d.default({geometry:new h.default([i[0],i[1]])}),w.validityLayer.getSource().addFeature(r),o=!1,n=e.reason);let a=!0;o&&t.json().topology.overlaps&&(w.validityLayer.getSource().addFeature(new d.default({geometry:new f.default(t.json().topology.overlap_geom.coordinates)})),a=!1),o&&a?webix.modalbox({title:__("Are you sure?"),buttons:[__("OK"),__("Cancel")],text:__("This action cannot be undone..."),type:"confirm-warning"}).then((function(t){0==t&&w.updateSpatialunits(e)})):(a||(n="Overlaping areas"),webix.modalbox({title:__("Invalid Geometries!!!"),buttons:[__("Return")],text:__("The changes cannot be saved due to")+':<br/>"<i>'+n+'</i>"',type:"alert-error"}).then((function(){w.validityLayer.getSource().clear()})))}else r.showErrorMsg(null,t.json().message)}),(e=>{r.showErrorMsg(e,"")}))}else webix.modalbox({title:__("Are you sure?"),buttons:[__("OK"),__("Cancel")],text:__("This action cannot be undone..."),type:"confirm-warning"}).then((function(e){0==e&&w.saveNewParty()}))},updateSpatialunits:function(e){webix.ajax().post("api/spatialunit/update/",{...appdata.dbparams,...e}).then((function(e){e.json().success?(webix.alert(__("Changes saved succesfully")+"!!!").then((()=>{w.editing=!1,w.verticesLayer.getSource().clear(),w.lineVertex=null,w.polyVertex=null,w.splitSegment=null,w.featureSet=null,w.currPolyFeatures=null,w.currlineFeatures=null,w.currPointFeatures=null,w.newNodeCheck=null,w.validityLayer.getSource().clear(),w.featuresChanged=!1,w.modifyFeatues.setActive(!1),w.selection.setActive(!0),w.editSelection.getFeatures().clear(),w.selection.getFeatures().clear()})),$$("edt:cancel_btn").disable(),$$("edt:save_btn").disable(),$$("edt:edit_btn").enable(),$$("approval-cnt").enable(),$$("overview-cnt")&&($$("overview-cnt").config.getController().refreshView=!0)):r.showErrorMsg(null,e.json().message)}),(e=>{r.showErrorMsg(e,"")}))},saveNewParty:function(){var e=new Object;e.parties=this.newParties,e.right_id=this.selectedRecords[0].parties[0].right_id,e.su_id=this.selectedRecords[0].details.id,webix.ajax().post("api/party/insert/",{...appdata.dbparams,...e}).then((function(e){e.json().success?(webix.alert(__("Party(ies) added succesfully")+"!!!").then((()=>{let e=w.selection.getFeatures().getArray()[0];w.selection.getFeatures().clear(),w.selection.getFeatures().push(e)})),w.newParties=new Array,w.selection.setActive(!0),$$("edt:cancel_btn").disable(),$$("edt:save_btn").disable(),$$("edt:edit_btn").enable(),$$("edt:addparty_btn").enable(),$$("approval-cnt").enable(),$$("overview-cnt")&&($$("overview-cnt").config.getController().refreshView=!0)):r.showErrorMsg(null,e.json().message)}),(e=>{r.showErrorMsg(e,"")}))},onAddParty:function(){this.selection.setActive(!1);let e=$$("edt:party_form").getValues(),t=this.selectedRecords[0].parties.some((t=>t.id_number==e["apf-id_number"]));!t&&this.newParties.length>0&&(t=this.newParties.some((t=>t.id_number==e["apf-id_number"]))),t?webix.alert({title:"Warning",text:"Duplicate id number",type:"alert-warning",container:$$("edt:addparty_window").$view}):($$("edt:grid2").add({"edt:grid2_ids":`[ ${this.selectedRecords[0].details.id} ]${e["apf-id_number"]?` - ${r.idNumberFormat(e["apf-id_number"])}`:""} `,"edt:grid2_name":e["apf-first_name"]+" "+e["apf-last_name"],"edt:grid2_new":"*"}),this.newParties.push({first_name:e["apf-first_name"],last_name:e["apf-last_name"],date_of_birth:e["apf-date_of_birth"],id_number:e["apf-id_number"],gender:e["apf-gender"],phone_number:e["apf-phone_number"]}),$$("edt:cancel_btn").enable(),$$("edt:save_btn").enable(),$$("edt:edit_btn").disable(),$$("approval-cnt").disable(),$$("edt:addparty_window").getTopParentView().hide())},undoChanges:function(){let e;w.undoAction=!0,w.editSelection.getFeatures().clear();let t=w.changeLog.pop().records;for(record of t){let r=w.selection.getFeatures().getArray().find((e=>e.get("ogc_id")==record.details.id)).getGeometry();for(i in e=new Array,record.coords)9!=record.status[i]&&e.push(record.coords[i]);r.setCoordinates([e]);let n=w.boundariesLayer.getSource().getFeatures().filter((e=>e.get("su_id")==record.details.id&&("1"==e.get("status")||"4"==e.get("status")||"7"==e.get("status")||""==e.get("status"))));for(item of record.boundaries){for(i in feature=n.find((e=>e.get("ogc_id")==item.bnd_id)),e=new Array,item.coords)9!=item.status[i]&&e.push(item.coords[i]);feature.getGeometry().setCoordinates(e),w.editSelection.getFeatures().extend([feature]),b.displayVertices(w,feature,item.bnd_id)}w.selectedRecords=JSON.parse(JSON.stringify(t))}w.undoAction=!1,0==w.changeLog.length&&(document.getElementById("edt:undo_disabled_div").classList.remove("hidden_control"),$$("edt:save_btn").disable(),$$("approval-cnt").enable())}}})),parcelRequire.register("4kWzq",(function(e,t){$parcel$export(e.exports,"AddUndoAction",(function(){return i}));var r=parcelRequire("4nGvt");const i=(e,t,i)=>{let n=webix.html.create("button",{id:t+":undo_action"},'<i class="mdi mdi-undo-variant"></i>');n.addEventListener("click",(function(){i()}));let o=webix.html.create("div",{id:t+":undo_div",class:"undo_action ol-unselectable ol-control"});o.appendChild(n),e.addControl(new r.default({element:o})),webix.TooltipControl.addTooltip(t+":undo_action",__("Undo last atcion"));let a=webix.html.create("div",{id:t+":undo_disabled_div",class:"undo_disabled_action ol-unselectable ol-control"});return e.addControl(new r.default({element:a})),!0}})),parcelRequire.register("2I4BS",(function(e,t){$parcel$export(e.exports,"defaults",(function(){return h})),$parcel$export(e.exports,"Modify",(function(){return parcelRequire("bXTQW").default})),$parcel$export(e.exports,"Select",(function(){return parcelRequire("l95NQ").default})),$parcel$export(e.exports,"Snap",(function(){return parcelRequire("itXN2").default}));var r=parcelRequire("5kGze"),i=parcelRequire("2AmuN"),n=parcelRequire("72ju2"),o=parcelRequire("fKXCY"),a=parcelRequire("2oNOr"),s=parcelRequire("cjoFR"),l=parcelRequire("7K5Kf"),u=parcelRequire("4r0EQ"),c=parcelRequire("7UbiQ"),p=parcelRequire("8Ci3Q"),d=parcelRequire("8flFJ");i=parcelRequire("2AmuN"),n=parcelRequire("72ju2"),o=parcelRequire("fKXCY"),a=parcelRequire("2oNOr"),s=parcelRequire("cjoFR"),l=parcelRequire("7K5Kf"),parcelRequire("bXTQW"),c=parcelRequire("7UbiQ"),p=parcelRequire("8Ci3Q"),d=parcelRequire("8flFJ"),parcelRequire("l95NQ"),parcelRequire("itXN2");function h(e){var t=e||{},h=new r.default,f=new u.default(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&h.push(new o.default),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&h.push(new i.default({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&h.push(new n.default({onFocusOnly:t.onFocusOnly,kinetic:f})),(void 0===t.pinchRotate||t.pinchRotate)&&h.push(new p.default),(void 0===t.pinchZoom||t.pinchZoom)&&h.push(new d.default({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(h.push(new s.default),h.push(new l.default({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&h.push(new c.default({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&h.push(new a.default({duration:t.zoomDuration})),h}})),parcelRequire.register("2AmuN",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}),(function(e){return a=e}));var r,i=parcelRequire("6ECD4"),n=parcelRequire("f7B01"),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=function(e){function t(t){var r=e.call(this)||this,i=t||{};return r.delta_=i.delta?i.delta:1,r.duration_=void 0!==i.duration?i.duration:250,r}return o(t,e),t.prototype.handleEvent=function(e){var t=!1;if(e.type==n.default.DBLCLICK){var r=e.originalEvent,o=e.map,a=e.coordinate,s=r.shiftKey?-this.delta_:this.delta_,l=o.getView();i.zoomByDelta(l,s,a,this.duration_),r.preventDefault(),t=!0}return!t},t}(i.default)})),parcelRequire.register("72ju2",(function(e,t){$parcel$export(e.exports,"default",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("3e2IT"),n=parcelRequire("c0LdP"),o=parcelRequire("ae17k"),a=parcelRequire("hNRnK"),s=parcelRequire("akCpq"),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(t){var r=e.call(this,{stopDown:n.FALSE})||this,i=t||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var a=i.condition?i.condition:o.all(o.noModifierKeys,o.primaryAction);return r.condition_=i.onFocusOnly?o.all(o.focusWithTabindex,a):a,r.noKinetic_=!1,r}return l(t,e),t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var t=this.targetPointers,r=i.centroid(t);if(t.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var n=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],o=e.map.getView();s.scale(n,o.getResolution()),s.rotate(n,o.getRotation()),o.adjustCenterInternal(n)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=t.length,e.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(e){var t=e.map,r=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),o=r.getCenterInternal(),s=t.getPixelFromCoordinateInternal(o),l=t.getCoordinateFromPixelInternal([s[0]-i*Math.cos(n),s[1]-i*Math.sin(n)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:a.easeOut})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},t}(i.default)})),parcelRequire.register("3e2IT",(function(e,t){$parcel$export(e.exports,"centroid",(function(){return s}),(function(e){return s=e})),$parcel$export(e.exports,"default",(function(){return l}),(function(e){return l=e}));var r,i=parcelRequire("6ECD4"),n=parcelRequire("f7B01"),o=parcelRequire("lOEcB"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function s(e){for(var t=e.length,r=0,i=0,n=0;n<t;n++)r+=e[n].clientX,i+=e[n].clientY;return[r/t,i/t]}var l=function(e){function t(t){var r=this,i=t||{};return r=e.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return a(t,e),t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(e){return!1},t.prototype.handleDragEvent=function(e){},t.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==n.default.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==n.default.POINTERUP){var r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==n.default.POINTERDOWN){var i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==n.default.POINTERMOVE&&this.handleMoveEvent(e);return!t},t.prototype.handleMoveEvent=function(e){},t.prototype.handleUpEvent=function(e){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){if(function(e){var t=e.type;return t===n.default.POINTERDOWN||t===n.default.POINTERDRAG||t===n.default.POINTERUP}(e)){var t=e.originalEvent,r=t.pointerId.toString();e.type==n.default.POINTERUP?delete this.trackedPointers_[r]:(e.type==n.default.POINTERDOWN||r in this.trackedPointers_)&&(this.trackedPointers_[r]=t),this.targetPointers=o.getValues(this.trackedPointers_)}},t}(i.default)})),parcelRequire.register("fKXCY",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}),(function(e){return l=e}));var r,i=parcelRequire("3e2IT"),n=parcelRequire("c0LdP"),o=parcelRequire("ae17k"),a=parcelRequire("cduh6"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l=function(e){function t(t){var r=this,i=t||{};return(r=e.call(this,{stopDown:n.FALSE})||this).condition_=i.condition?i.condition:o.altShiftKeysOnly,r.lastAngle_=void 0,r.duration_=void 0!==i.duration?i.duration:250,r}return s(t,e),t.prototype.handleDragEvent=function(e){if(o.mouseOnly(e)){var t=e.map,r=t.getView();if(r.getConstraints().rotation!==a.disable){var i=t.getSize(),n=e.pixel,s=Math.atan2(i[1]/2-n[1],n[0]-i[0]/2);if(void 0!==this.lastAngle_){var l=s-this.lastAngle_;r.adjustRotationInternal(-l)}this.lastAngle_=s}}},t.prototype.handleUpEvent=function(e){return!o.mouseOnly(e)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){return!!o.mouseOnly(e)&&(!(!o.mouseActionButton(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},t}(i.default)})),parcelRequire.register("cduh6",(function(e,t){$parcel$export(e.exports,"disable",(function(){return i})),$parcel$export(e.exports,"none",(function(){return n})),$parcel$export(e.exports,"createSnapToN",(function(){return o})),$parcel$export(e.exports,"createSnapToZero",(function(){return a}));var r=parcelRequire("8GG6h");function i(e){return void 0!==e?0:void 0}function n(e){return void 0!==e?e:void 0}function o(e){var t=2*Math.PI/e;return function(e,r){return r?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}function a(e){var t=e||r.toRadians(5);return function(e,r){return r?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}})),parcelRequire.register("2oNOr",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}),(function(e){return s=e}));var r,i=parcelRequire("3qjYn"),n=parcelRequire("hNRnK"),o=parcelRequire("ae17k"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=function(e){function t(t){var r=this,i=t||{},n=i.condition?i.condition:o.shiftKeyOnly;return(r=e.call(this,{condition:n,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,r.out_=void 0!==i.out&&i.out,r}return a(t,e),t.prototype.onBoxEnd=function(e){var t=this.getMap().getView(),r=this.getGeometry();if(this.out_){var i=t.rotatedExtentForGeometry(r),o=t.getResolutionForExtentInternal(i),a=t.getResolution()/o;(r=r.clone()).scale(a*a)}t.fitInternal(r,{duration:this.duration_,easing:n.easeOut})},t}(i.default)})),parcelRequire.register("3qjYn",(function(e,t){$parcel$export(e.exports,"DragBoxEvent",(function(){return d}),(function(e){return d=e})),$parcel$export(e.exports,"default",(function(){return h}),(function(e){return h=e}));var r,i=parcelRequire("jkZCX"),n=parcelRequire("3e2IT"),o=parcelRequire("1eB3f"),a=parcelRequire("ae17k"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l="boxstart",u="boxdrag",c="boxend",p="boxcancel",d=function(e){function t(t,r,i){var n=e.call(this,t)||this;return n.coordinate=r,n.mapBrowserEvent=i,n}return s(t,e),t}(i.default),h=function(e){function t(t){var r=e.call(this)||this;r.on,r.once,r.un;var i=t||{};return r.box_=new o.default(i.className||"ol-dragbox"),r.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:a.mouseActionButton,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return s(t,e),t.prototype.defaultBoxEndCondition=function(e,t,r){var i=r[0]-t[0],n=r[1]-t[1];return i*i+n*n>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new d(u,e.coordinate,e))},t.prototype.handleUpEvent=function(e){this.box_.setMap(null);var t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new d(t?c:p,e.coordinate,e)),!1},t.prototype.handleDownEvent=function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new d(l,e.coordinate,e)),!0)},t.prototype.onBoxEnd=function(e){},t}(n.default)})),parcelRequire.register("1eB3f",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}),(function(e){return a=e}));var r,i=parcelRequire("lXwX1"),n=parcelRequire("6kqrS"),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=function(e){function t(t){var r=e.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return o(t,e),t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,t=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],t[0])+r,i.top=Math.min(e[1],t[1])+r,i.width=Math.abs(t[0]-e[0])+r,i.height=Math.abs(t[1]-e[1])+r},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new n.default([r])},t.prototype.getGeometry=function(){return this.geometry_},t}(i.default)})),parcelRequire.register("cjoFR",(function(e,t){$parcel$export(e.exports,"default",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("7Ry8n"),n=parcelRequire("6ECD4"),o=parcelRequire("dMI0g"),a=parcelRequire("ae17k"),s=parcelRequire("akCpq"),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(t){var r=e.call(this)||this,i=t||{};return r.defaultCondition_=function(e){return a.noModifierKeys(e)&&a.targetNotEditable(e)},r.condition_=void 0!==i.condition?i.condition:r.defaultCondition_,r.duration_=void 0!==i.duration?i.duration:100,r.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,r}return l(t,e),t.prototype.handleEvent=function(e){var t=!1;if(e.type==i.default.KEYDOWN){var r=e.originalEvent,a=r.keyCode;if(this.condition_(e)&&(a==o.default.DOWN||a==o.default.LEFT||a==o.default.RIGHT||a==o.default.UP)){var l=e.map.getView(),u=l.getResolution()*this.pixelDelta_,c=0,p=0;a==o.default.DOWN?p=-u:a==o.default.LEFT?c=-u:a==o.default.RIGHT?c=u:p=u;var d=[c,p];s.rotate(d,l.getRotation()),n.pan(l,d,this.duration_),r.preventDefault(),t=!0}}return!t},t}(n.default)})),parcelRequire.register("dMI0g",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={LEFT:37,UP:38,RIGHT:39,DOWN:40}})),parcelRequire.register("7K5Kf",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}),(function(e){return s=e}));var r,i=parcelRequire("7Ry8n"),n=parcelRequire("6ECD4"),o=parcelRequire("ae17k"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=function(e){function t(t){var r=e.call(this)||this,i=t||{};return r.condition_=i.condition?i.condition:o.targetNotEditable,r.delta_=i.delta?i.delta:1,r.duration_=void 0!==i.duration?i.duration:100,r}return a(t,e),t.prototype.handleEvent=function(e){var t=!1;if(e.type==i.default.KEYDOWN||e.type==i.default.KEYPRESS){var r=e.originalEvent,o=r.charCode;if(this.condition_(e)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var a=e.map,s=o=="+".charCodeAt(0)?this.delta_:-this.delta_,l=a.getView();n.zoomByDelta(l,s,void 0,this.duration_),r.preventDefault(),t=!0}}return!t},t}(n.default)})),parcelRequire.register("4r0EQ",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r=function(){function e(e,t,r){this.decay_=e,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var r=t-3;r>0&&this.points_[r+2]>e;)r-=3;var i=this.points_[t+2]-this.points_[r+2];if(i<1e3/60)return!1;var n=this.points_[t]-this.points_[r],o=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(o,n),this.initialVelocity_=Math.sqrt(n*n+o*o)/i,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}()})),parcelRequire.register("7UbiQ",(function(e,t){$parcel$export(e.exports,"Mode",(function(){return u}),(function(e){return u=e})),$parcel$export(e.exports,"default",(function(){return c}),(function(e){return c=e}));var r,i=parcelRequire("7Ry8n"),n=parcelRequire("6ECD4"),o=parcelRequire("anhQL"),a=parcelRequire("ae17k"),s=parcelRequire("8GG6h"),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u={TRACKPAD:"trackpad",WHEEL:"wheel"},c=function(e){function t(t){var r=this,i=t||{};(r=e.call(this,i)||this).totalDelta_=0,r.lastDelta_=0,r.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,r.duration_=void 0!==i.duration?i.duration:250,r.timeout_=void 0!==i.timeout?i.timeout:80,r.useAnchor_=void 0===i.useAnchor||i.useAnchor,r.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var n=i.condition?i.condition:a.always;return r.condition_=i.onFocusOnly?a.all(a.focusWithTabindex,n):n,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return l(t,e),t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if(e.type!==i.default.WHEEL)return!0;var t,r=e.map,n=e.originalEvent;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==i.default.WHEEL&&(t=n.deltaY,o.FIREFOX&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(t/=o.DEVICE_PIXEL_RATIO),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(t*=40)),0===t)return!1;this.lastDelta_=t;var a=Date.now();void 0===this.startTime_&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(t)<4?u.TRACKPAD:u.WHEEL);var s=r.getView();if(this.mode_===u.TRACKPAD&&!s.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(s.getAnimating()&&s.cancelAnimations(),s.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),s.adjustZoom(-t/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=t;var l=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),l),!1},t.prototype.handleWheelZoom_=function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var r=-s.clamp(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),n.zoomByDelta(t,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(n.default)})),parcelRequire.register("8Ci3Q",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}),(function(e){return s=e}));var r,i=parcelRequire("3e2IT"),n=parcelRequire("c0LdP"),o=parcelRequire("cduh6"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=function(e){function t(t){var r=this,i=t||{},o=i;return o.stopDown||(o.stopDown=n.FALSE),(r=e.call(this,o)||this).anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=void 0!==i.threshold?i.threshold:.3,r.duration_=void 0!==i.duration?i.duration:250,r}return a(t,e),t.prototype.handleDragEvent=function(e){var t=0,r=this.targetPointers[0],n=this.targetPointers[1],a=Math.atan2(n.clientY-r.clientY,n.clientX-r.clientX);if(void 0!==this.lastAngle_){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=s}this.lastAngle_=a;var l=e.map,u=l.getView();if(u.getConstraints().rotation!==o.disable){var c=l.getViewport().getBoundingClientRect(),p=i.centroid(this.targetPointers);p[0]-=c.left,p[1]-=c.top,this.anchor_=l.getCoordinateFromPixelInternal(p),this.rotating_&&(l.render(),u.adjustRotationInternal(t,this.anchor_))}},t.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(i.default)})),parcelRequire.register("8flFJ",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}),(function(e){return a=e}));var r,i=parcelRequire("3e2IT"),n=parcelRequire("c0LdP"),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=function(e){function t(t){var r=this,i=t||{},o=i;return o.stopDown||(o.stopDown=n.FALSE),(r=e.call(this,o)||this).anchor_=null,r.duration_=void 0!==i.duration?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return o(t,e),t.prototype.handleDragEvent=function(e){var t=1,r=this.targetPointers[0],n=this.targetPointers[1],o=r.clientX-n.clientX,a=r.clientY-n.clientY,s=Math.sqrt(o*o+a*a);void 0!==this.lastDistance_&&(t=this.lastDistance_/s),this.lastDistance_=s;var l=e.map,u=l.getView();1!=t&&(this.lastScaleDelta_=t);var c=l.getViewport().getBoundingClientRect(),p=i.centroid(this.targetPointers);p[0]-=c.left,p[1]-=c.top,this.anchor_=l.getCoordinateFromPixelInternal(p),l.render(),u.adjustResolutionInternal(t,this.anchor_)},t.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var t=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,r),!1}return!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(i.default)})),parcelRequire.register("bXTQW",(function(e,t){$parcel$export(e.exports,"ModifyEvent",(function(){return T}),(function(e){return T=e})),$parcel$export(e.exports,"default",(function(){return O}),(function(e){return O=e}));var r,i=parcelRequire("5kGze"),n=parcelRequire("aByjX"),o=parcelRequire("jkZCX"),a=parcelRequire("7Ry8n"),s=parcelRequire("iKbY7"),l=parcelRequire("hZjyb"),u=parcelRequire("f7B01"),c=parcelRequire("1QtZq"),p=parcelRequire("3e2IT"),d=parcelRequire("4D6d1"),h=parcelRequire("057OO"),f=parcelRequire("6YHhF"),g=parcelRequire("f2OU0"),_=parcelRequire("ae17k"),m=parcelRequire("geRS1"),v=parcelRequire("akCpq"),y=parcelRequire("fIQfh"),x=parcelRequire("l89p7"),b=parcelRequire("6kqrS"),w=parcelRequire("cR5xV"),R=parcelRequire("b3vZc"),$=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),C=[0,0,0,0],S=[],E="modifystart",q="modifyend",T=function(e){function t(t,r,i){var n=e.call(this,t)||this;return n.features=r,n.mapBrowserEvent=i,n}return $(t,e),t}(o.default);function I(e,t){return e.index-t.index}function L(e,t,r){var i=t.geometry;if(i.getType()===l.default.CIRCLE){var n=i;if(1===t.index){var o=w.getUserProjection();o&&(n=n.clone().transform(o,r));var a=v.squaredDistance(n.getCenter(),w.fromUserCoordinate(e,r)),s=Math.sqrt(a)-n.getRadius();return s*s}}var u=w.fromUserCoordinate(e,r);return S[0]=w.fromUserCoordinate(t.segment[0],r),S[1]=w.fromUserCoordinate(t.segment[1],r),v.squaredDistanceToSegment(u,S)}function A(e,t,r){var i=t.geometry;if(i.getType()===l.default.CIRCLE&&1===t.index){var n=i,o=w.getUserProjection();return o&&(n=n.clone().transform(o,r)),w.toUserCoordinate(n.getClosestPoint(w.fromUserCoordinate(e,r)),r)}var a=w.fromUserCoordinate(e,r);return S[0]=w.fromUserCoordinate(t.segment[0],r),S[1]=w.fromUserCoordinate(t.segment[1],r),w.toUserCoordinate(v.closestOnSegment(a,S),r)}var O=function(e){function t(t){var r,o,a=e.call(this,t)||this;if(a.on,a.once,a.un,a.boundHandleFeatureChange_=a.handleFeatureChange_.bind(a),a.condition_=t.condition?t.condition:_.primaryAction,a.defaultDeleteCondition_=function(e){return _.altKeyOnly(e)&&_.singleClick(e)},a.deleteCondition_=t.deleteCondition?t.deleteCondition:a.defaultDeleteCondition_,a.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:_.always,a.vertexFeature_=null,a.vertexSegments_=null,a.lastPixel_=[0,0],a.ignoreNextSingleClick_=!1,a.featuresBeingModified_=null,a.rBush_=new d.default,a.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,a.snappedToVertex_=!1,a.changingFeature_=!1,a.dragSegments_=[],a.overlay_=new f.default({source:new g.default({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:(r=y.createEditingStyle(),function(e,t){return r[l.default.POINT]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),a.SEGMENT_WRITERS_={Point:a.writePointGeometry_.bind(a),LineString:a.writeLineStringGeometry_.bind(a),LinearRing:a.writeLineStringGeometry_.bind(a),Polygon:a.writePolygonGeometry_.bind(a),MultiPoint:a.writeMultiPointGeometry_.bind(a),MultiLineString:a.writeMultiLineStringGeometry_.bind(a),MultiPolygon:a.writeMultiPolygonGeometry_.bind(a),Circle:a.writeCircleGeometry_.bind(a),GeometryCollection:a.writeGeometryCollectionGeometry_.bind(a)},a.source_=null,a.hitDetection_=null,t.features?o=t.features:t.source&&(a.source_=t.source,o=new i.default(a.source_.getFeatures()),a.source_.addEventListener(h.default.ADDFEATURE,a.handleSourceAdd_.bind(a)),a.source_.addEventListener(h.default.REMOVEFEATURE,a.handleSourceRemove_.bind(a))),!o)throw new Error("The modify interaction requires features, a source or a layer");return t.hitDetection&&(a.hitDetection_=t.hitDetection),a.features_=o,a.features_.forEach(a.addFeature_.bind(a)),a.features_.addEventListener(n.default.ADD,a.handleFeatureAdd_.bind(a)),a.features_.addEventListener(n.default.REMOVE,a.handleFeatureRemove_.bind(a)),a.lastPointerEvent_=null,a.delta_=[0,0],a.snapToPointer_=void 0===t.snapToPointer?!a.hitDetection_:t.snapToPointer,a}return $(t,e),t.prototype.addFeature_=function(e){var t=e.getGeometry();if(t){var r=this.SEGMENT_WRITERS_[t.getType()];r&&r(e,t)}var i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),e.addEventListener(a.default.CHANGE,this.boundHandleFeatureChange_)},t.prototype.willModifyFeatures_=function(e,t){if(!this.featuresBeingModified_){this.featuresBeingModified_=new i.default;for(var r=this.featuresBeingModified_.getArray(),n=0,o=t.length;n<o;++n)for(var a=t[n],s=0,l=a.length;s<l;++s){var u=a[s].feature;u&&-1===r.indexOf(u)&&this.featuresBeingModified_.push(u)}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new T(E,this.featuresBeingModified_,e))}},t.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(a.default.CHANGE,this.boundHandleFeatureChange_)},t.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,r=[];t.forEach((function(t){e===t.feature&&r.push(t)}));for(var i=r.length-1;i>=0;--i){for(var n=r[i],o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===n&&this.dragSegments_.splice(o,1);t.remove(n)}},t.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.prototype.setActive.call(this,t)},t.prototype.setMap=function(t){this.overlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},t.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},t.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},t.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},t.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},t.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),i={feature:e,geometry:t,segment:[r,r]};this.rBush_.insert(t.getExtent(),i)},t.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],a={feature:e,geometry:t,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(t.getExtent(),a)}},t.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),a={feature:e,geometry:t,index:i,segment:o};this.rBush_.insert(m.boundingExtent(o),a)}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,geometry:t,depth:[i],index:a,segment:l};this.rBush_.insert(m.boundingExtent(l),u)}},t.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,geometry:t,depth:[i],index:a,segment:l};this.rBush_.insert(m.boundingExtent(l),u)}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var p=l.slice(u,u+2),d={feature:e,geometry:t,depth:[a,i],index:u,segment:p};this.rBush_.insert(m.boundingExtent(p),d)}},t.prototype.writeCircleGeometry_=function(e,t){var r=t.getCenter(),i={feature:e,geometry:t,index:0,segment:[r,r]},n={feature:e,geometry:t,index:1,segment:[r,r]},o=[i,n];i.featureSegments=o,n.featureSegments=o,this.rBush_.insert(m.createOrUpdateFromCoordinate(r),i);var a=t,s=w.getUserProjection();if(s&&this.getMap()){var l=this.getMap().getView().getProjection();a=a.clone().transform(s,l),a=b.fromCircle(a).transform(l,s)}this.rBush_.insert(a.getExtent(),n)},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),i=0;i<r.length;++i){var n=r[i];(0,this.SEGMENT_WRITERS_[n.getType()])(e,n)}},t.prototype.createOrUpdateVertexFeature_=function(e,t,r){var i=this.vertexFeature_;i?i.getGeometry().setCoordinates(e):(i=new s.default(new c.default(e)),this.vertexFeature_=i,this.overlay_.getSource().addFeature(i));return i.set("features",t),i.set("geometries",r),i},t.prototype.handleEvent=function(t){return!t.originalEvent||(this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=u.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(r=!(t.type!=u.default.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==u.default.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),e.prototype.handleEvent.call(this,t)&&!r);var r},t.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);for(var t=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],r=[],i=[],n=0,o=this.dragSegments_.length;n<o;++n){var a=this.dragSegments_[n],s=a[0],u=s.feature;-1===r.indexOf(u)&&r.push(u);var c=s.geometry;-1===i.indexOf(c)&&i.push(c);for(var p=s.depth,d=void 0,h=s.segment,f=a[1];t.length<c.getStride();)t.push(h[f][t.length]);switch(c.getType()){case l.default.POINT:d=t,h[0]=t,h[1]=t;break;case l.default.MULTI_POINT:(d=c.getCoordinates())[s.index]=t,h[0]=t,h[1]=t;break;case l.default.LINE_STRING:(d=c.getCoordinates())[s.index+f]=t,h[f]=t;break;case l.default.MULTI_LINE_STRING:case l.default.POLYGON:(d=c.getCoordinates())[p[0]][s.index+f]=t,h[f]=t;break;case l.default.MULTI_POLYGON:(d=c.getCoordinates())[p[1]][p[0]][s.index+f]=t,h[f]=t;break;case l.default.CIRCLE:if(h[0]=t,h[1]=t,0===s.index)this.changingFeature_=!0,c.setCenter(t),this.changingFeature_=!1;else{this.changingFeature_=!0;var g=e.map.getView().getProjection(),_=v.distance(w.fromUserCoordinate(c.getCenter(),g),w.fromUserCoordinate(t,g)),m=w.getUserProjection();if(m){var y=c.clone().transform(m,g);y.setRadius(_),_=y.transform(g,m).getRadius()}c.setRadius(_),this.changingFeature_=!1}}d&&this.setGeometryCoordinates_(c,d)}this.createOrUpdateVertexFeature_(t,r,i)},t.prototype.handleDownEvent=function(e){if(!this.condition_(e))return!1;var t=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,t),this.dragSegments_.length=0,this.featuresBeingModified_=null;var r=this.vertexFeature_;if(r){var i=e.map.getView().getProjection(),n=[],o=r.getGeometry().getCoordinates(),a=m.boundingExtent([o]),s=this.rBush_.getInExtent(a),u={};s.sort(I);for(var c=0,p=s.length;c<p;++c){var d=s[c],h=d.segment,f=R.getUid(d.geometry),g=d.depth;if(g&&(f+="-"+g.join("-")),u[f]||(u[f]=new Array(2)),d.geometry.getType()!==l.default.CIRCLE||1!==d.index)if(!v.equals(h[0],o)||u[f][0])if(!v.equals(h[1],o)||u[f][1])R.getUid(h)in this.vertexSegments_&&!u[f][0]&&!u[f][1]&&this.insertVertexCondition_(e)&&n.push(d);else{if((d.geometry.getType()===l.default.LINE_STRING||d.geometry.getType()===l.default.MULTI_LINE_STRING)&&u[f][0]&&0===u[f][0].index)continue;this.dragSegments_.push([d,1]),u[f][1]=d}else this.dragSegments_.push([d,0]),u[f][0]=d;else{var _=A(t,d,i);v.equals(_,o)&&!u[f][0]&&(this.dragSegments_.push([d,0]),u[f][0]=d)}}n.length&&this.willModifyFeatures_(e,[n]);for(var y=n.length-1;y>=0;--y)this.insertVertex_(n[y],o)}return!!this.vertexFeature_},t.prototype.handleUpEvent=function(e){for(var t=this.dragSegments_.length-1;t>=0;--t){var r=this.dragSegments_[t][0],i=r.geometry;if(i.getType()===l.default.CIRCLE){var n=i.getCenter(),o=r.featureSegments[0],a=r.featureSegments[1];o.segment[0]=n,o.segment[1]=n,a.segment[0]=n,a.segment[1]=n,this.rBush_.update(m.createOrUpdateFromCoordinate(n),o);var s=i,u=w.getUserProjection();if(u){var c=e.map.getView().getProjection();s=s.clone().transform(u,c),s=b.fromCircle(s).transform(c,u)}this.rBush_.update(s.getExtent(),a)}else this.rBush_.update(m.boundingExtent(r.segment),r)}return this.featuresBeingModified_&&(this.dispatchEvent(new T(q,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1},t.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)},t.prototype.handlePointerAtPixel_=function(e,t,r){var i,n,o=this,a=r||t.getCoordinateFromPixel(e),s=t.getView().getProjection();if(this.hitDetection_){var u="object"==typeof this.hitDetection_?function(e){return e===o.hitDetection_}:void 0;t.forEachFeatureAtPixel(e,(function(e,t,r){if((r=r||e.getGeometry()).getType()===l.default.POINT&&x.includes(o.features_.getArray(),e)){n=r;var a=r.getFlatCoordinates().slice(0,2);i=[{feature:e,geometry:r,segment:[a,a]}]}return!0}),{layerFilter:u})}if(!i){var c=w.fromUserExtent(m.createOrUpdateFromCoordinate(a,C),s),p=t.getView().getResolution()*this.pixelTolerance_,d=w.toUserExtent(m.buffer(c,p,C),s);i=this.rBush_.getInExtent(d)}if(i&&i.length>0){var h=i.sort((function(e,t){return L(a,e,s)-L(a,t,s)}))[0],f=h.segment,g=A(a,h,s),_=t.getPixelFromCoordinate(g),y=v.distance(e,_);if(n||y<=this.pixelTolerance_){var b={};if(b[R.getUid(f)]=!0,this.snapToPointer_||(this.delta_[0]=g[0]-a[0],this.delta_[1]=g[1]-a[1]),h.geometry.getType()===l.default.CIRCLE&&1===h.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(g,[h.feature],[h.geometry]);else{var $=t.getPixelFromCoordinate(f[0]),S=t.getPixelFromCoordinate(f[1]),E=v.squaredDistance(_,$),q=v.squaredDistance(_,S);y=Math.sqrt(Math.min(E,q)),this.snappedToVertex_=y<=this.pixelTolerance_,this.snappedToVertex_&&(g=E>q?f[1]:f[0]),this.createOrUpdateVertexFeature_(g,[h.feature],[h.geometry]);var T={};T[R.getUid(h.geometry)]=!0;for(var I=1,O=i.length;I<O;++I){var P=i[I].segment;if(!(v.equals(f[0],P[0])&&v.equals(f[1],P[1])||v.equals(f[0],P[1])&&v.equals(f[1],P[0])))break;var M=R.getUid(i[I].geometry);M in T||(T[M]=!0,b[R.getUid(P)]=!0)}}return void(this.vertexSegments_=b)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},t.prototype.insertVertex_=function(e,t){for(var r,i=e.segment,n=e.feature,o=e.geometry,a=e.depth,s=e.index;t.length<o.getStride();)t.push(0);switch(o.getType()){case l.default.MULTI_LINE_STRING:case l.default.POLYGON:(r=o.getCoordinates())[a[0]].splice(s+1,0,t);break;case l.default.MULTI_POLYGON:(r=o.getCoordinates())[a[1]][a[0]].splice(s+1,0,t);break;case l.default.LINE_STRING:(r=o.getCoordinates()).splice(s+1,0,t);break;default:return}this.setGeometryCoordinates_(o,r);var u=this.rBush_;u.remove(e),this.updateSegmentIndices_(o,s,a,1);var c={segment:[i[0],t],feature:n,geometry:o,depth:a,index:s};u.insert(m.boundingExtent(c.segment),c),this.dragSegments_.push([c,1]);var p={segment:[t,i[1]],feature:n,geometry:o,depth:a,index:s+1};u.insert(m.boundingExtent(p.segment),p),this.dragSegments_.push([p,0]),this.ignoreNextSingleClick_=!0},t.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=u.default.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);var t=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new T(q,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,t}return!1},t.prototype.removeVertex_=function(){var e,t,r,i,n,o,a,s,u,c,p,d=this.dragSegments_,h={},f=!1;for(n=d.length-1;n>=0;--n)c=(r=d[n])[0],p=R.getUid(c.feature),c.depth&&(p+="-"+c.depth.join("-")),p in h||(h[p]={}),0===r[1]?(h[p].right=c,h[p].index=c.index):1==r[1]&&(h[p].left=c,h[p].index=c.index+1);for(p in h){switch(u=h[p].right,a=h[p].left,(s=(o=h[p].index)-1)<0&&(s=0),e=t=(i=(c=void 0!==a?a:u).geometry).getCoordinates(),f=!1,i.getType()){case l.default.MULTI_LINE_STRING:t[c.depth[0]].length>2&&(t[c.depth[0]].splice(o,1),f=!0);break;case l.default.LINE_STRING:t.length>2&&(t.splice(o,1),f=!0);break;case l.default.MULTI_POLYGON:e=e[c.depth[1]];case l.default.POLYGON:(e=e[c.depth[0]]).length>4&&(o==e.length-1&&(o=0),e.splice(o,1),f=!0,0===o&&(e.pop(),e.push(e[0]),s=e.length-1))}if(f){this.setGeometryCoordinates_(i,t);var g=[];if(void 0!==a&&(this.rBush_.remove(a),g.push(a.segment[0])),void 0!==u&&(this.rBush_.remove(u),g.push(u.segment[1])),void 0!==a&&void 0!==u){var _={depth:c.depth,feature:c.feature,geometry:c.geometry,index:s,segment:g};this.rBush_.insert(m.boundingExtent(_.segment),_)}this.updateSegmentIndices_(i,o,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),d.length=0}}return f},t.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},t.prototype.updateSegmentIndices_=function(e,t,r,i){this.rBush_.forEachInExtent(e.getExtent(),(function(n){n.geometry===e&&(void 0===r||void 0===n.depth||x.equals(n.depth,r))&&n.index>t&&(n.index+=i)}))},t}(p.default)})),parcelRequire.register("itXN2",(function(e,t){$parcel$export(e.exports,"default",(function(){return x}),(function(e){return x=e}));var r,i=parcelRequire("aByjX"),n=parcelRequire("7Ry8n"),o=parcelRequire("hZjyb"),a=parcelRequire("3e2IT"),s=parcelRequire("4D6d1"),l=parcelRequire("057OO"),u=parcelRequire("c0LdP"),c=parcelRequire("geRS1"),p=parcelRequire("akCpq"),d=parcelRequire("6kqrS"),h=parcelRequire("cR5xV"),f=parcelRequire("b3vZc"),g=parcelRequire("lOEcB"),_=parcelRequire("9eKdp"),m=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function v(e){return e.feature?e.feature:e.element?e.element:void 0}var y=[],x=function(e){function t(t){var r=this,i=t||{},n=i;return n.handleDownEvent||(n.handleDownEvent=u.TRUE),n.stopDown||(n.stopDown=u.FALSE),(r=e.call(this,n)||this).source_=i.source?i.source:null,r.vertex_=void 0===i.vertex||i.vertex,r.edge_=void 0===i.edge||i.edge,r.features_=i.features?i.features:null,r.featuresListenerKeys_=[],r.featureChangeListenerKeys_={},r.indexedFeaturesExtents_={},r.pendingFeatures_={},r.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,r.rBush_=new s.default,r.SEGMENT_WRITERS_={Point:r.writePointGeometry_.bind(r),LineString:r.writeLineStringGeometry_.bind(r),LinearRing:r.writeLineStringGeometry_.bind(r),Polygon:r.writePolygonGeometry_.bind(r),MultiPoint:r.writeMultiPointGeometry_.bind(r),MultiLineString:r.writeMultiLineStringGeometry_.bind(r),MultiPolygon:r.writeMultiPolygonGeometry_.bind(r),GeometryCollection:r.writeGeometryCollectionGeometry_.bind(r),Circle:r.writeCircleGeometry_.bind(r)},r}return m(t,e),t.prototype.addFeature=function(e,t){var r=void 0===t||t,i=f.getUid(e),o=e.getGeometry();if(o){var a=this.SEGMENT_WRITERS_[o.getType()];a&&(this.indexedFeaturesExtents_[i]=o.getExtent(c.createEmpty()),a(e,o))}r&&(this.featureChangeListenerKeys_[i]=_.listen(e,n.default.CHANGE,this.handleFeatureChange_,this))},t.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},t.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},t.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},t.prototype.handleEvent=function(t){var r=this.snapTo(t.pixel,t.coordinate,t.map);return r.snapped&&(t.coordinate=r.vertex.slice(0,2),t.pixel=r.vertexPixel),e.prototype.handleEvent.call(this,t)},t.prototype.handleFeatureAdd_=function(e){var t=v(e);this.addFeature(t)},t.prototype.handleFeatureRemove_=function(e){var t=v(e);this.removeFeature(t)},t.prototype.handleFeatureChange_=function(e){var t=e.target;if(this.handlingDownUpSequence){var r=f.getUid(t);r in this.pendingFeatures_||(this.pendingFeatures_[r]=t)}else this.updateFeature_(t)},t.prototype.handleUpEvent=function(e){var t=g.getValues(this.pendingFeatures_);return t.length&&(t.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},t.prototype.removeFeature=function(e,t){var r=void 0===t||t,i=f.getUid(e),n=this.indexedFeaturesExtents_[i];if(n){var o=this.rBush_,a=[];o.forEachInExtent(n,(function(t){e===t.feature&&a.push(t)}));for(var s=a.length-1;s>=0;--s)o.remove(a[s])}r&&(_.unlistenByKey(this.featureChangeListenerKeys_[i]),delete this.featureChangeListenerKeys_[i])},t.prototype.setMap=function(t){var r=this.getMap(),n=this.featuresListenerKeys_,o=this.getFeatures_();r&&(n.forEach(_.unlistenByKey),n.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),e.prototype.setMap.call(this,t),t&&(this.features_?n.push(_.listen(this.features_,i.default.ADD,this.handleFeatureAdd_,this),_.listen(this.features_,i.default.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push(_.listen(this.source_,l.default.ADDFEATURE,this.handleFeatureAdd_,this),_.listen(this.source_,l.default.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},t.prototype.snapTo=function(e,t,r){var i=r.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),n=r.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),a=c.boundingExtent([i,n]),s=this.rBush_.getInExtent(a);this.vertex_&&!this.edge_&&(s=s.filter((function(e){return e.feature.getGeometry().getType()!==o.default.CIRCLE})));var l=!1,u=null,d=null;if(0===s.length)return{snapped:l,vertex:u,vertexPixel:d};for(var f,g=r.getView().getProjection(),_=h.fromUserCoordinate(t,g),m=1/0,v=0;v<s.length;++v){var x=s[v];y[0]=h.fromUserCoordinate(x.segment[0],g),y[1]=h.fromUserCoordinate(x.segment[1],g);var b=p.squaredDistanceToSegment(_,y);b<m&&(f=x,m=b)}var w=f.segment;if(this.vertex_&&!this.edge_){var R=r.getPixelFromCoordinate(w[0]),$=r.getPixelFromCoordinate(w[1]),C=p.squaredDistance(e,R),S=p.squaredDistance(e,$);Math.sqrt(Math.min(C,S))<=this.pixelTolerance_&&(l=!0,u=C>S?w[1]:w[0],d=r.getPixelFromCoordinate(u))}else if(this.edge_){var E=f.feature.getGeometry().getType()===o.default.CIRCLE;if(E){var q=f.feature.getGeometry(),T=h.getUserProjection();T&&(q=q.clone().transform(T,g)),u=h.toUserCoordinate(p.closestOnCircle(_,q),g)}else y[0]=h.fromUserCoordinate(w[0],g),y[1]=h.fromUserCoordinate(w[1],g),u=h.toUserCoordinate(p.closestOnSegment(_,y),g);if(d=r.getPixelFromCoordinate(u),p.distance(e,d)<=this.pixelTolerance_&&(l=!0,this.vertex_&&!E)){R=r.getPixelFromCoordinate(w[0]),$=r.getPixelFromCoordinate(w[1]),C=p.squaredDistance(d,R),S=p.squaredDistance(d,$);Math.sqrt(Math.min(C,S))<=this.pixelTolerance_&&(u=C>S?w[1]:w[0],d=r.getPixelFromCoordinate(u))}}return l&&(d=[Math.round(d[0]),Math.round(d[1])]),{snapped:l,vertex:u,vertexPixel:d}},t.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},t.prototype.writeCircleGeometry_=function(e,t){var r=this.getMap().getView().getProjection(),i=t,n=h.getUserProjection();n&&(i=i.clone().transform(n,r));var o=d.fromCircle(i);n&&o.transform(r,n);for(var a=o.getCoordinates()[0],s=0,l=a.length-1;s<l;++s){var u=a.slice(s,s+2),p={feature:e,segment:u};this.rBush_.insert(c.boundingExtent(u),p)}},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),i=0;i<r.length;++i){var n=this.SEGMENT_WRITERS_[r[i].getType()];n&&n(e,r[i])}},t.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),a={feature:e,segment:o};this.rBush_.insert(c.boundingExtent(o),a)}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,segment:l};this.rBush_.insert(c.boundingExtent(l),u)}},t.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],a={feature:e,segment:[o,o]};this.rBush_.insert(t.getExtent(),a)}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,p=l.length-1;u<p;++u){var d=l.slice(u,u+2),h={feature:e,segment:d};this.rBush_.insert(c.boundingExtent(d),h)}},t.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),i={feature:e,segment:[r,r]};this.rBush_.insert(t.getExtent(),i)},t.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,segment:l};this.rBush_.insert(c.boundingExtent(l),u)}},t}(a.default)})),parcelRequire.register("3EOAW",(function(e,t){$parcel$export(e.exports,"modifiedVertexValues",(function(){return a})),$parcel$export(e.exports,"displayVertices",(function(){return s})),$parcel$export(e.exports,"redrawFeatures",(function(){return l})),$parcel$export(e.exports,"_checkdeletable",(function(){return u})),$parcel$export(e.exports,"_checkEditable",(function(){return c})),$parcel$export(e.exports,"_addNodeCheck",(function(){return p}));var r=parcelRequire("iKbY7"),n=parcelRequire("l6bvx"),o=parcelRequire("1QtZq");const a=function(e,t){let r,i,o,a,s,l=new n.default([]);e.newNodeCheck.ok?a=t.mapBrowserEvent.coordinate.join():(l.setCoordinates(t.features.getArray()[0].getGeometry().getCoordinates()),a=l.getClosestPoint(t.mapBrowserEvent.coordinate).join()),e.lineVertex=[],e.polyVertex=[];for(let n of t.features.getArray())if(e.selectedRecords.forEach((e=>{e.boundaries.forEach((e=>{e.bnd_id==n.get("ogc_id")&&9!=e.status&&(s=e.coords)}))})),r=s.findIndex((e=>e.join()==a)),i=n.get("ogc_id"),o=i.slice(0,i.length-2),e.lineVertex.push({bnd_id:i,idx:r}),r<0)e.polyVertex.push({su_id:o,idx:r});else{let t=e.selectedRecords.find((e=>e.details.id==o)),i=-1;r=t.coords.findIndex((e=>e.join()==a&&9!=t.status[i])),e.polyVertex.push({su_id:o,idx:r})}},s=function(e,t,i){let a=new n.default([]);for(let e of t.getGeometry().getCoordinates())a.appendPoint(new o.default([e[0],e[1]]));if(i)e.verticesLayer.getSource().getFeatureById(i).setGeometry(a);else{let i=new r.default({geometry:a,ogc_id:t.getProperties().ogc_id});i.setId(t.getProperties().ogc_id),e.verticesLayer.getSource().addFeature(i)}},l=function(e,t){if(!e.undoAction){let r,n,o,a,l=t.target.get("ogc_id"),u=t.target.get("su_id"),c=e.selection.getFeatures().getArray().find((e=>e.get("ogc_id")==u)).getGeometry(),p=e.selectedRecords.find((e=>e.details.id==u));if(r=e.lineVertex.find((e=>e.bnd_id==l)).idx,r>=0)if(n=e.polyVertex.find((e=>e.su_id==u)).idx,e.delVertex)p.status[n]=9,bndRecord=p.boundaries.find((e=>e.bnd_id==l)),bndRecord.status[r]=9;else{if(o=t.target.getGeometry().getCoordinates()[r],p.coords[n]=o,p.status[n]=p.status[n]<=1?1:2,0==n){let e=p.coords.length-1;p.coords[e]=o}bndRecord=p.boundaries.find((e=>e.bnd_id==l)),bndRecord.coords[r]=o,bndRecord.status[r]=bndRecord.status[r]<=1?1:2}else{let i=e.splitSegment.find((e=>e.bnd_id==l));r=i.idx+1,e.lineVertex.find((e=>e.bnd_id==l)).idx=r,n=i.jdx+1,e.polyVertex.find((e=>e.su_id==u)).idx=n,o=t.target.getGeometry().getCoordinates()[r],p.coords.splice(n,0,o),p.status.splice(n,0,2),p.editable.splice(n,0,!0),p.points.splice(n,0,{pto:null,num_pto:null,label:"T",count:e.featureSet.length,wgscoords:[],pto_list:null}),bndRecord=p.boundaries.find((e=>e.bnd_id==l)),bndRecord.coords.splice(r,0,o),bndRecord.status.splice(r,0,2)}for(i in a=new Array,p.coords)9!=p.status[i]&&a.push(p.coords[i]);c.setCoordinates([a]),s(e,t.target,l)}},u=function(e,t){let r=!1,i=t.coordinate_;for(record of e.selectedRecords)if(idx=record.coords.findIndex((e=>e.join()==i.join())),idx>=0){r="A"!=record.points[idx].label;break}return r},c=function(e,t){let r,i=!1;for(let n of e.selectedRecords)if(r=n.coords.findIndex((e=>e.join()==t.join())),r>=0){i=n.editable[r];break}return{ok:i,idx:r}},p=function(e,t){if(!e.newNodeCheck.checked){let r,i,n,o,a,s,l,u,c,p,d,h,f=t.coordinate,g=!1;e.splitSegment=[];for(let t of e.featureSet)r=0,i=t.get("ogc_id"),n=e.selectedRecords.find((e=>e.details.id==i.slice(0,i.length-2))).coords,t.getGeometry().forEachSegment(((e,t)=>{if(a=e[0],l=e[1],s=t[0],u=t[1],c=f[0],p=f[1],d=(p-l)/(c-a),h=(u-p)/(s-c),d=Math.trunc(100*d)/100,h=Math.trunc(100*h)/100,a=Math.min(e[0],t[0]),s=Math.max(e[0],t[0]),l=Math.min(e[1],t[1]),u=Math.max(e[1],t[1]),f[0]>=a&&f[0]<=s&&f[1]>=l&&f[1]<=u&&d==h)return o=n.findIndex((t=>t.join()==e.join())),!0;r++})),e.splitSegment.push({bnd_id:i,idx:r,jdx:o}),(2==e.featureSet.length||""==t.get("status"))&&(g=!0);e.newNodeCheck={checked:!0,ok:g}}}})),parcelRequire.register("uNfTl",(function(e,t){$parcel$export(e.exports,"AddPartyWindow",(function(){return a}));var r=parcelRequire("2jgRH"),i=parcelRequire("gOcIe");const n=new Date((new Date).getFullYear()-18,(new Date).getMonth(),(new Date).getDate()),o={view:"form",id:"edt:party_form",borderless:!0,elementsConfig:{labelWidth:120,required:!0,labelPosition:"top",invalidMessage:__("This field cannot be empty"),bottomPadding:10,css:"disabled-input",on:{onChange:function(){this.validate()}}},rules:{"apf-phone_number":e=>!e||webix.rules.isNumber(e)},elements:[{margin:15,rows:[{margin:10,cols:[{width:300,rows:[{view:"text",id:"apf-first_name",name:"apf-first_name",label:__("First Name"),placeholder:__("First Name")},{view:"text",id:"apf-last_name",name:"apf-last_name",label:__("Last Name"),placeholder:__("Last Name")},{view:"datepicker",id:"apf-date_of_birth",name:"apf-date_of_birth",label:__("Date of Birth"),placeholder:__("Date of Birth"),timepicker:!1,stringResult:!0,format:"%d-%M-%Y",suggest:{type:"calendar",body:{date:n,maxDate:n}}},{view:"text",id:"apf-id_number",name:"apf-id_number",label:__("ID Number"),editor:"text",validate:webix.rules.isNumber,placeholder:__("ID Number"),invalidMessage:__("This field must be a number")},{view:"richselect",id:"apf-gender",name:"apf-gender",label:__("Gender"),placeholder:__("Gender"),options:[{id:2,value:r.Codelist("gender",2)},{id:1,value:r.Codelist("gender",1)}]},{view:"text",id:"apf-phone_number",name:"apf-phone_number",label:__("Phone Number"),placeholder:__("Phone Number"),required:!1,bottomPadding:5,invalidMessage:__("This field must be a number")}]}]}]}]},a=webix.ui({view:"window",id:"edt:addparty_window",modal:!0,position:function(e){e.left=80,e.top=120},head:{view:"toolbar",css:"webix_dark",cols:[{view:"label",label:__("Add Party"),align:"center"}]},body:{rows:[o,{view:"toolbar",cols:[{},{view:"button",label:__("OK"),click:function(){this.getTopParentView().getBody().getChildViews()[0].validate()?(i.EditorCtrl.onAddParty(),this.getTopParentView().getBody().getChildViews()[0].clear(),this.getTopParentView().getBody().getChildViews()[0].clearValidation()):webix.alert({title:"Message",text:__("The form is not valid!!!"),ok:"Continue"})}},{view:"button",label:__("Cancel"),click:function(){this.getTopParentView().getBody().getChildViews()[0].clear(),this.getTopParentView().getBody().getChildViews()[0].clearValidation(),this.getTopParentView().hide(),0==i.EditorCtrl.newParties.length&&i.EditorCtrl.selection.setActive(!0)}},{}]}]}})})),parcelRequire.register("fS3yo",(function(e,t){$parcel$export(e.exports,"InquieriesView",(function(){return n}));var r=parcelRequire("6JlWD"),i=parcelRequire("2jgRH");__("ID Number"),__("Date of Birth"),__("Civil Status"),__("Telephone Number"),__("Housing Subsidy"),__("Owns Other Properties");var n={id:"inquieries-cnt",rows:[{view:"multiview",id:"inq:container",animate:!1,cells:[{id:"inq:list",rows:[{view:"toolbar",elements:[{},{view:"text",id:"inq:search",width:450,labelWidth:150,labelAlign:"right",label:__("Cadastral Identifier")+":",placeholder:__("Search..."),css:"dropdown",suggest:{id:"inq:search_list",textValue:"physical_id",body:{template:"#physical_id# &rarr; #count#x ",dataFeed:"api/inquieries/search/?"+appdata.querystring,on:{onItemClick:e=>{$$("inq:su_grid").clearAll(),r.InquieriesCtrl.onRecordsLoad(e)}}}},on:{onKeyPress:()=>{$$("inq:su_grid").clearAll()},onFocus:function(){this.getInputNode().select()},onItemClick:function(){$$(this.config.suggest).config.master=this,$$(this.config.suggest).show(this.$view.getElementsByTagName("input")[0])}}},{}]},{height:5},{id:"inq:su_grid",view:"datatable",select:"row",css:"webix_header_border",footer:!0,columns:[{id:"inq:grid_index",header:"",width:40,css:{"text-align":"right","font-weight":"bold",background:"#f7f7f7"}},{id:"inq:grid_oid",header:{text:__("ID"),css:{"text-align":"center"}},map:"objectid",width:60,sort:"int",css:{"text-align":"center"}},{id:"inq:grid_label",header:__("Address/Label"),map:"spatialunit_name",sort:"string",width:200,template:e=>null==e.spatialunit_name?"":e.spatialunit_name,footer:{text:__("Filter")+":",css:{"text-align":"right","font-weight":"normal"}}},{id:"inq:grid_party",header:__("Parties"),map:"parties",fillspace:!0,template:e=>e.parties.join("&nbsp;&nbsp;|&nbsp;&nbsp;"),footer:[{content:"textFilter"}]},{id:"inq:grid_right",header:__("Right Type"),map:"right_type",width:180,template:e=>i.Codelist("righttype",e.right_type)}],on:{"data->onStoreUpdated":function(){this.data.each(((e,t)=>{e["inq:grid_index"]=t+1}))},onItemDblClick:e=>{r.InquieriesCtrl.showReport(e.row)}}}]},{id:"inq:report",rows:[{view:"toolbar",elements:[{view:"label",label:"&nbsp;"+__("Report")},{},{view:"toggle",offLabel:__("Focus Map"),onLabel:__("Restore Form"),width:150,click:e=>{0==$$(e).getValue()?($$("inq:rightcol").hide(),$$("inq:details_form").hide()):($$("inq:rightcol").show(),$$("inq:details_form").show())}},{view:"button",value:__("New Search"),width:150,click:()=>{$$("inq:container").setValue("inq:list")}}]},{cols:[{id:"inq:leftcol",gravity:2,rows:[{view:"navmap",id:"inq:navmap",basemapURL:appdata.basemap},{height:5},{view:"form",id:"inq:details_form",type:"clean",padding:{right:5,left:10,top:5,bottom:5},elementsConfig:{labelWidth:130,height:25,readonly:!0,labelAlign:"right"},elements:[{view:"text",label:__("Physical ID")+":",name:"inq:details_physicalid",id:"inq:details_physicalid"},{view:"text",label:__("Address/Label")+":",name:"inq:details_label",id:"inq:details_label"},{view:"text",label:__("Spatialunit Type")+":",name:"inq:details_spatialunittype",id:"inq:details_spatialunittype",bottomPadding:12},{view:"text",label:__("Area aprox.")+':<sup class="srid">*</sup>',css:"srid_value",name:"inq:details_area",id:"inq:details_area",tooltip:()=>appdata.sridTooltip},{view:"text",label:__("Legal ID")+":",name:"inq:details_legalid",id:"inq:details_legalid"},{view:"text",label:__("Right Type")+":",name:"inq:details_righttype",id:"inq:details_righttype"},{view:"text",label:__("Valid Since")+":",name:"inq:details_vaidsince",id:"inq:details_validsince"},{view:"text",label:__("Source")+":",bottomPadding:12,name:"inq:details_rightsource",id:"inq:details_rightsourcee"},{view:"textarea",height:70,label:__("Notes")+":",name:"inq:details_notes",id:"inq:details_notes"}]}]},{width:5},{view:"accordion",id:"inq:rightcol",gravity:3,rows:[{header:__("Party Attachments"),body:{view:"scrollview",body:{type:"clean",rows:[{},{type:"form",id:"inq:party_cnt",rows:[]},{}]}}},{header:__("Right Attachments"),id:"inq:rights_accordionitem",collapsed:!0,body:{cols:[{width:150,view:"dataview",id:"inq:rightAtt_idx",template:e=>'<img src="'+e.src+'" alt="'+e.alt+'" zoomable="false" rotation="0" class="attachments_list rotate-0" ondragstart="return false"/>',select:!0,type:{width:140,height:100},data:[],on:{onItemClick:e=>{$$(e).show()}}},{view:"carousel",id:"inq:rightAtt_carrousel",animate:!1,navigation:{items:!1,buttons:!1},cols:[{data:{src:"images/blank.gif",alt:""}}]}]}}]}]}]}]}],on:{onViewShow:()=>r.InquieriesCtrl.onViewShow()},getController:()=>r.InquieriesCtrl}})),parcelRequire.register("6JlWD",(function(e,t){$parcel$export(e.exports,"InquieriesCtrl",(function(){return h}));var r=parcelRequire("2jgRH"),i=parcelRequire("2yt6N"),n=parcelRequire("8ibmv"),o=parcelRequire("lKaPI"),a=parcelRequire("jYTea"),s=parcelRequire("6YHhF"),l=parcelRequire("f2OU0"),u=parcelRequire("l95NQ"),c=parcelRequire("dCXQG"),p=parcelRequire("geRS1"),d=parcelRequire("ae17k"),h={navMap:null,mapRendered:!1,mosaicLayer:null,spatialunitLayer:null,neighboursLayer:null,refreshView:!0,switchBasemap:!1,createPartyElement:(e,t)=>{let i=new Array;if(t.length>0)for(let e of t)i.push({width:500,borderless:!0,css:"party_attachment_cnt",data:{type:"",class:"party",src:"api/attachment/?"+appdata.querystring+"&att_class=party&global_id="+e.image_id,alt:e.image_id},template:n.attachmentTemplate,css:"party_attachment_cnt"});return{rows:[{height:12,borderless:!0},{view:"template",type:"header",css:{background:"aliceblue"},template:e.full_name},{cols:[{width:200,view:"form",elementsConfig:{labelPosition:"top",readonly:!0},elements:[{view:"text",label:__("ID Number")+":",format:"1,111",value:e.id_number},{view:"text",label:__("Date of Birth")+":",value:n.dateFormat_dMY(e.date_of_birth)},{view:"text",label:__("Civil Status")+":",value:r.Codelist("civilstatus",e.civil_status)},{view:"text",label:__("Telephone Number")+":",value:0!=e.phone_number?e.phone_number:""},{view:"text",label:__("Housing Subsidy")+":",value:1==e.housing_subsidy?__("Yes"):__("No")},{view:"text",label:__("Owns Other Properties")+":",value:1==e.other_ownership_rights?__("Yes"):__("No")}]},{view:"scrollview",scroll:"x",body:{type:"form",cols:i}}]},{height:12,borderless:!0}]}},onRecordsLoad:e=>{let t={id_list:$$("inq:search_list").getList().getItem(e).oids.toString()};webix.ajax().get("api/inquieries/list/",{...appdata.dbparams,...t}).then((function(e){if(e.json().success){let t=e.json().spatialunits;$$("inq:su_grid").parse(t)}else SettingsCtrl.onConnectionError(),n.showErrorMsg(null,e.json().message)}),(e=>{n.showErrorMsg(e,"")}))},initMap:function(e){this.navMap=e,this.mosaicLayer=new o.default({source:new a.default,title:"Mosaic",name:"mosaic",switcher:!0,visible:!1}),this.navMap.addLayer(this.mosaicLayer),this.neighboursLayer=new s.default({source:new l.default,title:"Neighbours",name:"neighbours",switcher:!1,style:i.mapStyle.neighbourWithId()}),this.navMap.addLayer(this.neighboursLayer),this.spatialunitLayer=new s.default({source:new l.default,title:"Spatialunits",name:"spatialunits",switcher:!1,style:i.mapStyle.spatialunitWithLabel(null)}),this.navMap.addLayer(this.spatialunitLayer),this.hoverInteraction=new u.default({layers:[this.spatialunitLayer,this.neighboursLayer],condition:d.pointerMove,style:i.mapStyle.inquieriesHover(!1)}),this.navMap.addInteraction(this.hoverInteraction),webix.event("inq:navmap_div","mouseout",(()=>{h.hoverInteraction.getFeatures().clear()})),appdata.mosaic&&(this.mosaicLayer.setSource(new a.default({url:appdata.wmsUrl,params:{LAYERS:"mosaic",TILED:!0,MOSAIC:"mosaic_"+appdata.dbparams.database.toLowerCase()}})),this.mosaicLayer.setVisible(!0)),this.mapRendered=!0},onViewShow:function(){this.switchBasemap&&($$("inq:navmap").navMap.setBasemap(appdata.basemap),this.switchBasemap=!1),this.refreshView&&(this.mapRendered&&(this.spatialunitLayer.getSource().clear(),this.neighboursLayer.getSource().clear(),this.hoverInteraction.getFeatures().clear()),$$("inq:su_grid").clearAll(),$$("inq:search").setValue(null),$$("inq:search_list").getList().clearAll(),$$("inq:container").setValue("inq:list"),this.refreshView=!1)},showReport:function(e){let t={objectid:$$("inq:su_grid").getItem(e).objectid,srid:appdata.srid};webix.ajax().get("api/inquieries/report/",{...appdata.dbparams,...t}).then((function(e){if(e.json().success){$$("inq:container").setValue("inq:report"),h.mapRendered||h.initMap($$("inq:navmap").navMap);let s=e.json();webix.ui([],$$("inq:party_cnt"));for(let e of s.parties){let t=new Array;s.party_attachments.forEach((r=>{r.id_number==e.id_number&&t.push(r)})),$$("inq:party_cnt").addView(h.createPartyElement(e,t))}var i=new Array,o=new Array;for(let e of s.right_attachments)i.push({id:e.image_id,alt:e.image_id,src:"api/attachment/?"+appdata.querystring+"&att_class=right&global_id="+e.image_id}),o.push({id:e.image_id,data:{class:"right",alt:e.image_id,src:"api/attachment/?"+appdata.querystring+"&att_class=right&global_id="+e.image_id},template:n.attachmentTemplateExt});i.length>0&&($$("inq:rightAtt_idx").clearAll(),$$("inq:rightAtt_idx").parse(i),$$("inq:rightAtt_idx").select(i[0].id),webix.ui(o,$$("inq:rightAtt_carrousel")));let u=s.su_details,d=(new c.default).readFeature(u.geometry);d.setProperties({ogc_id:t.objectid.toString(),physical_id:u.physical_id}),h.spatialunitLayer.getSource().clear(),h.spatialunitLayer.getSource().addFeature(d);var a=h.spatialunitLayer.getSource().getExtent();h.navMap.getView().setCenter(p.getCenter(a)),h.navMap.getView().fit(a,h.navMap.getSize()),h.navMap.getView().setZoom(h.navMap.getView().getZoom()-1),h.neighboursLayer.setSource(new l.default({format:new c.default,url:appdata.wfsUrl+"&typename=ffp:neighbours&SUIDS="+s.neighbours.list}));let f=Number(u.area_m2)<9e3?u.area_m2+" m²":(Number(u.area_m2)/1e4).toFixed(1)+" has";$$("inq:details_form").setValues({"inq:details_physicalid":u.physical_id?u.physical_id.join(", "):"","inq:details_label":null==u.address?__("---"):u.address,"inq:details_spatialunittype":u.spatialunit_type,"inq:details_area":f,"inq:details_legalid":u.legal_id,"inq:details_righttype":r.Codelist("righttype",s.right[0].right_type),"inq:details_vaidsince":n.dateFormat_dMY(s.right[0].valid_since),"inq:details_rightsource":r.Codelist("rightsource",s.right[0].right_source),"inq:details_notes":s.right[0].notes})}else SettingsCtrl.onConnectionError(),n.showErrorMsg(null,e.json().message)}),(e=>{n.showErrorMsg(e,"")}))}}})),parcelRequire.register("5VE0i",(function(e,t){var r=parcelRequire("ikdCp"),i=parcelRequire("63IfN"),n=parcelRequire("33OvO"),o=parcelRequire("lKaPI"),a=parcelRequire("fDnLQ"),s=parcelRequire("cR5xV"),l=parcelRequire("akCpq");parcelRequire("idLDx");var u=parcelRequire("4POnq");webix.protoUI({name:"d3box",resizeFunction:function(){},$init:function(){},$setSize:function(e,t){webix.ui.template.prototype.$setSize.call(this,e,t),this.resizeFunction()}},webix.ui.template),webix.protoUI({name:"navmap",navMap:null,defaults:{center:s.transform([-15,25],"EPSG:4326","EPSG:3857"),zoom:3,basemapURL:"none",ctrl:null,readyfn:null,on:{onAfterRender:function(){var e=this.config.id;this.navMap=new i.default({view:new n.default({center:this.config.center,zoom:this.config.zoom}),target:e+"_div",layers:[new o.default({source:new a.default({url:r.basemapURLs[this.config.basemapURL]}),title:"Base Map",switcher:!1,name:"basemap"})]}),this.navMap.setBasemap=function(e){var t=this.getLayers().getArray()[0];"none"==e?t.setSource():t.setSource(new a.default({url:r.basemapURLs[e]}))},webix.ui({view:"window",id:e+"-mouseposition",css:"mouseposition_window",position:"center",head:!1,height:20,width:210,container:e+"_div",body:{view:"label",css:"mouseposition_text",label:`<div id="${e}-mouseposition_div"></div>`,align:"center"},position:function(e){e.top=50}}).show();var t=new u.default({coordinateFormat:function(e){return l.toStringHDMS(e,2)},projection:"EPSG:4326",target:document.getElementById(`${e}-mouseposition_div`),undefinedHTML:"&nbsp;"});this.navMap.addControl(t),$$(e+"-mouseposition").hide(),webix.event(e+"_div","mouseout",(function(t){$$(e+"-mouseposition").hide()})),webix.event(e+"_div","mouseover",(function(t){let r=$$(e).getNode(),i=r.getBoundingClientRect();i.y>30&&$$(e+"-mouseposition").show(r,{pos:"top",x:-50+Math.round(i.width/2-105),y:-10})})),this.config.readyfn&&(this.config.ctrl?this.config.ctrl[this.config.readyfn](this.navMap):console.log(`No controller available on map view '${this.config.id}'`))}}},$init:function(e){this.$view.innerHTML='<div style="width:100%; height:100%" id="'+e.id+'_div"></div>'},$setSize:function(e,t){webix.ui.template.prototype.$setSize.call(this,e,t),this.navMap&&this.navMap.updateSize()}},webix.ui.template)})),parcelRequire.register("63IfN",(function(e,t){$parcel$export(e.exports,"default",(function(){return u}),(function(e){return u=e}));var r,i=parcelRequire("e5CSG"),n=parcelRequire("i7Bvk"),o=parcelRequire("lOEcB"),a=parcelRequire("idLDx"),s=parcelRequire("2I4BS"),l=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(t){return(t=o.assign({},t)).controls||(t.controls=a.defaults()),t.interactions||(t.interactions=s.defaults({onFocusOnly:!0})),e.call(this,t)||this}return l(t,e),t.prototype.createRenderer=function(){return new i.default(this)},t}(n.default)})),parcelRequire.register("e5CSG",(function(e,t){$parcel$export(e.exports,"default",(function(){return f}),(function(e){return f=e}));var r,i=parcelRequire("gaNHF"),n=parcelRequire("jlqXC"),o=parcelRequire("3TxrO"),a=parcelRequire("5ipJe"),s=parcelRequire("kJINA"),l=parcelRequire("889Bv"),u=parcelRequire("kHyfN"),c=parcelRequire("khniA"),p=parcelRequire("9eKdp"),d=parcelRequire("1Rvcq"),h=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),f=function(e){function t(t){var r=e.call(this,t)||this;r.fontChangeListenerKey_=p.listen(u.checkedFonts,n.default.PROPERTYCHANGE,t.redrawText.bind(t)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=l.CLASS_UNSELECTABLE+" ol-layers";var o=t.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return h(t,e),t.prototype.dispatchRenderEvent=function(e,t){var r=this.getMap();if(r.hasListener(e)){var i=new o.default(e,void 0,t);r.dispatchEvent(i)}},t.prototype.disposeInternal=function(){p.unlistenByKey(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(a.default.PRECOMPOSE,e);var t=e.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),r=e.viewState;this.children_.length=0;for(var i=[],n=null,o=0,l=t.length;o<l;++o){var u=t[o];if(e.layerIndex=o,c.inView(u,r)&&(u.sourceState==s.default.READY||u.sourceState==s.default.UNDEFINED)){var p=u.layer,h=p.render(e,n);h&&(h!==n&&(this.children_.push(h),n=h),"getDeclutter"in p&&i.push(p))}}for(o=i.length-1;o>=0;--o)i[o].renderDeclutter(e);d.replaceChildren(this.element_,this.children_),this.dispatchRenderEvent(a.default.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},t.prototype.forEachLayerAtPixel=function(e,t,r,i,n){for(var o=t.viewState,a=t.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],u=l.layer;if(u.hasRenderer()&&c.inView(l,o)&&n(u)){var p=u.getRenderer().getDataAtPixel(e,t,r);if(p){var d=i(u,p);if(d)return d}}}},t}(i.default)})),parcelRequire.register("gaNHF",(function(e,t){$parcel$export(e.exports,"default",(function(){return h}),(function(e){return h=e}));var r,i=parcelRequire("lXwX1"),n=parcelRequire("c0LdP"),o=parcelRequire("b3vZc"),a=parcelRequire("lXQa3"),s=parcelRequire("geRS1"),l=parcelRequire("jtRWe"),u=parcelRequire("khniA"),c=parcelRequire("akCpq"),p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function d(e,t){l.shared.expire()}var h=function(e){function t(t){var r=e.call(this)||this;return r.map_=t,r}return p(t,e),t.prototype.dispatchRenderEvent=function(e,t){o.abstract()},t.prototype.calculateMatrices2D=function(e){var t=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;a.compose(r,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),a.makeInverse(i,r)},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,i,n,o,a,l){var p,d=t.viewState;function h(e,t,r,i){return n.call(o,t,e?r:null,i)}var f=d.projection,g=c.wrapX(e.slice(),f),_=[[0,0]];if(f.canWrapX()&&i){var m=f.getExtent(),v=s.getWidth(m);_.push([-v,0],[v,0])}for(var y=t.layerStatesArray,x=y.length,b=[],w=[],R=0;R<_.length;R++)for(var $=x-1;$>=0;--$){var C=y[$],S=C.layer;if(S.hasRenderer()&&u.inView(C,d)&&a.call(l,S)){var E=S.getRenderer(),q=S.getSource();if(E&&q){var T=q.getWrapX()?g:e,I=h.bind(null,C.managed);w[0]=T[0]+_[R][0],w[1]=T[1]+_[R][1],p=E.forEachFeatureAtCoordinate(w,t,r,I,b)}if(p)return p}}if(0!==b.length){var L=1/b.length;return b.forEach((function(e,t){return e.distanceSq+=t*L})),b.sort((function(e,t){return e.distanceSq-t.distanceSq})),b.some((function(e){return p=e.callback(e.feature,e.layer,e.geometry)})),p}},t.prototype.forEachLayerAtPixel=function(e,t,r,i,n){return o.abstract()},t.prototype.hasFeatureAtCoordinate=function(e,t,r,i,o,a){return void 0!==this.forEachFeatureAtCoordinate(e,t,r,i,n.TRUE,this,o,a)},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(e){o.abstract()},t.prototype.scheduleExpireIconCache=function(e){l.shared.canExpireCache()&&e.postRenderFunctions.push(d)},t}(i.default)})),parcelRequire.register("i7Bvk",(function(e,t){$parcel$export(e.exports,"default",(function(){return P}),(function(e){return P=e}));var r,i=parcelRequire("5qZl6"),n=parcelRequire("5kGze"),o=parcelRequire("aByjX"),a=parcelRequire("7Ry8n"),s=parcelRequire("khniA"),l=parcelRequire("aYm4n"),u=parcelRequire("2ay3l"),c=parcelRequire("71o3L"),p=parcelRequire("f7B01"),d=parcelRequire("6CFQG"),h=parcelRequire("k0Xgc"),f=parcelRequire("iTvh4"),g=parcelRequire("jlqXC"),_=parcelRequire("6FTUl"),m=parcelRequire("5ipJe"),v=parcelRequire("535ia"),y=parcelRequire("33OvO"),x=parcelRequire("lXvet"),b=parcelRequire("anhQL"),w=parcelRequire("c0LdP"),R=parcelRequire("lXQa3"),$=parcelRequire("59Hdm"),C=parcelRequire("geRS1"),S=parcelRequire("cR5xV"),E=parcelRequire("b3vZc"),q=parcelRequire("3R7f8"),T=parcelRequire("9eKdp"),I=parcelRequire("1Rvcq"),L=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function A(e){e instanceof s.default?e.setMapInternal(null):e instanceof l.default&&e.getLayers().forEach(A)}function O(e,t){if(e instanceof s.default)e.setMapInternal(t);else if(e instanceof l.default)for(var r=e.getLayers().getArray(),i=0,n=r.length;i<n;++i)O(r[i],t)}var P=function(e){function t(t){var r=e.call(this)||this;r.on,r.once,r.un;var i=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var r,i,o,a={},s=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new l.default({layers:e.layers});a[f.default.LAYERGROUP]=s,a[f.default.TARGET]=e.target,a[f.default.VIEW]=e.view instanceof y.default?e.view:new y.default,void 0!==e.controls&&(Array.isArray(e.controls)?r=new n.default(e.controls.slice()):($.assert("function"==typeof e.controls.getArray,47),r=e.controls));void 0!==e.interactions&&(Array.isArray(e.interactions)?i=new n.default(e.interactions.slice()):($.assert("function"==typeof e.interactions.getArray,48),i=e.interactions));void 0!==e.overlays?Array.isArray(e.overlays)?o=new n.default(e.overlays.slice()):($.assert("function"==typeof e.overlays.getArray,49),o=e.overlays):o=new n.default;return{controls:r,interactions:i,keyboardEventTarget:t,overlays:o,values:a}}(t);r.renderComplete_,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,r.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:b.DEVICE_PIXEL_RATIO,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=R.create(),r.pixelToCoordinateTransform_=R.create(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=t.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=i.controls||new n.default,r.interactions=i.interactions||new n.default,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new v.default(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(f.default.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(f.default.VIEW,r.handleViewChanged_),r.addChangeListener(f.default.SIZE,r.handleSizeChanged_),r.addChangeListener(f.default.TARGET,r.handleTargetChanged_),r.setProperties(i.values);var a=r;return!t.view||t.view instanceof y.default||t.view.then((function(e){a.setView(new y.default(e))})),r.controls.addEventListener(o.default.ADD,function(e){e.element.setMap(this)}.bind(r)),r.controls.addEventListener(o.default.REMOVE,function(e){e.element.setMap(null)}.bind(r)),r.interactions.addEventListener(o.default.ADD,function(e){e.element.setMap(this)}.bind(r)),r.interactions.addEventListener(o.default.REMOVE,function(e){e.element.setMap(null)}.bind(r)),r.overlays_.addEventListener(o.default.ADD,function(e){this.addOverlayInternal_(e.element)}.bind(r)),r.overlays_.addEventListener(o.default.REMOVE,function(e){var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)}.bind(r)),r.controls.forEach(function(e){e.setMap(this)}.bind(r)),r.interactions.forEach(function(e){e.setMap(this)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return L(t,e),t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(e){this.getControls().push(e)},t.prototype.addInteraction=function(e){this.getInteractions().push(e)},t.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},t.prototype.handleLayerAdd_=function(e){O(e.layer,this)},t.prototype.addOverlay=function(e){this.getOverlays().push(e)},t.prototype.addOverlayInternal_=function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},t.prototype.disposeInternal=function(){this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(e,t,r){if(this.frameState_){var i=this.getCoordinateFromPixelInternal(e),n=void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance:0,o=void 0!==r.layerFilter?r.layerFilter:w.TRUE,a=!1!==r.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,n,a,t,null,o,null)}},t.prototype.getFeaturesAtPixel=function(e,t){var r=[];return this.forEachFeatureAtPixel(e,(function(e){r.push(e)}),t),r},t.prototype.getAllLayers=function(){var e=[];return function t(r){r.forEach((function(r){r instanceof l.default?t(r.getLayers()):e.push(r)}))}(this.getLayers()),e},t.prototype.forEachLayerAtPixel=function(e,t,r){if(this.frameState_){var i=r||{},n=void 0!==i.hitTolerance?i.hitTolerance:0,o=i.layerFilter||w.TRUE;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,n,t,o)}},t.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_)return!1;var r=this.getCoordinateFromPixelInternal(e),i=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:w.TRUE,n=void 0!==t.hitTolerance?t.hitTolerance:0,o=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,n,o,i,null)},t.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},t.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},t.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),r="changedTouches"in e?e.changedTouches[0]:e;return[r.clientX-t.left,r.clientY-t.top]},t.prototype.getTarget=function(){return this.get(f.default.TARGET)},t.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},t.prototype.getCoordinateFromPixel=function(e){return S.toUserCoordinate(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(e){var t=this.frameState_;return t?R.apply(t.pixelToCoordinateTransform,e.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(f.default.LAYERGROUP)},t.prototype.setLayers=function(e){var t=this.getLayerGroup();if(e instanceof n.default)t.setLayers(e);else{var r=t.getLayers();r.clear(),r.extend(e)}},t.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},t.prototype.getLoading=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,r=e.length;t<r;++t){var i=e[t].layer.getSource();if(i&&i.loading)return!0}return!1},t.prototype.getPixelFromCoordinate=function(e){var t=S.fromUserCoordinate(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)},t.prototype.getPixelFromCoordinateInternal=function(e){var t=this.frameState_;return t?R.apply(t.coordinateToPixelTransform,e.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(f.default.SIZE)},t.prototype.getView=function(){return this.get(f.default.VIEW)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var e=this.getTargetElement();return e?e.ownerDocument:document},t.prototype.getTilePriority=function(e,t,r,i){return v.getTilePriority(this.frameState_,e,t,r,i)},t.prototype.handleBrowserEvent=function(e,t){var r=t||e.type,i=new u.default(r,this,e);this.handleMapBrowserEvent(i)},t.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){var t=e.originalEvent,r=t.type;if(r===_.default.POINTERDOWN||r===a.default.WHEEL||r===a.default.KEYDOWN){var i=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=t.target;if(this.overlayContainerStopEvent_.contains(o)||!(n===i?i.documentElement:n).contains(o))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var s=this.getInteractions().getArray().slice(),l=s.length-1;l>=0;l--){var u=s[l];if(u.getMap()===this&&u.getActive()&&this.getTargetElement())if(!u.handleEvent(e)||e.propagationStopped)break}}},t.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var r=this.maxTilesLoading_,i=r;if(e){var n=e.viewHints;if(n[x.default.ANIMATING]||n[x.default.INTERACTING]){var o=Date.now()-e.time>8;r=o?0:8,i=o?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,i))}e&&this.hasListener(m.default.RENDERCOMPLETE)&&!e.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(m.default.RENDERCOMPLETE,e);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,e);a.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)T.unlistenByKey(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(a.default.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(a.default.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,I.removeNode(this.viewport_)}var r=this.getTargetElement();if(r){for(var i in r.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new c.default(this,this.moveTolerance_),p.default)this.mapBrowserEventHandler_.addEventListener(p.default[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(a.default.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(a.default.WHEEL,this.boundHandleBrowserEvent_,!!b.PASSIVE_EVENT_LISTENERS&&{passive:!1});var n=this.getOwnerDocument().defaultView,o=this.keyboardEventTarget_?this.keyboardEventTarget_:r;this.targetChangeHandlerKeys_=[T.listen(o,a.default.KEYDOWN,this.handleBrowserEvent,this),T.listen(o,a.default.KEYPRESS,this.handleBrowserEvent,this),T.listen(n,a.default.RESIZE,this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(T.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(T.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=T.listen(e,g.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=T.listen(e,a.default.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(T.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new l.GroupEvent("addlayer",e)),this.layerGroupPropertyListenerKeys_=[T.listen(e,g.default.PROPERTYCHANGE,this.render,this),T.listen(e,a.default.CHANGE,this.render,this),T.listen(e,"addlayer",this.handleLayerAdd_,this),T.listen(e,"removelayer",this.handleLayerRemove_,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,r=e.length;t<r;++t){var i=e[t].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(e){return this.getControls().remove(e)},t.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},t.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},t.prototype.handleLayerRemove_=function(e){A(e.layer)},t.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},t.prototype.renderFrame_=function(e){var t=this,r=this.getSize(),i=this.getView(),n=this.frameState_,o=null;if(void 0!==r&&q.hasArea(r)&&i&&i.isDef()){var a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:C.getForViewAndSize(s.center,s.resolution,s.rotation,r),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{},mapId:E.getUid(this),renderTargets:{}},s.nextCenter&&s.nextResolution){var l=isNaN(s.nextRotation)?s.rotation:s.nextRotation;o.nextExtent=C.getForViewAndSize(s.nextCenter,s.nextResolution,l,r)}}if(this.frameState_=o,this.renderer_.renderFrame(o),o){if(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),n)(!this.previousExtent_||!C.isEmpty(this.previousExtent_)&&!C.equals(o.extent,this.previousExtent_))&&(this.dispatchEvent(new d.default(h.default.MOVESTART,this,n)),this.previousExtent_=C.createOrUpdateEmpty(this.previousExtent_));this.previousExtent_&&!o.viewHints[x.default.ANIMATING]&&!o.viewHints[x.default.INTERACTING]&&!C.equals(o.extent,this.previousExtent_)&&(this.dispatchEvent(new d.default(h.default.MOVEEND,this,o)),C.clone(o.extent,this.previousExtent_))}this.dispatchEvent(new d.default(h.default.POSTRENDER,this,o)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoading(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){t.postRenderTimeoutHandle_=void 0,t.handlePostRender()}),0))},t.prototype.setLayerGroup=function(e){var t=this.getLayerGroup();t&&this.handleLayerRemove_(new l.GroupEvent("removelayer",t)),this.set(f.default.LAYERGROUP,e)},t.prototype.setSize=function(e){this.set(f.default.SIZE,e)},t.prototype.setTarget=function(e){this.set(f.default.TARGET,e)},t.prototype.setView=function(e){if(!e||e instanceof y.default)this.set(f.default.VIEW,e);else{this.set(f.default.VIEW,new y.default);var t=this;e.then((function(e){t.setView(new y.default(e))}))}},t.prototype.updateSize=function(){var e=this.getTargetElement(),t=void 0;if(e){var r=getComputedStyle(e),i=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),n=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);isNaN(i)||isNaN(n)||(t=[i,n],!q.hasArea(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(t),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var t=void 0,r=getComputedStyle(this.viewport_);r.width&&r.height&&(t=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(t)}},t}(i.default)})),parcelRequire.register("aYm4n",(function(e,t){$parcel$export(e.exports,"GroupEvent",(function(){return _}),(function(e){return _=e})),$parcel$export(e.exports,"default",(function(){return v}),(function(e){return v=e}));var r,i=parcelRequire("fvy1U"),n=parcelRequire("5kGze"),o=parcelRequire("aByjX"),a=parcelRequire("jkZCX"),s=parcelRequire("7Ry8n"),l=parcelRequire("jlqXC"),u=parcelRequire("kJINA"),c=parcelRequire("59Hdm"),p=parcelRequire("lOEcB"),d=parcelRequire("geRS1"),h=parcelRequire("b3vZc"),f=parcelRequire("9eKdp"),g=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),_=function(e){function t(t,r){var i=e.call(this,t)||this;return i.layer=r,i}return g(t,e),t}(a.default),m="layers",v=function(e){function t(t){var r=this,i=t||{},o=p.assign({},i);delete o.layers;var a=i.layers;return(r=e.call(this,o)||this).on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(m,r.handleLayersChanged_),a?Array.isArray(a)?a=new n.default(a.slice(),{unique:!0}):c.assert("function"==typeof a.getArray,43):a=new n.default(void 0,{unique:!0}),r.setLayers(a),r}return g(t,e),t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(f.unlistenByKey),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push(f.listen(e,o.default.ADD,this.handleLayersAdd_,this),f.listen(e,o.default.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(f.unlistenByKey);p.clear(this.listenerKeys_);for(var r=e.getArray(),i=0,n=r.length;i<n;i++){var a=r[i];this.registerLayerListeners_(a),this.dispatchEvent(new _("addlayer",a))}this.changed()},t.prototype.registerLayerListeners_=function(e){var r=[f.listen(e,l.default.PROPERTYCHANGE,this.handleLayerChange_,this),f.listen(e,s.default.CHANGE,this.handleLayerChange_,this)];e instanceof t&&r.push(f.listen(e,"addlayer",this.handleLayerGroupAdd_,this),f.listen(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[h.getUid(e)]=r},t.prototype.handleLayerGroupAdd_=function(e){this.dispatchEvent(new _("addlayer",e.layer))},t.prototype.handleLayerGroupRemove_=function(e){this.dispatchEvent(new _("removelayer",e.layer))},t.prototype.handleLayersAdd_=function(e){var t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new _("addlayer",t)),this.changed()},t.prototype.handleLayersRemove_=function(e){var t=e.element,r=h.getUid(t);this.listenerKeys_[r].forEach(f.unlistenByKey),delete this.listenerKeys_[r],this.dispatchEvent(new _("removelayer",t)),this.changed()},t.prototype.getLayers=function(){return this.get(m)},t.prototype.setLayers=function(e){var t=this.getLayers();if(t)for(var r=t.getArray(),i=0,n=r.length;i<n;++i)this.dispatchEvent(new _("removelayer",r[i]));this.set(m,e)},t.prototype.getLayersArray=function(e){var t=void 0!==e?e:[];return this.getLayers().forEach((function(e){e.getLayersArray(t)})),t},t.prototype.getLayerStatesArray=function(e){var t=void 0!==e?e:[],r=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));var i=this.getLayerState(),n=i.zIndex;e||void 0!==i.zIndex||(n=0);for(var o=r,a=t.length;o<a;o++){var s=t[o];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),s.minZoom=Math.max(s.minZoom,i.minZoom),s.maxZoom=Math.min(s.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==s.extent?s.extent=d.getIntersection(s.extent,i.extent):s.extent=i.extent),void 0===s.zIndex&&(s.zIndex=n)}return t},t.prototype.getSourceState=function(){return u.default.READY},t}(i.default)})),parcelRequire.register("2ay3l",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}),(function(e){return o=e}));var r,i=parcelRequire("6CFQG"),n=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=function(e){function t(t,r,i,n,o){var a=e.call(this,t,r,o)||this;return a.originalEvent=i,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==n&&n,a}return n(t,e),Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(i.default)})),parcelRequire.register("6CFQG",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}),(function(e){return o=e}));var r,i=parcelRequire("jkZCX"),n=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=function(e){function t(t,r,i){var n=e.call(this,t)||this;return n.map=r,n.frameState=void 0!==i?i:null,n}return n(t,e),t}(i.default)})),parcelRequire.register("71o3L",(function(e,t){$parcel$export(e.exports,"default",(function(){return d}),(function(e){return d=e}));var r,i=parcelRequire("7Ry8n"),n=parcelRequire("2ay3l"),o=parcelRequire("f7B01"),a=parcelRequire("6FTUl"),s=parcelRequire("hJvy5"),l=parcelRequire("anhQL"),u=parcelRequire("c0LdP"),c=parcelRequire("9eKdp"),p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),d=function(e){function t(t,r){var n=e.call(this,t)||this;n.map_=t,n.clickTimeoutId_,n.emulateClicks_=!1,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=void 0===r?1:r,n.down_=null;var o=n.map_.getViewport();return n.activePointers_=0,n.trackedTouches_={},n.element_=o,n.pointerdownListenerKey_=c.listen(o,a.default.POINTERDOWN,n.handlePointerDown_,n),n.originalPointerMoveEvent_,n.relayedListenerKey_=c.listen(o,a.default.POINTERMOVE,n.relayEvent_,n),n.boundHandleTouchMove_=n.handleTouchMove_.bind(n),n.element_.addEventListener(i.default.TOUCHMOVE,n.boundHandleTouchMove_,!!l.PASSIVE_EVENT_LISTENERS&&{passive:!1}),n}return p(t,e),t.prototype.emulateClick_=function(e){var t=new n.default(o.default.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new n.default(o.default.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var t=new n.default(o.default.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250)},t.prototype.updateActivePointers_=function(e){var t=e;t.type==o.default.POINTERUP||t.type==o.default.POINTERCANCEL?delete this.trackedTouches_[t.pointerId]:t.type==o.default.POINTERDOWN&&(this.trackedTouches_[t.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},t.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var t=new n.default(o.default.POINTERUP,this.map_,e);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(c.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(e){return 0===e.button},t.prototype.handlePointerDown_=function(e){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(e);var t=new n.default(o.default.POINTERDOWN,this.map_,e);for(var r in this.dispatchEvent(t),this.down_={},e){var i=e[r];this.down_[r]="function"==typeof i?u.VOID:i}if(0===this.dragListenerKeys_.length){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(c.listen(a,o.default.POINTERMOVE,this.handlePointerMove_,this),c.listen(a,o.default.POINTERUP,this.handlePointerUp_,this),c.listen(this.element_,o.default.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(c.listen(this.element_.getRootNode(),o.default.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var t=new n.default(o.default.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(t)}},t.prototype.relayEvent_=function(e){this.originalPointerMoveEvent_=e;var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new n.default(e.type,this.map_,e,t))},t.prototype.handleTouchMove_=function(e){var t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()},t.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(c.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(i.default.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(c.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(c.unlistenByKey),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(s.default)})),parcelRequire.register("6FTUl",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}})),parcelRequire.register("iTvh4",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}})),parcelRequire.register("535ia",(function(e,t){$parcel$export(e.exports,"default",(function(){return s}),(function(e){return s=e})),$parcel$export(e.exports,"getTilePriority",(function(){return l}),(function(e){return l=e}));var r,i=parcelRequire("7Ry8n"),n=parcelRequire("5UFuy"),o=parcelRequire("99gaQ"),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=function(e){function t(t,r){var i=e.call(this,(function(e){return t.apply(null,e)}),(function(e){return e[0].getKey()}))||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return a(t,e),t.prototype.enqueue=function(t){var r=e.prototype.enqueue.call(this,t);r&&t[0].addEventListener(i.default.CHANGE,this.boundHandleTileChange_);return r},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(e){var t=e.target,r=t.getState();if(r===o.default.LOADED||r===o.default.ERROR||r===o.default.EMPTY){t.removeEventListener(i.default.CHANGE,this.boundHandleTileChange_);var n=t.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(e,t){for(var r,i,n=0;this.tilesLoading_<e&&n<t&&this.getCount()>0;)i=(r=this.dequeue()[0]).getKey(),r.getState()!==o.default.IDLE||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++n,r.load())},t}(n.default);function l(e,t,r,i,o){if(!e||!(r in e.wantedTiles))return n.DROP;if(!e.wantedTiles[r][t.getKey()])return n.DROP;var a=e.viewState.center,s=i[0]-a[0],l=i[1]-a[1];return 65536*Math.log(o)+Math.sqrt(s*s+l*l)/o}})),parcelRequire.register("5UFuy",(function(e,t){$parcel$export(e.exports,"DROP",(function(){return n})),$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("59Hdm"),i=parcelRequire("lOEcB"),n=1/0,o=function(){function e(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,i.clear(this.queuedElements_)},e.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,r=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},e.prototype.enqueue=function(e){r.assert(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=n&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(e){return 2*e+1},e.prototype.getRightChildIndex_=function(e){return 2*e+2},e.prototype.getParentIndex_=function(e){return e-1>>1},e.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},e.prototype.isEmpty=function(){return 0===this.elements_.length},e.prototype.isKeyQueued=function(e){return e in this.queuedElements_},e.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},e.prototype.siftUp_=function(e){for(var t=this.elements_,r=this.priorities_,i=t.length,n=t[e],o=r[e],a=e;e<i>>1;){var s=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),u=l<i&&r[l]<r[s]?l:s;t[e]=t[u],r[e]=r[u],e=u}t[e]=n,r[e]=o,this.siftDown_(a,e)},e.prototype.siftDown_=function(e,t){for(var r=this.elements_,i=this.priorities_,n=r[t],o=i[t];t>e;){var a=this.getParentIndex_(t);if(!(i[a]>o))break;r[t]=r[a],i[t]=i[a],t=a}r[t]=n,i[t]=o},e.prototype.reprioritize=function(){var e,t,r,i=this.priorityFunction_,o=this.elements_,a=this.priorities_,s=0,l=o.length;for(t=0;t<l;++t)(r=i(e=o[t]))==n?delete this.queuedElements_[this.keyFunction_(e)]:(a[s]=r,o[s++]=e);o.length=s,a.length=s,this.heapify_()},e}()})),parcelRequire.register("33OvO",(function(e,t){$parcel$export(e.exports,"createResolutionConstraint",(function(){return S}),(function(e){return S=e})),$parcel$export(e.exports,"createCenterConstraint",(function(){return C}),(function(e){return C=e})),$parcel$export(e.exports,"createRotationConstraint",(function(){return E}),(function(e){return E=e})),$parcel$export(e.exports,"isNoopAnimation",(function(){return q}),(function(e){return q=e})),$parcel$export(e.exports,"default",(function(){return I}),(function(e){return I=e}));var r,i=parcelRequire("5qZl6"),n=parcelRequire("hZjyb"),o=parcelRequire("56Kgw"),a=parcelRequire("lXvet"),s=parcelRequire("7pkTF"),l=parcelRequire("lxfkW"),u=parcelRequire("cR5xV"),c=(o=parcelRequire("56Kgw"),parcelRequire("c0LdP")),p=parcelRequire("akCpq"),d=parcelRequire("59Hdm"),h=parcelRequire("lOEcB"),f=parcelRequire("Bxwvs"),g=parcelRequire("8GG6h"),_=parcelRequire("bYFIY"),m=parcelRequire("cduh6"),v=(_=parcelRequire("bYFIY"),parcelRequire("hNRnK")),y=(p=parcelRequire("akCpq"),parcelRequire("geRS1")),x=(v=parcelRequire("hNRnK"),parcelRequire("l89p7")),b=parcelRequire("6kqrS"),w=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),R=function(e){function t(t){var r=e.call(this)||this;r.on,r.once,r.un;var i=h.assign({},t);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=u.createProjection(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,i.center&&(i.center=u.fromUserCoordinate(i.center,r.projection_)),i.extent&&(i.extent=u.fromUserExtent(i.extent,r.projection_)),r.applyOptions_(i),r}return w(t,e),t.prototype.applyOptions_=function(e){var t=h.assign({},e);for(var r in s.default)delete t[r];this.setProperties(t,!0);var i=S(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;var n=C(e),o=i.constraint,a=E(e);this.constraints_={center:n,resolution:o,rotation:a},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(e){var t=this.padding_;this.padding_=e;var r=this.getCenter();if(r){var i=e||[0,0,0,0];t=t||[0,0,0,0];var n=this.getResolution(),o=n/2*(i[3]-t[3]+t[1]-i[1]),a=n/2*(i[0]-t[0]+t[2]-i[2]);this.setCenterInternal([r[0]+o,r[1]-a])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(e){var t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),h.assign({},t,e)},t.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),r=0;r<t.length;++r){var i=arguments[r];i.center&&((i=h.assign({},i)).center=u.fromUserCoordinate(i.center,this.getProjection())),i.anchor&&((i=h.assign({},i)).anchor=u.fromUserCoordinate(i.anchor,this.getProjection())),t[r]=i}this.animateInternal.apply(this,t)},t.prototype.animateInternal=function(e){var t,r=arguments.length;r>1&&"function"==typeof arguments[r-1]&&(t=arguments[r-1],--r);for(var i=0;i<r&&!this.isDef();++i){var n=arguments[i];n.center&&this.setCenterInternal(n.center),void 0!==n.zoom?this.setZoom(n.zoom):n.resolution&&this.setResolution(n.resolution),void 0!==n.rotation&&this.setRotation(n.rotation)}if(i!==r){for(var o=Date.now(),s=this.targetCenter_.slice(),l=this.targetResolution_,u=this.targetRotation_,c=[];i<r;++i){var p=arguments[i],d={start:o,complete:!1,anchor:p.anchor,duration:void 0!==p.duration?p.duration:1e3,easing:p.easing||v.inAndOut,callback:t};if(p.center&&(d.sourceCenter=s,d.targetCenter=p.center.slice(),s=d.targetCenter),void 0!==p.zoom?(d.sourceResolution=l,d.targetResolution=this.getResolutionForZoom(p.zoom),l=d.targetResolution):p.resolution&&(d.sourceResolution=l,d.targetResolution=p.resolution,l=d.targetResolution),void 0!==p.rotation){d.sourceRotation=u;var h=g.modulo(p.rotation-u+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=u+h,u=d.targetRotation}q(d)?d.complete=!0:o+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(a.default.ANIMATING,1),this.updateAnimations_()}else t&&$(t,!0)},t.prototype.getAnimating=function(){return this.hints_[a.default.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[a.default.INTERACTING]>0},t.prototype.cancelAnimations=function(){var e;this.setHint(a.default.ANIMATING,-this.hints_[a.default.ANIMATING]);for(var t=0,r=this.animations_.length;t<r;++t){var i=this.animations_[t];if(i[0].callback&&$(i[0].callback,!1),!e)for(var n=0,o=i.length;n<o;++n){var s=i[n];if(!s.complete){e=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,r=this.animations_.length-1;r>=0;--r){for(var i=this.animations_[r],n=!0,o=0,s=i.length;o<s;++o){var l=i[o];if(!l.complete){var u=e-l.start,c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):n=!1;var p=l.easing(c);if(l.sourceCenter){var d=l.sourceCenter[0],h=l.sourceCenter[1],f=l.targetCenter[0],_=l.targetCenter[1];this.nextCenter_=l.targetCenter;var m=d+p*(f-d),v=h+p*(_-h);this.targetCenter_=[m,v]}if(l.sourceResolution&&l.targetResolution){var y=1===p?l.targetResolution:l.sourceResolution+p*(l.targetResolution-l.sourceResolution);if(l.anchor){var x=this.getViewportSize_(this.getRotation()),b=this.constraints_.resolution(y,0,x,!0);this.targetCenter_=this.calculateCenterZoom(b,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var w=1===p?g.modulo(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+p*(l.targetRotation-l.sourceRotation);if(l.anchor){var R=this.constraints_.rotation(w,!0);this.targetCenter_=this.calculateCenterRotate(R,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=w}if(this.applyTargetState_(!0),t=!0,!l.complete)break}}if(n){this.animations_[r]=null,this.setHint(a.default.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var C=i[0].callback;C&&$(C,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(e,t){var r,i=this.getCenterInternal();return void 0!==i&&(r=[i[0]-t[0],i[1]-t[1]],p.rotate(r,e-this.getRotation()),p.add(r,t)),r},t.prototype.calculateCenterZoom=function(e,t){var r,i=this.getCenterInternal(),n=this.getResolution();void 0!==i&&void 0!==n&&(r=[t[0]-e*(t[0]-i[0])/n,t[1]-e*(t[1]-i[1])/n]);return r},t.prototype.getViewportSize_=function(e){var t=this.viewportSize_;if(e){var r=t[0],i=t[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return t},t.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var e=this.getCenterInternal();return e?u.toUserCoordinate(e,this.getProjection()):e},t.prototype.getCenterInternal=function(){return this.get(s.default.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},t.prototype.calculateExtent=function(e){var t=this.calculateExtentInternal(e);return u.toUserExtent(t,this.getProjection())},t.prototype.calculateExtentInternal=function(e){var t=e||this.getViewportSizeMinusPadding_(),r=this.getCenterInternal();d.assert(r,1);var i=this.getResolution();d.assert(void 0!==i,2);var n=this.getRotation();return d.assert(void 0!==n,3),y.getForViewAndSize(r,i,n,t)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},t.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(s.default.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(e,t){return this.getResolutionForExtentInternal(u.fromUserExtent(e,this.getProjection()),t)},t.prototype.getResolutionForExtentInternal=function(e,t){var r=t||this.getViewportSizeMinusPadding_(),i=y.getWidth(e)/r[0],n=y.getHeight(e)/r[1];return Math.max(i,n)},t.prototype.getResolutionForValueFunction=function(e){var t=e||2,r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,n=Math.log(r/i)/Math.log(t);return function(e){return r/Math.pow(t,e*n)}},t.prototype.getRotation=function(){return this.get(s.default.ROTATION)},t.prototype.getValueForResolutionFunction=function(e){var t=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,n=Math.log(r/i)/t;return function(e){return Math.log(r/e)/t/n}},t.prototype.getViewportSizeMinusPadding_=function(e){var t=this.getViewportSize_(e),r=this.padding_;return r&&(t=[t[0]-r[1]-r[3],t[1]-r[0]-r[2]]),t},t.prototype.getState=function(){var e=this.getProjection(),t=this.getResolution(),r=this.getRotation(),i=this.getCenterInternal(),n=this.padding_;if(n){var o=this.getViewportSizeMinusPadding_();i=T(i,this.getViewportSize_(),[o[0]/2+n[3],o[1]/2+n[0]],t,r)}return{center:i.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}},t.prototype.getZoom=function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e},t.prototype.getZoomForResolution=function(e){var t,r,i=this.minZoom_||0;if(this.resolutions_){var n=x.linearFindNearest(this.resolutions_,e,1);i=n,t=this.resolutions_[n],r=n==this.resolutions_.length-1?2:t/this.resolutions_[n+1]}else t=this.maxResolution_,r=this.zoomFactor_;return i+Math.log(t/e)/Math.log(r)},t.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var t=g.clamp(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(r,g.clamp(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},t.prototype.fit=function(e,t){var r;if(d.assert(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e)){d.assert(!y.isEmpty(e),25);var i=u.fromUserExtent(e,this.getProjection());r=b.fromExtent(i)}else if(e.getType()===n.default.CIRCLE){i=u.fromUserExtent(e.getExtent(),this.getProjection());(r=b.fromExtent(i)).rotate(this.getRotation(),y.getCenter(i))}else{var o=u.getUserProjection();r=o?e.clone().transform(o,this.getProjection()):e}this.fitInternal(r,t)},t.prototype.rotatedExtentForGeometry=function(e){for(var t=this.getRotation(),r=Math.cos(t),i=Math.sin(-t),n=e.getFlatCoordinates(),o=e.getStride(),a=1/0,s=1/0,l=-1/0,u=-1/0,c=0,p=n.length;c<p;c+=o){var d=n[c]*r-n[c+1]*i,h=n[c]*i+n[c+1]*r;a=Math.min(a,d),s=Math.min(s,h),l=Math.max(l,d),u=Math.max(u,h)}return[a,s,l,u]},t.prototype.fitInternal=function(e,t){var r=t||{},i=r.size;i||(i=this.getViewportSizeMinusPadding_());var n,o=void 0!==r.padding?r.padding:[0,0,0,0],a=void 0!==r.nearest&&r.nearest;n=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.getResolutionForZoom(r.maxZoom):0;var s=this.rotatedExtentForGeometry(e),l=this.getResolutionForExtentInternal(s,[i[0]-o[1]-o[3],i[1]-o[0]-o[2]]);l=isNaN(l)?n:Math.max(l,n),l=this.getConstrainedResolution(l,a?0:1);var u=this.getRotation(),p=Math.sin(u),d=Math.cos(u),h=y.getCenter(s);h[0]+=(o[1]-o[3])/2*l,h[1]+=(o[0]-o[2])/2*l;var f=h[0]*d-h[1]*p,g=h[1]*d+h[0]*p,_=this.getConstrainedCenter([f,g],l),m=r.callback?r.callback:c.VOID;void 0!==r.duration?this.animateInternal({resolution:l,center:_,duration:r.duration,easing:r.easing},m):(this.targetResolution_=l,this.targetCenter_=_,this.applyTargetState_(!1,!0),$(m,!0))},t.prototype.centerOn=function(e,t,r){this.centerOnInternal(u.fromUserCoordinate(e,this.getProjection()),t,r)},t.prototype.centerOnInternal=function(e,t,r){this.setCenterInternal(T(e,t,r,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(e,t,r,i){var n,o=this.padding_;if(o&&e){var a=this.getViewportSizeMinusPadding_(-r),s=T(e,i,[a[0]/2+o[3],a[1]/2+o[0]],t,r);n=[e[0]-s[0],e[1]-s[1]]}return n},t.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},t.prototype.adjustCenter=function(e){var t=u.toUserCoordinate(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])},t.prototype.adjustCenterInternal=function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])},t.prototype.adjustResolution=function(e,t){var r=t&&u.fromUserCoordinate(t,this.getProjection());this.adjustResolutionInternal(e,r)},t.prototype.adjustResolutionInternal=function(e,t){var r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(this.targetResolution_*e,0,i,r);t&&(this.targetCenter_=this.calculateCenterZoom(n,t)),this.targetResolution_*=e,this.applyTargetState_()},t.prototype.adjustZoom=function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)},t.prototype.adjustRotation=function(e,t){t&&(t=u.fromUserCoordinate(t,this.getProjection())),this.adjustRotationInternal(e,t)},t.prototype.adjustRotationInternal=function(e,t){var r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);t&&(this.targetCenter_=this.calculateCenterRotate(i,t)),this.targetRotation_+=e,this.applyTargetState_()},t.prototype.setCenter=function(e){this.setCenterInternal(u.fromUserCoordinate(e,this.getProjection()))},t.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},t.prototype.setHint=function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]},t.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},t.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},t.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.prototype.applyTargetState_=function(e,t){var r=this.getAnimating()||this.getInteracting()||t,i=this.constraints_.rotation(this.targetRotation_,r),n=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,n,r),a=this.constraints_.center(this.targetCenter_,o,n,r,this.calculateCenterShift(this.targetCenter_,o,i,n));this.get(s.default.ROTATION)!==i&&this.set(s.default.ROTATION,i),this.get(s.default.RESOLUTION)!==o&&(this.set(s.default.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),a&&this.get(s.default.CENTER)&&p.equals(this.get(s.default.CENTER),a)||this.set(s.default.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(e,t,r){var i=void 0!==e?e:200,n=t||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,n,a),l=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,o,a));if(0===i&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=l,void this.applyTargetState_();var u=r||(0===i?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&p.equals(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:s,duration:i,easing:v.easeOut,anchor:u}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(a.default.INTERACTING,1)},t.prototype.endInteraction=function(e,t,r){var i=r&&u.fromUserCoordinate(r,this.getProjection());this.endInteractionInternal(e,t,i)},t.prototype.endInteractionInternal=function(e,t,r){this.setHint(a.default.INTERACTING,-1),this.resolveConstraints(e,t,r)},t.prototype.getConstrainedCenter=function(e,t){var r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),r)},t.prototype.getConstrainedZoom=function(e,t){var r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,t))},t.prototype.getConstrainedResolution=function(e,t){var r=t||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,r,i)},t}(i.default);function $(e,t){setTimeout((function(){e(t)}),0)}function C(e){if(void 0!==e.extent){var t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return f.createExtent(e.extent,e.constrainOnlyCenter,t)}var r=u.createProjection(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&r.isGlobal()){var i=r.getExtent().slice();return i[0]=-1/0,i[2]=1/0,f.createExtent(i,!1,!1)}return f.none}function S(e){var t,r,i,n=void 0!==e.minZoom?e.minZoom:0,a=void 0!==e.maxZoom?e.maxZoom:28,s=void 0!==e.zoomFactor?e.zoomFactor:2,c=void 0!==e.multiWorld&&e.multiWorld,p=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,d=void 0!==e.showFullExtent&&e.showFullExtent,h=u.createProjection(e.projection,"EPSG:3857"),f=h.getExtent(),g=e.constrainOnlyCenter,m=e.extent;if(c||m||!h.isGlobal()||(g=!1,m=f),void 0!==e.resolutions){var v=e.resolutions;r=v[n],i=void 0!==v[a]?v[a]:v[v.length-1],t=e.constrainResolution?_.createSnapToResolutions(v,p,!g&&m,d):_.createMinMaxResolution(r,i,p,!g&&m,d)}else{var x=(f?Math.max(y.getWidth(f),y.getHeight(f)):360*o.METERS_PER_UNIT[o.default.DEGREES]/h.getMetersPerUnit())/l.DEFAULT_TILE_SIZE/Math.pow(2,0),b=x/Math.pow(2,28);void 0!==(r=e.maxResolution)?n=0:r=x/Math.pow(s,n),void 0===(i=e.minResolution)&&(i=void 0!==e.maxZoom?void 0!==e.maxResolution?r/Math.pow(s,a):x/Math.pow(s,a):b),a=n+Math.floor(Math.log(r/i)/Math.log(s)),i=r/Math.pow(s,a-n),t=e.constrainResolution?_.createSnapToPower(s,r,i,p,!g&&m,d):_.createMinMaxResolution(r,i,p,!g&&m,d)}return{constraint:t,maxResolution:r,minResolution:i,minZoom:n,zoomFactor:s}}function E(e){if(void 0===e.enableRotation||e.enableRotation){var t=e.constrainRotation;return void 0===t||!0===t?m.createSnapToZero():!1===t?m.none:"number"==typeof t?m.createSnapToN(t):m.none}return m.disable}function q(e){return!(e.sourceCenter&&e.targetCenter&&!p.equals(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}function T(e,t,r,i,n){var o=Math.cos(-n),a=Math.sin(-n),s=e[0]*o-e[1]*a,l=e[1]*o+e[0]*a;return[(s+=(t[0]/2-r[0])*i)*o-(l+=(r[1]-t[1]/2)*i)*(a=-a),l*o+s*a]}var I=R})),parcelRequire.register("7pkTF",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}})),parcelRequire.register("Bxwvs",(function(e,t){$parcel$export(e.exports,"createExtent",(function(){return i})),$parcel$export(e.exports,"none",(function(){return n}));var r=parcelRequire("8GG6h");function i(e,t,i){return function(n,o,a,s,l){if(n){var u=t?0:a[0]*o,c=t?0:a[1]*o,p=l?l[0]:0,d=l?l[1]:0,h=e[0]+u/2+p,f=e[2]-u/2+p,g=e[1]+c/2+d,_=e[3]-c/2+d;h>f&&(f=h=(f+h)/2),g>_&&(_=g=(_+g)/2);var m=r.clamp(n[0],h,f),v=r.clamp(n[1],g,_),y=30*o;return s&&i&&(m+=-y*Math.log(1+Math.max(0,h-n[0])/y)+y*Math.log(1+Math.max(0,n[0]-f)/y),v+=-y*Math.log(1+Math.max(0,g-n[1])/y)+y*Math.log(1+Math.max(0,n[1]-_)/y)),[m,v]}}}function n(e){return e}})),parcelRequire.register("bYFIY",(function(e,t){$parcel$export(e.exports,"createSnapToResolutions",(function(){return s})),$parcel$export(e.exports,"createSnapToPower",(function(){return l})),$parcel$export(e.exports,"createMinMaxResolution",(function(){return u}));var r=parcelRequire("8GG6h"),i=parcelRequire("geRS1"),n=parcelRequire("l89p7");function o(e,t,r,n){var o=i.getWidth(t)/r[0],a=i.getHeight(t)/r[1];return n?Math.min(e,Math.max(o,a)):Math.min(e,Math.min(o,a))}function a(e,t,i){var n=Math.min(e,t);return n*=Math.log(1+50*Math.max(0,e/t-1))/50+1,i&&(n=Math.max(n,i),n/=Math.log(1+50*Math.max(0,i/e-1))/50+1),r.clamp(n,i/2,2*t)}function s(e,t,i,s){return function(l,u,c,p){if(void 0!==l){var d=e[0],h=e[e.length-1],f=i?o(d,i,c,s):d;if(p)return void 0===t||t?a(l,f,h):r.clamp(l,h,f);var g=Math.min(f,l),_=Math.floor(n.linearFindNearest(e,g,u));return e[_]>f&&_<e.length-1?e[_+1]:e[_]}}}function l(e,t,i,n,s,l){return function(u,c,p,d){if(void 0!==u){var h=s?o(t,s,p,l):t,f=void 0!==i?i:0;if(d)return void 0===n||n?a(u,h,f):r.clamp(u,f,h);var g=Math.ceil(Math.log(t/h)/Math.log(e)-1e-9),_=-c*(.5-1e-9)+.5,m=Math.min(h,u),v=Math.floor(Math.log(t/m)/Math.log(e)+_),y=Math.max(g,v),x=t/Math.pow(e,y);return r.clamp(x,f,h)}}}function u(e,t,i,n,s){return function(l,u,c,p){if(void 0!==l){var d=n?o(e,n,c,s):e;return(void 0===i||i)&&p?a(l,d,t):r.clamp(l,t,d)}}}})),parcelRequire.register("idLDx",(function(e,t){$parcel$export(e.exports,"defaults",(function(){return a})),$parcel$export(e.exports,"MousePosition",(function(){return parcelRequire("4POnq").default}));var r=parcelRequire("kq7i0"),i=parcelRequire("5kGze"),n=parcelRequire("28tY6"),o=parcelRequire("5Ui9z");r=parcelRequire("kq7i0"),parcelRequire("4POnq"),n=parcelRequire("28tY6"),o=parcelRequire("5Ui9z");function a(e){var t=e||{},a=new i.default;return(void 0===t.zoom||t.zoom)&&a.push(new o.default(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&a.push(new n.default(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&a.push(new r.default(t.attributionOptions)),a}})),parcelRequire.register("kq7i0",(function(e,t){$parcel$export(e.exports,"default",(function(){return c}),(function(e){return c=e}));var r,i=parcelRequire("4nGvt"),n=parcelRequire("7Ry8n"),o=parcelRequire("889Bv"),a=parcelRequire("l89p7"),s=parcelRequire("khniA"),l=parcelRequire("1Rvcq"),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),c=function(e){function t(t){var r=this,i=t||{};(r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),r.collapsed_=void 0===i.collapsed||i.collapsed,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=void 0!==i.collapsible,r.collapsible_=void 0===i.collapsible||i.collapsible,r.collapsible_||(r.collapsed_=!1);var a=void 0!==i.className?i.className:"ol-attribution",s=void 0!==i.tipLabel?i.tipLabel:"Attributions",l=void 0!==i.expandClassName?i.expandClassName:a+"-expand",u=void 0!==i.collapseLabel?i.collapseLabel:"›",c=void 0!==i.collapseClassName?i.collapseClassName:a+"-collpase";"string"==typeof u?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=u,r.collapseLabel_.className=c):r.collapseLabel_=u;var p=void 0!==i.label?i.label:"i";"string"==typeof p?(r.label_=document.createElement("span"),r.label_.textContent=p,r.label_.className=l):r.label_=p;var d=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=s,r.toggleButton_.appendChild(d),r.toggleButton_.addEventListener(n.default.CLICK,r.handleClick_.bind(r),!1);var h=a+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL+(r.collapsed_&&r.collapsible_?" "+o.CLASS_COLLAPSED:"")+(r.collapsible_?"":" ol-uncollapsible"),f=r.element;return f.className=h,f.appendChild(r.toggleButton_),f.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return u(t,e),t.prototype.collectSourceAttributions_=function(e){for(var t={},r=[],i=!0,n=e.layerStatesArray,o=0,a=n.length;o<a;++o){var l=n[o];if(s.inView(l,e.viewState)){var u=l.layer.getSource();if(u){var c=u.getAttributions();if(c){var p=c(e);if(p)if(i=i&&!1!==u.getAttributionsCollapsible(),Array.isArray(p))for(var d=0,h=p.length;d<h;++d)p[d]in t||(r.push(p[d]),t[p[d]]=!0);else p in t||(r.push(p),t[p]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),r},t.prototype.updateElement_=function(e){if(e){var t=this.collectSourceAttributions_(e),r=t.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!a.equals(t,this.renderedAttributions_)){l.removeChildren(this.ulElement_);for(var i=0,n=t.length;i<n;++i){var o=document.createElement("li");o.innerHTML=t[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(o.CLASS_COLLAPSED),this.collapsed_?l.replaceNode(this.collapseLabel_,this.label_):l.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(e){this.updateElement_(e.frameState)},t}(i.default)})),parcelRequire.register("28tY6",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}),(function(e){return l=e}));var r,i=parcelRequire("4nGvt"),n=parcelRequire("7Ry8n"),o=parcelRequire("889Bv"),a=parcelRequire("hNRnK"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l=function(e){function t(t){var r=this,i=t||{};r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var a=void 0!==i.className?i.className:"ol-rotate",s=void 0!==i.label?i.label:"⇧",l=void 0!==i.compassClassName?i.compassClassName:"ol-compass";r.label_=null,"string"==typeof s?(r.label_=document.createElement("span"),r.label_.className=l,r.label_.textContent=s):(r.label_=s,r.label_.classList.add(l));var u=i.tipLabel?i.tipLabel:"Reset rotation",c=document.createElement("button");c.className=a+"-reset",c.setAttribute("type","button"),c.title=u,c.appendChild(r.label_),c.addEventListener(n.default.CLICK,r.handleClick_.bind(r),!1);var p=a+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL,d=r.element;return d.className=p,d.appendChild(c),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=void 0!==i.duration?i.duration:250,r.autoHide_=void 0===i.autoHide||i.autoHide,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(o.CLASS_HIDDEN),r}return s(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var e=this.getMap().getView();if(e){var t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:a.easeOut}):e.setRotation(0))}},t.prototype.render=function(e){var t=e.frameState;if(t){var r=t.viewState.rotation;if(r!=this.rotation_){var i="rotate("+r+"rad)";if(this.autoHide_){var n=this.element.classList.contains(o.CLASS_HIDDEN);n||0!==r?n&&0!==r&&this.element.classList.remove(o.CLASS_HIDDEN):this.element.classList.add(o.CLASS_HIDDEN)}this.label_.style.transform=i}this.rotation_=r}},t}(i.default)})),parcelRequire.register("5Ui9z",(function(e,t){$parcel$export(e.exports,"default",(function(){return l}),(function(e){return l=e}));var r,i=parcelRequire("4nGvt"),n=parcelRequire("7Ry8n"),o=parcelRequire("889Bv"),a=parcelRequire("hNRnK"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l=function(e){function t(t){var r=this,i=t||{};r=e.call(this,{element:document.createElement("div"),target:i.target})||this;var a=void 0!==i.className?i.className:"ol-zoom",s=void 0!==i.delta?i.delta:1,l=void 0!==i.zoomInClassName?i.zoomInClassName:a+"-in",u=void 0!==i.zoomOutClassName?i.zoomOutClassName:a+"-out",c=void 0!==i.zoomInLabel?i.zoomInLabel:"+",p=void 0!==i.zoomOutLabel?i.zoomOutLabel:"–",d=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",h=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=l,f.setAttribute("type","button"),f.title=d,f.appendChild("string"==typeof c?document.createTextNode(c):c),f.addEventListener(n.default.CLICK,r.handleClick_.bind(r,s),!1);var g=document.createElement("button");g.className=u,g.setAttribute("type","button"),g.title=h,g.appendChild("string"==typeof p?document.createTextNode(p):p),g.addEventListener(n.default.CLICK,r.handleClick_.bind(r,-s),!1);var _=a+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL,m=r.element;return m.className=_,m.appendChild(f),m.appendChild(g),r.duration_=void 0!==i.duration?i.duration:250,r}return s(t,e),t.prototype.handleClick_=function(e,t){t.preventDefault(),this.zoomByDelta_(e)},t.prototype.zoomByDelta_=function(e){var t=this.getMap().getView();if(t){var r=t.getZoom();if(void 0!==r){var i=t.getConstrainedZoom(r+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:i,duration:this.duration_,easing:a.easeOut})):t.setZoom(i)}}},t}(i.default)})),parcelRequire.register("4POnq",(function(e,t){$parcel$export(e.exports,"default",(function(){return c}),(function(e){return c=e}));var r,i=parcelRequire("4nGvt"),n=parcelRequire("6FTUl"),o=parcelRequire("cR5xV"),a=parcelRequire("9eKdp"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l="projection",u="coordinateFormat",c=function(e){function t(t){var r=this,i=t||{},n=document.createElement("div");n.className=void 0!==i.className?i.className:"ol-mouse-position",(r=e.call(this,{element:n,render:i.render,target:i.target})||this).on,r.once,r.un,r.addChangeListener(l,r.handleProjectionChanged_),i.coordinateFormat&&r.setCoordinateFormat(i.coordinateFormat),i.projection&&r.setProjection(i.projection);var o=!0,a="&#160;";return"undefinedHTML"in i?(void 0!==i.undefinedHTML&&(a=i.undefinedHTML),o=!!a):"placeholder"in i&&(!1===i.placeholder?o=!1:a=String(i.placeholder)),r.placeholder_=a,r.renderOnMouseOut_=o,r.renderedHTML_=n.innerHTML,r.mapProjection_=null,r.transform_=null,r}return s(t,e),t.prototype.handleProjectionChanged_=function(){this.transform_=null},t.prototype.getCoordinateFormat=function(){return this.get(u)},t.prototype.getProjection=function(){return this.get(l)},t.prototype.handleMouseMove=function(e){var t=this.getMap();this.updateHTML_(t.getEventPixel(e))},t.prototype.handleMouseOut=function(e){this.updateHTML_(null)},t.prototype.setMap=function(t){if(e.prototype.setMap.call(this,t),t){var r=t.getViewport();this.listenerKeys.push(a.listen(r,n.default.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(a.listen(r,n.default.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},t.prototype.setCoordinateFormat=function(e){this.set(u,e)},t.prototype.setProjection=function(e){this.set(l,o.get(e))},t.prototype.updateHTML_=function(e){var t=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){var r=this.getProjection();this.transform_=r?o.getTransformFromProjections(this.mapProjection_,r):o.identityTransform}var i=this.getMap().getCoordinateFromPixelInternal(e);if(i){var n=o.getUserProjection();n&&(this.transform_=o.getTransformFromProjections(this.mapProjection_,n)),this.transform_(i,i);var a=this.getCoordinateFormat();t=a?a(i):i.toString()}}this.renderedHTML_&&t===this.renderedHTML_||(this.element.innerHTML=t,this.renderedHTML_=t)},t.prototype.render=function(e){var t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null},t}(i.default)}));var $04b306fb87c1b312$exports={};parcelRequire("2ahYJ").register(JSON.parse('{"2x8rS":"1709f2db.js","2j07d":"a82ea1b7.js","1MMSY":"58086a6e.gif","8jyKi":"c1fd13d2.webp","7YuOs":"479acf75.webp","bOM9e":"ae4b2d84.webp","iEyNo":"33f2808a.webp","bGgGd":"ac9f67f7.bmp","1kwzG":"5bd29e7b.webp","dqRlR":"c3c01deb.webp","4wTpL":"9d8bf345.webp","lGY2g":"55f66056.webp","hR4ZM":"a5d185a4.webp","7ysDu":"32ca4e7d.webp","5h026":"06651b4e_left.jpeg","afySb":"f9f1237e_right.jpeg"}')),globalThis.tp=null,globalThis.webix=null,parcelRequire("4mg7O").then((e=>{globalThis.webix=e,e.Date.startOnMonday=!0;let t=parcelRequire("8ibmv");var r=t.showErrorMsg;globalThis.rotateImage=t.rotateImage,globalThis.onImageError=t.onImageError,globalThis.showFullSizeImage=t.showFullSizeImage,globalThis.__=$96b2fe13a128c6e3$export$451eec6dcdb220d6,e.ajax().get("api/settings.json").then((function(e){let t=e.json(" ");t.disclaimer=t.disclaimer.join(),globalThis.appdata={...t,path:null,dbparams:null,querystring:null,wmsUrl:null,wfsUrl:null,mosaic:!1,basedata:{tiles100k:!1,roads:!1,rivers:!1,villages:!1},timeline:!1,sridTooltip:null,imageTooltip:null,rrr:null,sridTooltip:null,imageTooltip:null},appdata.lang=localStorage.getItem("appLang")||appdata.lang,appdata.sridTooltip=`${__("Value calculated using")} SRID: <span class="srid">${appdata.srid}</span>`,appdata.imageTooltip=`Ctrl+Click &rarr; '${__("Rotate")}\nDouble-Click &rarr; ${__("View Image")}`}));let i=["websdk.min","fingerprint.sdk.min"];for(let e of i){let t=document.createElement("script");t.src=`./api/scripts/${e}.js`,t.type="text/javascript",t.async=!1,document.head.appendChild(t)}e.ready((function(){e.ajax().get("./api/tools/params/").then((function(e){e.json().success?n(e.json()):r(null,e.json().message)}),(e=>{r(e,"")}))}));const n=t=>{appdata.path=t.path,appdata.dbparams=t.params,appdata.dbparams.database=localStorage.getItem("appDatabase")||appdata.dbparams.database,e.ui(parcelRequire("jbnwp").NavView)}}));